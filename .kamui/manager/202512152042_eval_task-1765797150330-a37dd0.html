<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆ</title>
    <style>
      body {
        font-family: "Hiragino Sans", "Noto Sans JP", system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
        line-height: 1.6;
        margin: 24px;
        background-color: #e9f0f2;
        color: #1f2a30;
      }
      .monitor-wrapper {
        max-width: 1180px;
        margin: 0 auto;
        padding: 32px;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      .monitor-header {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 24px;
      }
      .monitor-title {
        font-size: 26px;
        font-weight: 700;
        letter-spacing: 0.04em;
        color: #1f2a30;
        margin: 0;
      }
      .monitor-description {
        font-size: 13px;
        color: #3a4b53;
        margin: 0;
      }
      .score-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
        gap: 12px;
        margin: 16px 0 24px;
      }
      .score-card {
        border: 1px solid #c4d3d7;
        background: #eef3f4;
        padding: 14px;
      }
      .score-card-title {
        font-size: 12px;
        color: #3a4b53;
        margin-bottom: 8px;
      }
      .score-card-score {
        font-size: 22px;
        font-weight: 800;
        letter-spacing: 0.02em;
        color: #1f2a30;
        margin-bottom: 4px;
      }
      .score-card-sub {
        font-size: 12px;
        color: #3a4b53;
        margin-bottom: 8px;
      }
      .score-card-branch {
        font-size: 11px;
        color: #3a4b53;
      }

      table.monitor-report {
        width: 100%;
        border-collapse: collapse;
        table-layout: fixed;
        background: #ffffff;
        border: 1px solid #c4d3d7;
      }
      col.timestamp-column {
        width: 180px;
      }
      col.agent-column {
        width: calc((100% - 180px) / 5);
      }
      th,
      td {
        border: 1px solid #c4d3d7;
        padding: 14px;
        vertical-align: top;
        background-color: #ffffff;
      }
      th {
        background: #d8e6e9;
        text-align: left;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #2c3a40;
      }
      tbody tr:nth-child(even) td {
        background-color: #eef3f4;
      }
      details {
        display: block;
        margin: 0;
      }
      details summary {
        list-style: none;
      }
      details[open] summary {
        margin-bottom: 12px;
      }
      .details-toggle {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        cursor: pointer;
        font-weight: 600;
        font-size: 12px;
        color: #1f2a30;
        padding: 0;
        background: transparent;
        border: none;
      }
      .details-toggle::before {
        content: "â–¶";
        font-size: 10px;
        transition: transform 160ms ease;
        display: inline-block;
      }
      details[open] .details-toggle::before {
        transform: rotate(90deg);
      }
      .timestamp {
        font-weight: 700;
        color: #2c3a40;
        overflow-wrap: anywhere;
        font-size: 13px;
      }
      pre {
        white-space: pre-wrap;
        word-break: break-word;
        margin: 0;
        font-size: 11px;
        line-height: 1.55;
        color: #1f2a30;
        background: #f2f6f7;
        border: 1px solid #c4d3d7;
        padding: 12px;
      }
      code {
        font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        font-size: 11px;
      }
      .status-badge {
        display: inline-block;
        font-size: 10px;
        font-weight: 800;
        letter-spacing: 0.02em;
        padding: 1px 6px;
        background: #d8e6e9;
        border: 1px solid #b8c9cd;
        color: #1f2a30;
        white-space: nowrap;
        line-height: 1.3;
        vertical-align: top;
      }
      .status-badge--planning {
        background: #fff4d9;
        border-color: #f5e8b8;
      }
      .status-badge--completed {
        background: #c3d4d8;
        border-color: #aabfc5;
      }
      .status-badge--error {
        background: #f8d7da;
        border-color: #f1aeb5;
      }
      .agent-meta {
        display: block;
        margin-bottom: 10px;
        line-height: 1.5;
      }
      .agent-meta .status-badge {
        margin-right: 6px;
      }
      .agent-meta .agent-label {
        display: inline;
        font-size: 12px;
        color: #3a4b53;
      }
      .agent-block {
        display: grid;
        gap: 12px;
      }
      .score-strong {
        font-size: 14px;
        color: #1f2a30;
      }
      .hex-wrap {
        display: grid;
        grid-template-columns: 150px 1fr;
        gap: 10px;
        align-items: center;
      }
      .hex {
        border: 1px solid #c4d3d7;
        background: #ffffff;
      }
      ul.metrics {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 4px;
      }
      ul.metrics li {
        display: flex;
        justify-content: space-between;
        gap: 8px;
        font-size: 11px;
        color: #2c3a40;
        border-bottom: 1px dashed rgba(196, 211, 215, 0.8);
        padding-bottom: 2px;
      }
      .metric-name {
        font-weight: 600;
      }
      .metric-score {
        color: #3a4b53;
      }
      .reasons {
        display: grid;
        gap: 8px;
      }
      .reason {
        border: 1px solid #c4d3d7;
        background: #ffffff;
        padding: 10px;
      }
      .reason-title {
        font-size: 12px;
        font-weight: 700;
        color: #1f2a30;
        margin-bottom: 4px;
      }
      .reason-body {
        font-size: 12px;
        color: #3a4b53;
      }
      .agent-links {
        border: 1px solid #c4d3d7;
        background: #ffffff;
        padding: 10px;
        font-size: 12px;
        color: #3a4b53;
        display: grid;
        gap: 6px;
      }
      .agent-links .kv {
        display: inline-block;
        min-width: 70px;
        font-weight: 700;
        color: #2c3a40;
      }
      .muted {
        color: #7b8a91;
      }
      .disq {
        border: 1px solid #f1aeb5;
        background: #f8d7da;
        padding: 10px;
        font-size: 12px;
        color: #842029;
      }
      a {
        color: #165e83;
        text-decoration: none;
      }
      a:hover {
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <div class="monitor-wrapper">
      <header class="monitor-header">
        <h1 class="monitor-title">è©•ä¾¡ãƒ¬ãƒãƒ¼ãƒˆï¼ˆå’Œãƒ¢ãƒ€ãƒ³ Ã— ç¾ä»£ãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰</h1>
        <p class="monitor-description">
          ã‚¿ã‚¹ã‚¯: ã€Œã“ã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚’æŠœæœ¬çš„ã«å¤‰ãˆãŸã„ã€‚ç¾ä»£ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’å–ã‚Šå…¥ã‚Œã¦å’Œã®ãƒ‡ã‚¶ã‚¤ãƒ³ã§å®Ÿè£…ã€<br />
          ç›£è¦–å¯¾è±¡ãƒ–ãƒ©ãƒ³ãƒ5æœ¬ã® <code>git log</code> / <code>git diff</code> ã¨worktreeçŠ¶æ…‹ã‚’å‚ç…§ã—ã€UI/UXã¨ä¸–ç•Œè¦³ã‚’ä¸­å¿ƒã«6æŒ‡æ¨™ï¼ˆ600ç‚¹æº€ç‚¹ï¼‰ã§æ¡ç‚¹ã—ã¾ã—ãŸã€‚<br />
          æˆæœç‰©ãƒªãƒ³ã‚¯ã¯ <code>.worktrees/</code> é…ä¸‹ã®å„worktreeã‚’å‚ç…§ã—ã¾ã™ï¼ˆã“ã®HTMLè‡ªä½“ã¯ãƒªãƒã‚¸ãƒˆãƒªãƒ«ãƒ¼ãƒˆã® <code>.kamui/manager</code> ã«ä¿å­˜ï¼‰ã€‚
        </p>
        <div class="score-grid">
          <div class="score-card"><div class="score-card-title">Agent <code>task-1765797142878-333e74</code></div><div class="score-card-score">ğŸ¥ˆ 452/600</div><div class="score-card-sub">ãƒ¡ãƒ€ãƒ« âšªï¸ / 75/100</div><div class="score-card-branch"><code>task/task-1765797142878-333e74</code></div></div><div class="score-card"><div class="score-card-title">Agent <code>task-1765797143479-027b85</code></div><div class="score-card-score">âŒ 0/600</div><div class="score-card-sub">ãƒ¡ãƒ€ãƒ« âšªï¸ / 0/100</div><div class="score-card-branch"><code>task/task-1765797143479-027b85</code></div></div><div class="score-card"><div class="score-card-title">Agent <code>task-1765797143279-8f775a</code></div><div class="score-card-score">ğŸ¥ˆ 474/600</div><div class="score-card-sub">ãƒ¡ãƒ€ãƒ« ğŸ¥ˆ / 79/100</div><div class="score-card-branch"><code>task/task-1765797143279-8f775a</code></div></div><div class="score-card"><div class="score-card-title">Agent <code>task-1765797142677-6fe497</code></div><div class="score-card-score">ğŸ¥ˆ 468/600</div><div class="score-card-sub">ãƒ¡ãƒ€ãƒ« ğŸ¥‰ / 78/100</div><div class="score-card-branch"><code>task/task-1765797142677-6fe497</code></div></div><div class="score-card"><div class="score-card-title">Agent <code>task-1765797143095-0fe2ce</code></div><div class="score-card-score">ğŸ¥‡ 502/600</div><div class="score-card-sub">ãƒ¡ãƒ€ãƒ« ğŸ¥‡ / 84/100</div><div class="score-card-branch"><code>task/task-1765797143095-0fe2ce</code></div></div>
        </div>
      </header>

      <table class="monitor-report">
        <colgroup>
          <col class="timestamp-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
          <col class="agent-column" />
        </colgroup>
        <thead>
          <tr>
            <th>Timestamp</th>
            <th>Agent task-1765797142878-333e74</th>
            <th>Agent task-1765797143479-027b85</th>
            <th>Agent task-1765797143279-8f775a</th>
            <th>Agent task-1765797142677-6fe497</th>
            <th>Agent task-1765797143095-0fe2ce</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="timestamp">2025-12-15 20:42</td>
            <td><div class="agent-meta"><span class="status-badge status-badge--completed">è©•ä¾¡å®Œäº†</span><span class="agent-label">ç·åˆ <strong class="score-strong">452/600</strong> ğŸ¥ˆ / ãƒ¡ãƒ€ãƒ« <strong>âšªï¸</strong>ï¼ˆ75/100ï¼‰</span></div><div class="agent-meta"><span class="status-badge status-badge--planning">æ³¨æ„</span><span class="agent-label">æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ã‚ã‚Š: <code>M App.tsx
 M components/Experience.tsx
 M components/LazyVideo.tsx
 M components/MountainWorld.tsx</code></span></div><div class="agent-block"><div class="hex-wrap"><svg class="hex" width="150" height="150" viewBox="0 0 150 150" role="img" aria-label="6æŒ‡æ¨™ å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆ"><polygon points="75.00,62.00 86.26,68.50 86.26,81.50 75.00,88.00 63.74,81.50 63.74,68.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,49.00 97.52,62.00 97.52,88.00 75.00,101.00 52.48,88.00 52.48,62.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,36.00 108.77,55.50 108.77,94.50 75.00,114.00 41.23,94.50 41.23,55.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,23.00 120.03,49.00 120.03,101.00 75.00,127.00 29.97,101.00 29.97,49.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,10.00 131.29,42.50 131.29,107.50 75.00,140.00 18.71,107.50 18.71,42.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/><polygon points="75.00,37.30 112.15,53.55 114.40,97.75 75.00,132.20 27.72,102.30 26.59,47.05" fill="rgba(22,94,131,0.22)" stroke="rgba(22,94,131,0.55)" stroke-width="2"/></svg><ul class="metrics"><li><span class="metric-name">UI/UX</span><span class="metric-score">58ç‚¹</span></li><li><span class="metric-name">ä¸–ç•Œè¦³</span><span class="metric-score">66ç‚¹</span></li><li><span class="metric-name">æƒ…å ±è¨­è¨ˆ</span><span class="metric-score">70ç‚¹</span></li><li><span class="metric-name">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span><span class="metric-score">88ç‚¹</span></li><li><span class="metric-name">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span><span class="metric-score">84ç‚¹</span></li><li><span class="metric-name">ã‚³ãƒ¼ãƒ‰å“è³ª</span><span class="metric-score">86ç‚¹</span></li></ul></div><div class="agent-links"><div><span class="kv">Branch</span> <code>task/task-1765797142878-333e74</code></div><div><span class="kv">HEAD</span> <code>a7e92b1</code>ï¼ˆmainã‹ã‚‰3ã‚³ãƒŸãƒƒãƒˆï¼‰</div><div><span class="kv">Worktree</span> <a href="../../.worktrees/task-1765797142878-333e74">../../.worktrees/task-1765797142878-333e74</a></div><div><span class="kv">æˆæœç‰©</span> <a href="../../.worktrees/task-1765797142878-333e74/index.html">index.html</a></div></div><div class="reasons"><div class="reason"><div class="reason-title">UI/UX 58ç‚¹</div><div class="reason-body">ä¸»ã«åŸºç›¤æ•´å‚™ï¼ˆTailwind v4å°å…¥/ãƒ†ãƒ¼ãƒå®šç¾©ï¼‰ã§ã€ç”»é¢ä½“é¨“ã®åˆ·æ–°ã¯é™å®šçš„ã€‚</div></div><div class="reason"><div class="reason-title">ä¸–ç•Œè¦³ 66ç‚¹</div><div class="reason-body">å’Œé…è‰²ï¼ˆink/washi/beni/ai/goldï¼‰ã¨ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆshoji/washi surfaceï¼‰ã‚’ç”¨æ„ã—ã¦ã„ã‚‹ãŒã€ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®é©ç”¨ãŒã“ã‚Œã‹ã‚‰ã€‚</div></div><div class="reason"><div class="reason-title">æƒ…å ±è¨­è¨ˆ 70ç‚¹</div><div class="reason-body">å¤§ããªå¤‰æ›´ã¯å°‘ãªã„ãŒã€`meta description`è¿½åŠ ãªã©æœ€ä½é™ã®æ•´å‚™ã¯è‰¯ã„ã€‚</div></div><div class="reason"><div class="reason-title">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 88ç‚¹</div><div class="reason-body">`prefers-reduced-motion` ã‚’æ˜ç¢ºã«å…¥ã‚Œã¦ãŠã‚Šã€ãƒ™ãƒ¼ã‚¹å±¤ã®é…æ…®ãŒå¼·ã„ã€‚</div></div><div class="reason"><div class="reason-title">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ 84ç‚¹</div><div class="reason-body">Tailwind CDNä¾å­˜ã‚’æ¸›ã‚‰ã—ã€Vite + Tailwind v4ã§è‡ªå·±å®Œçµã—ã‚„ã™ã„ï¼ˆãŸã ã—ä¾å­˜æ›´æ–°ã®å½±éŸ¿ç¯„å›²ã¯å¤§ãã„ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ã‚³ãƒ¼ãƒ‰å“è³ª 86ç‚¹</div><div class="reason-body">Tailwind v4ã®`@theme`/`@source`ã‚’ä½¿ã£ãŸè¨­è¨ˆãŒç¾ä»£çš„ã§å†åˆ©ç”¨æ€§ãŒé«˜ã„ã€‚</div></div></div><details class="snapshot-details"><summary class="details-toggle">git logï¼ˆmain..branchï¼‰</summary><pre>a7e92b1 (task/task-1765797142878-333e74) feat: restyle About page with ink/washi theme
2f3e8c8 feat: wa-modern overlay layout and shoji project drawer
e19ebff chore: tailwind v4 + wa theme foundation

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --statï¼ˆmain...branchï¼‰</summary><pre> components/AboutDetail.tsx | 220 ++++++-------
 components/Overlay.tsx     | 782 +++++++++++++++++++++++----------------------
 index.html                 |  41 +--
 index.tsx                  |   3 +-
 package-lock.json          | 723 +++++++++++++++++++++++++++++++++++++++--
 package.json               |  14 +-
 styles.css                 | 169 ++++++++++
 vite.config.ts             |   3 +-
 8 files changed, 1394 insertions(+), 561 deletions(-)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --name-statusï¼ˆmain...branchï¼‰</summary><pre>M	components/AboutDetail.tsx
M	components/Overlay.tsx
M	index.html
M	index.tsx
M	package-lock.json
M	package.json
A	styles.css
M	vite.config.ts

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæŠœç²‹ï¼‰</summary><pre>diff --git a/components/AboutDetail.tsx b/components/AboutDetail.tsx
index 8a2264e..10a7e2c 100644
--- a/components/AboutDetail.tsx
+++ b/components/AboutDetail.tsx
@@ -33,7 +33,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       animate="visible"
       exit="exit"
       variants={quickStagger}
-      className="w-full min-h-screen"
+      className="w-full min-h-screen text-washi-100"
     &gt;
       {/* Fixed Back Button - Top Left */}
       &lt;motion.div
@@ -42,7 +42,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group flex items-center gap-2 text-[11px] font-mono tracking-[0.22em] px-5 py-3 rounded-md bg-washi-100/5 hover:bg-washi-100/8 border border-washi-100/12 hover:border-beni-500/30 text-beni-200/80 hover:text-washi-100 transition-colors shadow-lg shadow-black/30 backdrop-blur-md"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -58,7 +58,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group flex items-center gap-2 text-[11px] font-mono tracking-[0.22em] px-5 py-3 rounded-md bg-washi-100/5 hover:bg-washi-100/8 border border-washi-100/12 hover:border-beni-500/30 text-beni-200/80 hover:text-washi-100 transition-colors shadow-lg shadow-black/30 backdrop-blur-md"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -68,86 +68,86 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/motion.div&gt;
 
       {/* Hero Section - Full viewport */}
-      &lt;section className="min-h-screen flex flex-col justify-center px-8 md:px-20 max-w-6xl mx-auto"&gt;
-        &lt;motion.div variants={quickFade}&gt;
-          &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
-          &lt;h1 className="text-5xl md:text-7xl font-serif text-stone-100 mb-6 leading-tight"&gt;
+      &lt;section className="min-h-screen px-6 md:px-16 max-w-6xl mx-auto flex items-center"&gt;
+        &lt;motion.div variants={quickFade} className="surface-washi bg-shoji rounded-2xl p-8 md:p-12 w-full"&gt;
+          &lt;p className="text-beni-200/80 font-mono text-[11px] tracking-[0.26em] mb-4"&gt;ABOUT&lt;/p&gt;
+          &lt;h1 className="text-5xl md:text-7xl font-serif text-washi-100 mb-6 leading-tight"&gt;
             ã‚¤ãƒˆãƒ‘ãƒ³ã«ã¤ã„ã¦
           &lt;/h1&gt;
-        &lt;/motion.div&gt;
-
-        &lt;motion.div variants={quickFade} className="max-w-3xl"&gt;
-          &lt;p className="text-xl md:text-2xl text-stone-300 leading-relaxed font-light mb-8"&gt;
-            é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
-            ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
-            &lt;span className="text-emerald-400 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
-          &lt;/p&gt;
-          &lt;p className="text-base md:text-lg text-stone-500 leading-relaxed font-light"&gt;
-            é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
-            ã‚³ãƒ¼ãƒ‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼æ˜ åƒï¼æ–‡ç« ï¼ä½“é¨“è¨­è¨ˆã‚’è¡Œãæ¥ã—ãªãŒã‚‰ã€&lt;br /&gt;
-            ç”ŸæˆAIã‚’å‰æã«ã—ãŸã‚‚ã®ã¥ãã‚Šã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
-          &lt;/p&gt;
-        &lt;/motion.div&gt;
 
-        &lt;motion.div variants={quickFade} className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
-          &lt;div className="flex items-center gap-2 text-stone-600"&gt;
-            &lt;span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"&gt;&lt;/span&gt;
-            &lt;span className="text-sm"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
+          &lt;div className="max-w-3xl"&gt;
+            &lt;p className="text-xl md:text-2xl text-washi-200/70 leading-relaxed font-light mb-8"&gt;
+              é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
+              ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
+              &lt;span className="text-gold-500 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
+            &lt;/p&gt;
+            &lt;p className="text-base md:text-lg text-washi-200/55 leading-relaxed font-light"&gt;
+              é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
+              ã‚³ãƒ¼ãƒ‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼æ˜ åƒï¼æ–‡ç« ï¼ä½“é¨“è¨­è¨ˆã‚’è¡Œãæ¥ã—ãªãŒã‚‰ã€&lt;br /&gt;
+              ç”ŸæˆAIã‚’å‰æã«ã—ãŸã‚‚ã®ã¥ãã‚Šã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
+            &lt;/p&gt;
           &lt;/div&gt;
 
-          {/* Social Links */}
-          &lt;div className="flex items-center gap-4"&gt;
-            &lt;a
-              href="https://x.com/takamasa045"
-              target="_blank"
-              rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
-            &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
-                &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
-              &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
-            &lt;/a&gt;
-            &lt;a
-              href="https://note.com/azumimusuhi"
-              target="_blank"
-              rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
-            &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
-                &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
-              &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
-            &lt;/a&gt;
+          &lt;div className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
+            &lt;div className="flex items-center gap-2 text-washi-200/55 font-mono text-[11px] tracking-[0.18em]"&gt;
+              &lt;span className="w-2 h-2 bg-gold-500/70 rounded-full"&gt;&lt;/span&gt;
+              &lt;span&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
+            &lt;/div&gt;
+
+            {/* Social Links */}
+            &lt;div className="flex items-center gap-4"&gt;
+              &lt;a
+                href="https://x.com/takamasa045"
+                target="_blank"
+                rel="noopener noreferrer"
+                className="group flex items-center gap-3 px-6 py-3 bg-washi-100/3 border border-washi-100/12 hover:border-beni-500/30 hover:bg-washi-100/6 rounded-md transition-colors duration-300"
+              &gt;
+                &lt;svg className="w-5 h-5 text-washi-200/70 group-hover:text-washi-100 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                  &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
+                &lt;/svg&gt;
+                &lt;span className="text-[11px] text-washi-200/70 group-hover:text-beni-200/80 font-mono tracking-[0.18em] transition-colors"&gt;X / Twitter&lt;/span&gt;
+              &lt;/a&gt;
+              &lt;a
+                href="https://note.com/azumimusuhi"
+                target="_blank"
+                rel="noopener noreferrer"
+                className="group flex items-center gap-3 px-6 py-3 bg-washi-100/3 border border-washi-100/12 hover:border-beni-500/30 hover:bg-washi-100/6 rounded-md transition-colors duration-300"
+              &gt;
+                &lt;svg className="w-5 h-5 text-washi-200/70 group-hover:text-washi-100 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                  &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
+                &lt;/svg&gt;
+                &lt;span className="text-[11px] text-washi-200/70 group-hover:text-beni-200/80 font-mono tracking-[0.18em] transition-colors"&gt;note&lt;/span&gt;
+              &lt;/a&gt;
+            &lt;/div&gt;
           &lt;/div&gt;
         &lt;/motion.div&gt;
       &lt;/section&gt;
 
       {/* Vision Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-24 px-6 md:px-16"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
-          &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
+          &lt;motion.div variants={quickFade} className="mb-14 text-center"&gt;
+            &lt;p className="text-beni-200/80 font-mono text-[11px] tracking-[0.26em] mb-4"&gt;VISION&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi-100"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
           &lt;/motion.div&gt;
 
-          &lt;motion.div variants={quickFade} className="max-w-4xl mx-auto space-y-8"&gt;
-            &lt;p className="text-lg md:text-xl text-stone-300 leading-relaxed font-light"&gt;
+          &lt;motion.div variants={quickFade} className="max-w-4xl mx-auto space-y-8 surface-washi bg-shoji rounded-2xl p-8 md:p-12"&gt;
+            &lt;p className="text-lg md:text-xl text-washi-200/70 leading-relaxed font-light"&gt;
               é–¢å¿ƒã®ä¸­å¿ƒã«ã‚ã‚‹ã®ã¯ã€æ—¥æœ¬ã®åœŸåœ°ã‚„æ–‡åŒ–ãŒå†…åŒ…ã—ã¦ããŸã€Œã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã€ã§ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-washi-200/60 leading-relaxed font-light"&gt;
               åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã«æ®‹ã‚‹åœ°åã®ç”±æ¥ã€å²æ–™ã€æš®ã‚‰ã—ã®ä¸­ã«æ¯ã¥ãç¿’æ…£ã€‚
               ã•ã‚‰ã«ã€ç¸„æ–‡ã‹ã‚‰ç©ã¿é‡ãªã£ã¦ããŸåœŸåœ°ã®å±¤ã‚„ã€å®‰æ›‡æ—ã®ç³»è­œã®ã‚ˆã†ãªæ–­ç‰‡ã«ã‚‚ç›®ã‚’å‘ã‘ã€
               è³‡æ–™ã«ã‚ãŸã‚Šã€ç¾åœ°ã‚’æ­©ããªãŒã‚‰ã€æ‰‹è§¦ã‚Šã®ã‚ã‚‹æƒ…å ±ã‚’å°‘ã—ãšã¤é›†ã‚ã¦ã„ã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-washi-200/60 leading-relaxed font-light"&gt;
               ãã†ã—ãŸæ–­ç‰‡ã¯ã€å˜ãªã‚‹éå»ã®è¨˜éŒ²ã§ã¯ãªãã€
               ç‰©èªæ€§ãƒ»æ€æƒ³ãƒ»ç¾æ„è­˜ã‚’å†…åŒ…ã—ãŸã€æ—¥æœ¬ç‹¬è‡ªã®æ–‡åŒ–è³‡æºã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
               é›†ã‚ãŸæƒ…å ±ã‚’ç”ŸæˆAIã§æ•´ç†ãƒ»å†ç·¨é›†ã—ã€
               ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
               ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-emerald-950/30 p-8 rounded-sm border border-emerald-900/30"&gt;
+            &lt;p className="text-base md:text-lg text-washi-200/70 leading-relaxed font-light bg-washi-100/5 p-6 md:p-8 rounded-xl border border-washi-100/12"&gt;
               ã¾ãŸã€ãã®éç¨‹ã§ç”Ÿã¾ã‚Œã‚‹&lt;br /&gt;
               ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
               æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
@@ -157,29 +157,29 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Philosophy Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-24 px-6 md:px-16"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
+            &lt;p className="text-beni-200/80 font-mono text-[11px] tracking-[0.26em] mb-4"&gt;PHILOSOPHY&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi-100"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
           &lt;/motion.div&gt;
 
           &lt;div className="space-y-24"&gt;
             {/* Philosophy 1 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;01&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-gold-500/35"&gt;01&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi-100 font-serif mt-4 leading-relaxed"&gt;
                   èº«éŠ­ã¨æ™‚é–“ã‚’ã¤ãè¾¼ã‚“ã§è¦‹ãˆã¦ããŸ&lt;br /&gt;ã€Œè‡ªåˆ†ãªã‚Šã®AIã€
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi-200/60 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   2022å¹´ã‹ã‚‰ç”»åƒç”ŸæˆAIã€2024å¹´ã¯å‹•ç”»ç”Ÿæˆã€2025å¹´ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼MCPãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æ³¨åŠ›ã—ã¦ãã¾ã—ãŸã€‚
                   æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚„ãƒ„ãƒ¼ãƒ«ãŒå‡ºã‚‹ãŸã³ã«è‡ªè…¹ã§è©¦ã—ç¶šã‘ã€ä»•äº‹ä»¥å¤–ã®å¤šãã®æ™‚é–“ã‚’AIã®æ¤œè¨¼ã¨å®Ÿé¨“ã«æ³¨ã„ã§ãã¾ã—ãŸã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-washi-100/4 border-l-2 border-beni-500/40 p-6 rounded-md"&gt;
+                  &lt;ul className="space-y-2 text-washi-200/70"&gt;
                     &lt;li&gt;ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ç¾å ´ã§æ°—æŒã¡ã‚ˆãå›ã‚‹çµ„ã¿åˆã‚ã›ã¯ä½•ã‹&lt;/li&gt;
@@ -188,9 +188,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’è‡ªåˆ†ã®æ‰‹ã§ç¢ºã‹ã‚ç¶šã‘ã¦ããŸçµæœã€ãŠä»•äº‹ã«ãªã‚‹æ¡ˆä»¶ãŒå°‘ã—ãšã¤å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200 text-lg bg-emerald-950/30 p-6 rounded-sm border border-emerald-900/30"&gt;
+                &lt;p className="text-washi-200/75 text-lg bg-washi-100/5 p-6 rounded-xl border border-washi-100/12"&gt;
                   ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
+                  &lt;span className="text-gold-500"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -198,18 +198,18 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 2 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;02&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-gold-500/35"&gt;02&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi-100 font-serif mt-4 leading-relaxed"&gt;
                   é–‹ç™ºã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã®ã‚ã„ã ã‚’ã€&lt;br /&gt;è¡Œãæ¥ã—ã‚„ã™ãã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi-200/60 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã ã‘ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã ã‘ã€ã§ã¯ãªãã€
                   ã‚³ãƒ¼ãƒ‰ã‚‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã€æ˜ åƒã‚‚ã€ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã€ã‚†ã‚‹ãã¾ãŸã„ã§è§¦ã£ã¦ã„ã‘ã‚‹çŠ¶æ…‹ã‚’ã¤ãã‚‹ã“ã¨ã«é–¢å¿ƒãŒã‚ã‚Šã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-washi-100/4 border-l-2 border-beni-500/40 p-6 rounded-md"&gt;
+                  &lt;ul className="space-y-2 text-washi-200/70"&gt;
                     &lt;li&gt;ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
                     &lt;li&gt;ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
                   &lt;/ul&gt;
@@ -217,9 +217,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚“ãªäººãŸã¡ãŒã€ç”ŸæˆAIã‚’å…¥å£ã«ä¸¡å´ã¸è¸ã¿å‡ºã›ã‚‹ã‚ˆã†ãªæ©‹æ¸¡ã—ã‚’ã—ã¦ã„ããŸã„ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200"&gt;
+                &lt;p className="text-washi-200/75"&gt;
                   ãƒ—ãƒ­ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã ã‘ã®ã‚‚ã®ã«ã›ãšã€&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
+                  &lt;span className="text-gold-500"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -227,12 +227,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 3 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;03&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-gold-500/35"&gt;03&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi-100 font-serif mt-4 leading-relaxed"&gt;
                   AIã®ã€Œã“ã‚Œã‹ã‚‰ã®ä½¿ã„æ–¹ã€ã‚’&lt;br /&gt;ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi-200/60 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   AIã‚’ã€ŒåŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«ã€ã¨ã—ã¦ç·šã‚’å¼•ã„ã¦ã—ã¾ã†ã®ã§ã¯ãªãã€
                   ã“ã‚Œã‹ã‚‰è‡ªåˆ†ãŸã¡ã¯ã€AIã¨ã©ã†ä»˜ãåˆã£ã¦ã„ãã®ã‹ã€‚
@@ -241,16 +241,16 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’ä¸€ç·’ã«è€ƒãˆã€è¨€èªåŒ–ã—ã€å…·ä½“çš„ãªå½¢ã«è½ã¨ã—ã¦ã„ãç›¸æ£’ã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;p className="text-stone-300 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-washi-100/4 border-l-2 border-beni-500/40 p-6 rounded-md"&gt;
+                  &lt;p className="text-washi-200/70 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
+                  &lt;ul className="space-y-2 text-washi-200/70"&gt;
                     &lt;li&gt;ã©ã‚“ãªã‚¿ã‚¹ã‚¯ã‚’AIã«ä»»ã›ã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ã‹ã‚‰å…ˆã¯äººãŒã‚„ã‚‹ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã‚“ãªæœªæ¥ã®åƒãæ–¹ãƒ»è¡¨ç¾ã‚’ç›®æŒ‡ã—ãŸã„ã®ã‹&lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
+                  &lt;span className="text-gold-500"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -259,12 +259,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Services &amp; Contact Combined Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-emerald-950/20"&gt;
+      &lt;section className="py-24 px-6 md:px-16"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200 mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
-            &lt;p className="text-stone-500 font-light max-w-2xl mx-auto"&gt;
+            &lt;p className="text-beni-200/80 font-mono text-[11px] tracking-[0.26em] mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi-100 mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
+            &lt;p className="text-washi-200/55 font-light max-w-2xl mx-auto"&gt;
               ä¾‹ãˆã°ã€ã“ã‚“ãªãƒ†ãƒ¼ãƒã§ã”ä¸€ç·’ã§ãã¾ã™ã€‚
             &lt;/p&gt;
           &lt;/motion.div&gt;
@@ -294,32 +294,32 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
           &lt;/motion.div&gt;
 
           {/* Contact CTA */}
-          &lt;motion.div variants={quickFade} className="bg-emerald-950/30 backdrop-blur-sm border border-emerald-900/30 rounded-sm p-8 md:p-12"&gt;
+          &lt;motion.div variants={quickFade} className="surface-washi bg-shoji border border-washi-100/12 rounded-2xl p-8 md:p-12"&gt;
             &lt;div className="grid grid-cols-1 lg:grid-cols-2 gap-12"&gt;
               &lt;div&gt;
-                &lt;h3 className="text-2xl font-serif text-stone-200 mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
-                &lt;ul className="space-y-3 text-stone-400 font-light mb-8"&gt;
+                &lt;h3 className="text-2xl font-serif text-washi-100 mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
+                &lt;ul className="space-y-3 text-washi-200/60 font-light mb-8"&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-gold-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãªç”ŸæˆAIã‚’è©¦ã—ã¦ã¿ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-gold-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     è‡ªç¤¾ãƒ»è‡ªåˆ†ã®æ´»å‹•ã«ã€ã©ã‚“ãªAIæ´»ç”¨ã®ä½™åœ°ãŒã‚ã‚‹ã®ã‹æ•´ç†ã—ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-gold-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     å°ã•ãæ¤œè¨¼ã§ãã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã€ä¸€ç·’ã«çµ„ã¿ç«‹ã¦ã¦ã»ã—ã„
                   &lt;/li&gt;
                 &lt;/ul&gt;
-                &lt;p className="text-stone-500 text-sm font-light"&gt;
+                &lt;p className="text-washi-200/55 text-sm font-light"&gt;
                   ã€Œã¾ã ã¼ã‚“ã‚„ã‚Šã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã€ã‚„ã€Œãã‚‚ãã‚‚ä½•ã‹ã‚‰å§‹ã‚ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã„ã€ã¨ã„ã£ãŸæ®µéšã‹ã‚‰ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
-                  ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚ğŸ“©
+                  ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
 
               &lt;div className="flex flex-col justify-center"&gt;
-                &lt;p className="text-stone-300 font-light mb-6 text-center lg:text-left"&gt;
+                &lt;p className="text-washi-200/70 font-light mb-6 text-center lg:text-left"&gt;
                   ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„
                 &lt;/p&gt;
                 &lt;div className="space-y-4"&gt;
@@ -327,10 +327,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                     href="https://forms.gle/BBfLfsDWmWbPiTLb8"
                     target="_blank"
                     rel="noopener noreferrer"
-                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-emerald-900/40 hover:bg-emerald-800/60 border border-emerald-700/50 text-stone-200 transition-all duration-300 rounded-sm group"
+                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-beni-500/20 hover:bg-beni-500/30 border border-beni-500/40 hover:border-beni-400 text-washi-100 transition-colors duration-300 rounded-md group font-mono text-[11px] tracking-[0.22em]"
                   &gt;
-                    &lt;span className="text-emerald-400 group-hover:text-white transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
-                    &lt;span className="text-stone-500 text-sm"&gt;&amp;rarr;&lt;/span&gt;
+                    &lt;span className="text-washi-100 transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
+                    &lt;span className="text-washi-200/50 text-sm"&gt;&amp;rarr;&lt;/span&gt;
                   &lt;/a&gt;
 
                   {/* Social Links */}
@@ -339,23 +339,23 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                       href="https://x.com/takamasa045"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-washi-100/3 border border-washi-100/12 hover:border-beni-500/30 hover:bg-washi-100/6 rounded-md transition-colors duration-300"
                     &gt;
-                      &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                      &lt;svg className="w-5 h-5 text-washi-200/55 group-hover:text-washi-100 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;X&lt;/span&gt;
+                      &lt;span className="text-[11px] text-washi-200/55 group-hover:text-beni-200/80 font-mono transition-colors tracking-[0.18em]"&gt;X&lt;/span&gt;
                     &lt;/a&gt;
                     &lt;a
                       href="https://note.com/azumimusuhi"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-washi-100/3 border border-washi-100/12 hover:border-beni-500/30 hover:bg-washi-100/6 rounded-md transition-colors duration-300"
                     &gt;
-                      &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                      &lt;svg className="w-5 h-5 text-washi-200/55 group-hover:text-washi-100 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;note&lt;/span&gt;
+                      &lt;span className="text-[11px] text-washi-200/55 group-hover:text-beni-200/80 font-mono transition-colors tracking-[0.18em]"&gt;note&lt;/span&gt;
                     &lt;/a&gt;
                   &lt;/div&gt;
                 &lt;/div&gt;
@@ -370,14 +370,14 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
         &lt;motion.div variants={quickFade} className="max-w-6xl mx-auto text-center"&gt;
           &lt;button
             onClick={onBack}
-            className="group inline-flex items-center gap-3 px-8 py-4 bg-emerald-950/40 hover:bg-emerald-900/60 border-2 border-emerald-700/50 hover:border-emerald-500 text-emerald-400 hover:text-emerald-300 transition-all duration-300 rounded-md font-mono text-sm shadow-lg hover:shadow-emerald-500/20"
+            className="group inline-flex items-center gap-3 px-8 py-4 bg-washi-100/5 hover:bg-washi-100/8 border border-washi-100/12 hover:border-beni-500/30 text-beni-200/80 hover:text-washi-100 transition-colors duration-300 rounded-md font-mono text-[11px] tracking-[0.22em] shadow-lg shadow-black/30"
           &gt;
             &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
               &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
             &lt;/svg&gt;
             &lt;span&gt;BACK TO HOME&lt;/span&gt;
           &lt;/button&gt;
-          &lt;p className="text-stone-700 text-xs mt-8"&gt;
+          &lt;p className="text-washi-200/35 text-xs mt-8 font-mono tracking-[0.18em]"&gt;
             &amp;copy; 2025 Takamasa Ito / ITOPAN
           &lt;/p&gt;
         &lt;/motion.div&gt;
@@ -388,10 +388,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
 
 const ServiceCard: React.FC&lt;{ icon: string; title: string; description: string }&gt; = ({ icon, title, description }) =&gt; {
   return (

... (truncated; total 2706 lines) ...

   "dependencies": {
-    "react": "^19.2.0",
-    "react-dom": "^19.2.0",
-    "@react-three/fiber": "^9.4.0",
     "@react-three/drei": "^10.7.7",
-    "three": "^0.181.2",
+    "@react-three/fiber": "^9.4.0",
+    "framer-motion": "^12.23.24",
     "gsap": "^3.13.0",
-    "framer-motion": "^12.23.24"
+    "react": "^19.2.0",
+    "react-dom": "^19.2.0",
+    "three": "^0.181.2"
   },
   "devDependencies": {
+    "@tailwindcss/vite": "^4.1.18",
     "@types/node": "^22.14.0",
     "@vitejs/plugin-react": "^5.0.0",
+    "autoprefixer": "^10.4.23",
+    "postcss": "^8.5.6",
+    "tailwindcss": "^4.1.18",
     "typescript": "~5.8.2",
     "vite": "^6.2.0"
   }
diff --git a/styles.css b/styles.css
new file mode 100644
index 0000000..5d1ab1d
--- /dev/null
+++ b/styles.css
@@ -0,0 +1,169 @@
+@import "tailwindcss";
+
+@source "./index.html";
+@source "./index.tsx";
+@source "./App.tsx";
+@source "./components/**/*.{ts,tsx}";
+@source "./contexts/**/*.{ts,tsx}";
+
+@theme {
+  --font-sans: "Zen Kaku Gothic New", "Noto Sans JP", ui-sans-serif, system-ui,
+    sans-serif;
+  --font-serif: "Zen Old Mincho", ui-serif, Georgia, Cambria, "Times New Roman",
+    Times, serif;
+  --font-mono: "IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco,
+    Consolas, "Liberation Mono", "Courier New", monospace;
+
+  --color-ink-50: #f6f6f6;
+  --color-ink-100: #ececec;
+  --color-ink-200: #cfcfcf;
+  --color-ink-300: #a8a8a8;
+  --color-ink-400: #7a7a7a;
+  --color-ink-500: #505050;
+  --color-ink-600: #343434;
+  --color-ink-700: #242424;
+  --color-ink-800: #141414;
+  --color-ink-900: #0b0b0c;
+  --color-ink-950: #060607;
+
+  --color-washi-50: #fbfaf6;
+  --color-washi-100: #f7f4ea;
+  --color-washi-200: #efe7d5;
+  --color-washi-300: #dfd2b5;
+  --color-washi-400: #c8b58a;
+  --color-washi-500: #b39963;
+  --color-washi-600: #8f7b4f;
+  --color-washi-700: #6e5f3d;
+  --color-washi-800: #4c432c;
+  --color-washi-900: #2b271c;
+  --color-washi-950: #17150f;
+
+  --color-beni-50: #fff1f1;
+  --color-beni-100: #ffe0e0;
+  --color-beni-200: #ffc1c1;
+  --color-beni-300: #ff9494;
+  --color-beni-400: #ff5a5a;
+  --color-beni-500: #d64545;
+  --color-beni-600: #b73737;
+  --color-beni-700: #8f2b2b;
+  --color-beni-800: #651f1f;
+  --color-beni-900: #3e1414;
+  --color-beni-950: #240b0b;
+
+  --color-ai-50: #eef3ff;
+  --color-ai-100: #dbe6ff;
+  --color-ai-200: #bcd0ff;
+  --color-ai-300: #93b0ff;
+  --color-ai-400: #6a88ff;
+  --color-ai-500: #3e5587;
+  --color-ai-600: #2d3f6b;
+  --color-ai-700: #203053;
+  --color-ai-800: #17223a;
+  --color-ai-900: #101728;
+  --color-ai-950: #0a0e1b;
+
+  --color-gold-50: #fff9e8;
+  --color-gold-100: #fff0c2;
+  --color-gold-200: #ffe08a;
+  --color-gold-300: #f8ca52;
+  --color-gold-400: #e7b83a;
+  --color-gold-500: #d4b46a;
+  --color-gold-600: #a78942;
+  --color-gold-700: #7f6730;
+  --color-gold-800: #5b4a22;
+  --color-gold-900: #382e15;
+  --color-gold-950: #1f190c;
+}
+
+@layer base {
+  :root {
+    color-scheme: dark;
+  }
+
+  html,
+  body {
+    height: 100%;
+  }
+
+  body {
+    margin: 0;
+    font-family: var(--font-sans);
+    background:
+      radial-gradient(1100px 700px at 18% 12%, rgba(45, 63, 107, 0.35), transparent
+            55%),
+      radial-gradient(900px 560px at 82% 24%, rgba(214, 69, 69, 0.14), transparent
+            60%),
+      radial-gradient(1200px 900px at 50% 120%, rgba(212, 180, 106, 0.08),
+        transparent 55%),
+      linear-gradient(180deg, #060607 0%, #070a0d 100%);
+    color: var(--color-washi-100);
+    overflow: hidden;
+  }
+
+  #root {
+    height: 100%;
+  }
+
+  ::selection {
+    background: rgba(214, 69, 69, 0.25);
+  }
+
+  /* Hide scrollbars (scroll handled by drei ScrollControls) */
+  ::-webkit-scrollbar {
+    width: 0px;
+    background: transparent;
+  }
+}
+
+@layer utilities {
+  .vertical-text {
+    writing-mode: vertical-rl;
+    text-orientation: upright;
+    letter-spacing: 0.15em;
+  }
+
+  .bg-shoji {
+    background-image:
+      linear-gradient(to right, rgba(247, 244, 234, 0.06) 1px, transparent 1px),
+      linear-gradient(to bottom, rgba(247, 244, 234, 0.04) 1px, transparent 1px);
+    background-size: 56px 56px;
+    background-position: 0 0;
+  }
+
+  .surface-washi {
+    background:
+      linear-gradient(180deg, rgba(247, 244, 234, 0.06), rgba(247, 244, 234, 0)),
+      rgba(11, 11, 12, 0.75);
+    border: 1px solid rgba(247, 244, 234, 0.12);
+    box-shadow:
+      0 1px 0 rgba(247, 244, 234, 0.06) inset,
+      0 20px 70px rgba(0, 0, 0, 0.55);
+    backdrop-filter: blur(10px);
+  }
+
+  .mask-fade-b {
+    mask-image: linear-gradient(to bottom, black 78%, transparent 100%);
+  }
+}
+
+/* Film grain / washi noise */
+.noise-overlay {
+  position: fixed;
+  inset: 0;
+  pointer-events: none;
+  z-index: 50;
+  opacity: 0.055;
+  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
+}
+
+@media (prefers-reduced-motion: reduce) {
+  *,
+  *::before,
+  *::after {
+    animation-duration: 0.001ms !important;
+    animation-iteration-count: 1 !important;
+    transition-duration: 0.001ms !important;
+    scroll-behavior: auto !important;
+  }
+}
+
diff --git a/vite.config.ts b/vite.config.ts
index 686a6de..e14f80d 100644
--- a/vite.config.ts
+++ b/vite.config.ts
@@ -1,6 +1,7 @@
 import path from 'path';
 import { defineConfig, loadEnv } from 'vite';
 import react from '@vitejs/plugin-react';
+import tailwindcss from '@tailwindcss/vite';
 
 export default defineConfig(({ mode }) =&gt; {
     const env = loadEnv(mode, '.', '');
@@ -13,7 +14,7 @@ export default defineConfig(({ mode }) =&gt; {
         port: 3000,
         host: '0.0.0.0',
       },
-      plugins: [react()],
+      plugins: [tailwindcss(), react()],
       define: {
         'process.env.API_KEY': JSON.stringify(env.GEMINI_API_KEY),
         'process.env.GEMINI_API_KEY': JSON.stringify(env.GEMINI_API_KEY)
</pre></details><details class="snapshot-details"><summary class="details-toggle">git status --porcelainï¼ˆworktreeï¼‰</summary><pre> M App.tsx
 M components/Experience.tsx
 M components/LazyVideo.tsx
 M components/MountainWorld.tsx

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæœªã‚³ãƒŸãƒƒãƒˆæŠœç²‹ï¼‰</summary><pre>diff --git a/App.tsx b/App.tsx
index 5900150..94f3fe4 100644
--- a/App.tsx
+++ b/App.tsx
@@ -12,7 +12,7 @@ const AppContent: React.FC = () =&gt; {
   return (
     &lt;&gt;
       &lt;div
-        className="w-full h-screen bg-[#020403]"
+        className="w-full h-screen bg-ink-950"
       &gt;
         &lt;Canvas
           shadows
@@ -22,27 +22,19 @@ const AppContent: React.FC = () =&gt; {
           frameloop={isDetailOpen ? 'never' : 'always'}
         &gt;
           &lt;ContextBridge&gt;
-            &lt;color attach="background" args={['#020403']} /&gt;
+            &lt;color attach="background" args={['#060607']} /&gt;
             &lt;Suspense fallback={null}&gt;
               &lt;Experience /&gt;
             &lt;/Suspense&gt;
           &lt;/ContextBridge&gt;
         &lt;/Canvas&gt;
         &lt;Loader
-          containerStyles={{ background: '#020403' }}
-          innerStyles={{ width: '200px', height: '2px', background: '#1c2621' }}
-          barStyles={{ background: '#34d399', height: '2px' }}
-          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#666' }}
+          containerStyles={{ background: '#060607' }}
+          innerStyles={{ width: '200px', height: '2px', background: 'rgba(247, 244, 234, 0.16)' }}
+          barStyles={{ background: '#d64545', height: '2px' }}
+          dataStyles={{ fontFamily: 'IBM Plex Mono', fontSize: '12px', color: 'rgba(247, 244, 234, 0.6)' }}
         /&gt;
       &lt;/div&gt;
-
-      {/* Static Logo/Nav overlay if needed outside canvas */}
-      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        ITOPAN / ã‚¤ãƒˆãƒ‘ãƒ³
-      &lt;/div&gt;
-      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        PORTFOLIO
-      &lt;/div&gt;
     &lt;/&gt;
   );
 };
diff --git a/components/Experience.tsx b/components/Experience.tsx
index ac6f88c..07923eb 100644
--- a/components/Experience.tsx
+++ b/components/Experience.tsx
@@ -1,5 +1,5 @@
 import React, { useRef } from 'react';
-import { ScrollControls, Scroll, Environment, Stars, Sparkles, Cloud } from '@react-three/drei';
+import { ScrollControls, Scroll, Environment, Sparkles, Cloud } from '@react-three/drei';
 import { Overlay } from './Overlay';
 import { MountainWorld } from './MountainWorld';
 import { useFrame } from '@react-three/fiber';
@@ -36,18 +36,18 @@ export const Experience: React.FC = () =&gt; {
 
   return (
     &lt;&gt;
-      {/* Ambient light slightly greenish/blue for nature feel */}
-      &lt;ambientLight intensity={0.2} color="#cce3de" /&gt;
+      {/* Ambient light: washi tone */}
+      &lt;ambientLight intensity={0.18} color="#f7f4ea" /&gt;
       &lt;directionalLight
         ref={lightRef}
         position={[5, 10, 5]}
-        intensity={1.5}
-        color="#ecfccb" // Sunlight hint
+        intensity={1.35}
+        color="#d4b46a" // Gold highlight
         castShadow
         shadow-bias={-0.0001}
       /&gt;
-      {/* Deep forest fog */}
-      &lt;fog attach="fog" args={['#020403', 5, 20]} /&gt;
+      {/* Ink fog */}
+      &lt;fog attach="fog" args={['#060607', 5, 22]} /&gt;
 
       {/* Pages for content sections */}
       &lt;ScrollControls pages={pages} damping={0.3}&gt;
@@ -61,11 +61,11 @@ export const Experience: React.FC = () =&gt; {
           size={2}
           speed={0.4}
           opacity={0.4}
-          color="#6ee7b7"
+          color="#d4b46a"
         /&gt;
 
         &lt;group position={[0, 5, -10]}&gt;
-          &lt;Cloud opacity={0.2} speed={0.1} segments={20} color="#d1fae5" /&gt;
+          &lt;Cloud opacity={0.18} speed={0.08} segments={20} color="#f7f4ea" /&gt;
         &lt;/group&gt;
 
         {/* HTML Content Layer - Syncs with Scroll */}
@@ -77,4 +77,4 @@ export const Experience: React.FC = () =&gt; {
       &lt;Environment preset="park" environmentIntensity={0.3} /&gt;
     &lt;/&gt;
   );
-};
\ No newline at end of file
+};
diff --git a/components/LazyVideo.tsx b/components/LazyVideo.tsx
index f8e6815..fd539a0 100644
--- a/components/LazyVideo.tsx
+++ b/components/LazyVideo.tsx
@@ -63,8 +63,8 @@ export const LazyVideo: React.FC&lt;LazyVideoProps&gt; = ({
     &lt;div ref={containerRef} className={`relative ${className}`}&gt;
       {/* Loading placeholder */}
       {!isLoaded &amp;&amp; (
-        &lt;div className="absolute inset-0 bg-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-8 h-8 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin" /&gt;
+        &lt;div className="absolute inset-0 bg-ink-900 flex items-center justify-center"&gt;
+          &lt;div className="w-8 h-8 border-2 border-beni-500/30 border-t-beni-500 rounded-full animate-spin" /&gt;
         &lt;/div&gt;
       )}
 
@@ -133,7 +133,7 @@ export const LazyImage: React.FC&lt;LazyImageProps&gt; = ({
   return (
     &lt;div ref={containerRef} className={`relative ${className}`}&gt;
       {!isLoaded &amp;&amp; (
-        &lt;div className="absolute inset-0 bg-stone-900" /&gt;
+        &lt;div className="absolute inset-0 bg-ink-900" /&gt;
       )}
 
       {isVisible &amp;&amp; (
diff --git a/components/MountainWorld.tsx b/components/MountainWorld.tsx
index 4a1ef29..c9588f6 100644
--- a/components/MountainWorld.tsx
+++ b/components/MountainWorld.tsx
@@ -1,8 +1,7 @@
-import React, { useRef, useLayoutEffect } from 'react';
+import React, { useRef } from 'react';
 import { useScroll, Float, MeshDistortMaterial } from '@react-three/drei';
 import { useFrame } from '@react-three/fiber';
 import * as THREE from 'three';
-import gsap from 'gsap';
 
 export const MountainWorld: React.FC = () =&gt; {
   const scroll = useScroll();
@@ -52,7 +51,7 @@ export const MountainWorld: React.FC = () =&gt; {
         &lt;mesh ref={mountainRef1} position={[-2, -1.5, -2]} rotation={[0, 0.5, 0.2]} receiveShadow&gt;
           &lt;coneGeometry args={[2.5, 4, 4]} /&gt;
           &lt;meshStandardMaterial 
-            color="#18211d" // Deep moss green/slate
+            color="#141414" // Ink
             roughness={0.9} 
             flatShading
           /&gt;
@@ -64,7 +63,7 @@ export const MountainWorld: React.FC = () =&gt; {
         &lt;mesh ref={mountainRef2} position={[2.5, -2, -5]} rotation={[0, -0.5, -0.1]} receiveShadow&gt;
           &lt;coneGeometry args={[4, 6, 5]} /&gt;
           &lt;meshStandardMaterial 
-            color="#111614" // Darker atmospheric green
+            color="#0b0b0c" // Deep ink
             roughness={1.0} 
             flatShading 
           /&gt;
@@ -78,7 +77,7 @@ export const MountainWorld: React.FC = () =&gt; {
             &lt;mesh position={[0, 1, 0]} scale={scroll.curve(0.14, 0.14) * 1.5}&gt;
               &lt;icosahedronGeometry args={[1, 0]} /&gt;
               &lt;MeshDistortMaterial 
-                color="#d1fae5" 
+                color="#d4b46a" 
                 envMapIntensity={1} 
                 clearcoat={1} 
                 clearcoatRoughness={0} 
@@ -91,7 +90,7 @@ export const MountainWorld: React.FC = () =&gt; {
          {/* A glowing ring */}
          &lt;mesh rotation={[Math.PI / 2, 0, 0]} position={[0, -1, 0]} scale={scroll.curve(0.14, 0.14) * 3}&gt;
             &lt;torusGeometry args={[1, 0.02, 16, 100]} /&gt;
-            &lt;meshBasicMaterial color="#34d399" transparent opacity={0.4} /&gt;
+            &lt;meshBasicMaterial color="#d64545" transparent opacity={0.35} /&gt;
          &lt;/mesh&gt;
       &lt;/group&gt;
 
@@ -101,7 +100,7 @@ export const MountainWorld: React.FC = () =&gt; {
             &lt;Float key={i} speed={2} rotationIntensity={0.5} floatIntensity={0.5} position={[0, i * 2.5 - 2.5, 0]}&gt;
                &lt;mesh castShadow receiveShadow rotation={[0, 0.5, 0]}&gt;
                   &lt;boxGeometry args={[3, 2, 0.2]} /&gt;
-                  &lt;meshStandardMaterial color="#292524" roughness={0.2} metalness={0.5} /&gt;
+                  &lt;meshStandardMaterial color="#1a1d20" roughness={0.35} metalness={0.25} /&gt;
                &lt;/mesh&gt;
             &lt;/Float&gt;
          ))}
@@ -109,4 +108,4 @@ export const MountainWorld: React.FC = () =&gt; {
 
     &lt;/group&gt;
   );
-};
\ No newline at end of file
+};

</pre></details></div></td>
            <td><div class="agent-meta"><span class="status-badge status-badge--error">å¤±æ ¼</span><span class="agent-label">ç·åˆ <strong class="score-strong">0/600</strong> âŒ / ãƒ¡ãƒ€ãƒ« <strong>âšªï¸</strong>ï¼ˆ0/100ï¼‰</span></div><div class="agent-block"><div class="hex-wrap"><svg class="hex" width="150" height="150" viewBox="0 0 150 150" role="img" aria-label="6æŒ‡æ¨™ å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆ"><polygon points="75.00,62.00 86.26,68.50 86.26,81.50 75.00,88.00 63.74,81.50 63.74,68.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,49.00 97.52,62.00 97.52,88.00 75.00,101.00 52.48,88.00 52.48,62.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,36.00 108.77,55.50 108.77,94.50 75.00,114.00 41.23,94.50 41.23,55.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,23.00 120.03,49.00 120.03,101.00 75.00,127.00 29.97,101.00 29.97,49.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,10.00 131.29,42.50 131.29,107.50 75.00,140.00 18.71,107.50 18.71,42.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/><polygon points="75.00,75.00 75.00,75.00 75.00,75.00 75.00,75.00 75.00,75.00 75.00,75.00" fill="rgba(22,94,131,0.22)" stroke="rgba(22,94,131,0.55)" stroke-width="2"/></svg><ul class="metrics"><li><span class="metric-name">UI/UX</span><span class="metric-score">0ç‚¹</span></li><li><span class="metric-name">ä¸–ç•Œè¦³</span><span class="metric-score">0ç‚¹</span></li><li><span class="metric-name">æƒ…å ±è¨­è¨ˆ</span><span class="metric-score">0ç‚¹</span></li><li><span class="metric-name">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span><span class="metric-score">0ç‚¹</span></li><li><span class="metric-name">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span><span class="metric-score">0ç‚¹</span></li><li><span class="metric-name">ã‚³ãƒ¼ãƒ‰å“è³ª</span><span class="metric-score">0ç‚¹</span></li></ul></div><div class="disq">âŒ `components/Overlay.tsx` ã®å†…å®¹ãŒé€”ä¸­ã§åˆ‡ã‚Œã¦ãŠã‚Šã€å·®åˆ†æœ«å°¾ãŒ `\n` ã®é€”ä¸­ã§çµ‚äº†ï¼ˆæ§‹æ–‡çš„ã«ç ´ç¶»ï¼‰ã€‚</div><div class="agent-links"><div><span class="kv">Branch</span> <code>task/task-1765797143479-027b85</code></div><div><span class="kv">HEAD</span> <code>6c44a65</code>ï¼ˆmainã‹ã‚‰1ã‚³ãƒŸãƒƒãƒˆï¼‰</div><div><span class="kv">Worktree</span> <a href="../../.worktrees/task-1765797143479-027b85">../../.worktrees/task-1765797143479-027b85</a></div><div><span class="kv">æˆæœç‰©</span> <a href="../../.worktrees/task-1765797143479-027b85/index.html">index.html</a></div></div><div class="reasons"><div class="reason"><div class="reason-title">UI/UX 0ç‚¹</div><div class="reason-body">å¤±æ ¼ï¼ˆãƒ“ãƒ«ãƒ‰ä¸èƒ½ã®ãŸã‚è©•ä¾¡å¯¾è±¡å¤–ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ä¸–ç•Œè¦³ 0ç‚¹</div><div class="reason-body">å¤±æ ¼ï¼ˆãƒ“ãƒ«ãƒ‰ä¸èƒ½ã®ãŸã‚è©•ä¾¡å¯¾è±¡å¤–ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">æƒ…å ±è¨­è¨ˆ 0ç‚¹</div><div class="reason-body">å¤±æ ¼ï¼ˆãƒ“ãƒ«ãƒ‰ä¸èƒ½ã®ãŸã‚è©•ä¾¡å¯¾è±¡å¤–ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 0ç‚¹</div><div class="reason-body">å¤±æ ¼ï¼ˆãƒ“ãƒ«ãƒ‰ä¸èƒ½ã®ãŸã‚è©•ä¾¡å¯¾è±¡å¤–ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ 0ç‚¹</div><div class="reason-body">å¤±æ ¼ï¼ˆãƒ“ãƒ«ãƒ‰ä¸èƒ½ã®ãŸã‚è©•ä¾¡å¯¾è±¡å¤–ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ã‚³ãƒ¼ãƒ‰å“è³ª 0ç‚¹</div><div class="reason-body">`components/Overlay.tsx` ãŒé€”ä¸­ã§åˆ‡ã‚Œã¦ãŠã‚Šã€`Overlay` export ã‚‚æ¬ è½ã—ã¦ã„ã‚‹ãŸã‚ TypeScript çš„ã«ç ´ç¶»ã€‚</div></div></div><details class="snapshot-details"><summary class="details-toggle">git logï¼ˆmain..branchï¼‰</summary><pre>6c44a65 (task/task-1765797143479-027b85) feat: redesign portfolio with Japanese 'Wa' aesthetic (modern minimalism, Zen fonts, sumi colors)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --statï¼ˆmain...branchï¼‰</summary><pre> App.tsx                      |  25 +-
 components/AboutDetail.tsx   | 158 ++++----
 components/Experience.tsx    |  50 +--
 components/LazyVideo.tsx     |   8 +-
 components/MountainWorld.tsx | 175 ++++-----
 components/Overlay.tsx       | 849 +------------------------------------------
 index.html                   |  88 +++--
 7 files changed, 254 insertions(+), 1099 deletions(-)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --name-statusï¼ˆmain...branchï¼‰</summary><pre>M	App.tsx
M	components/AboutDetail.tsx
M	components/Experience.tsx
M	components/LazyVideo.tsx
M	components/MountainWorld.tsx
M	components/Overlay.tsx
M	index.html

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæŠœç²‹ï¼‰</summary><pre>diff --git a/App.tsx b/App.tsx
index 5900150..b366b31 100644
--- a/App.tsx
+++ b/App.tsx
@@ -9,10 +9,15 @@ const AppContent: React.FC = () =&gt; {
   const { isDetailOpen } = useDetailView();
   const ContextBridge = useContextBridge(DetailViewContext);
 
+  // Washi color: #fcfaf2
+  const backgroundColor = '#fcfaf2';
+  const sumiColor = '#1c1c1c';
+  const aiColor = '#165e83';
+
   return (
     &lt;&gt;
       &lt;div
-        className="w-full h-screen bg-[#020403]"
+        className="w-full h-screen bg-[#fcfaf2]"
       &gt;
         &lt;Canvas
           shadows
@@ -22,25 +27,26 @@ const AppContent: React.FC = () =&gt; {
           frameloop={isDetailOpen ? 'never' : 'always'}
         &gt;
           &lt;ContextBridge&gt;
-            &lt;color attach="background" args={['#020403']} /&gt;
+            &lt;color attach="background" args={[backgroundColor]} /&gt;
+            &lt;fog attach="fog" args={[backgroundColor, 5, 20]} /&gt;
             &lt;Suspense fallback={null}&gt;
               &lt;Experience /&gt;
             &lt;/Suspense&gt;
           &lt;/ContextBridge&gt;
         &lt;/Canvas&gt;
         &lt;Loader
-          containerStyles={{ background: '#020403' }}
-          innerStyles={{ width: '200px', height: '2px', background: '#1c2621' }}
-          barStyles={{ background: '#34d399', height: '2px' }}
-          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#666' }}
+          containerStyles={{ background: backgroundColor }}
+          innerStyles={{ width: '200px', height: '1px', background: '#e5e5e5' }}
+          barStyles={{ background: aiColor, height: '1px' }}
+          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: sumiColor }}
         /&gt;
       &lt;/div&gt;
 
       {/* Static Logo/Nav overlay if needed outside canvas */}
-      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
+      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none text-sumi/40 text-xs tracking-widest font-serif"&gt;
         ITOPAN / ã‚¤ãƒˆãƒ‘ãƒ³
       &lt;/div&gt;
-      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
+      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none text-sumi/40 text-xs tracking-widest font-serif"&gt;
         PORTFOLIO
       &lt;/div&gt;
     &lt;/&gt;
@@ -64,6 +70,7 @@ declare global {
       meshBasicMaterial: any;
       meshStandardMaterial: any;
       torusGeometry: any;
+      circleGeometry: any;
     }
   }
 }
@@ -76,4 +83,4 @@ const App: React.FC = () =&gt; {
   );
 };
 
-export default App;
+export default App;
\ No newline at end of file
diff --git a/components/AboutDetail.tsx b/components/AboutDetail.tsx
index 8a2264e..bc8adfe 100644
--- a/components/AboutDetail.tsx
+++ b/components/AboutDetail.tsx
@@ -33,7 +33,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       animate="visible"
       exit="exit"
       variants={quickStagger}
-      className="w-full min-h-screen"
+      className="w-full min-h-screen text-sumi font-sans bg-washi"
     &gt;
       {/* Fixed Back Button - Top Left */}
       &lt;motion.div
@@ -42,10 +42,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-sumi hover:text-ai flex items-center gap-2 text-sm font-mono tracking-widest bg-white/80 hover:bg-white backdrop-blur-md px-5 py-3 rounded-md border border-sumi/10 hover:border-ai transition-all duration-300 shadow-lg"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
-            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
+            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M15 19l-7-7 7-7" /&gt;
           &lt;/svg&gt;
           &lt;span&gt;BACK&lt;/span&gt;
         &lt;/button&gt;
@@ -58,10 +58,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-sumi hover:text-ai flex items-center gap-2 text-sm font-mono tracking-widest bg-white/80 hover:bg-white backdrop-blur-md px-5 py-3 rounded-md border border-sumi/10 hover:border-ai transition-all duration-300 shadow-lg"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
-            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
+            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M15 19l-7-7 7-7" /&gt;
           &lt;/svg&gt;
           &lt;span&gt;BACK&lt;/span&gt;
         &lt;/button&gt;
@@ -70,19 +70,19 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       {/* Hero Section - Full viewport */}
       &lt;section className="min-h-screen flex flex-col justify-center px-8 md:px-20 max-w-6xl mx-auto"&gt;
         &lt;motion.div variants={quickFade}&gt;
-          &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
-          &lt;h1 className="text-5xl md:text-7xl font-serif text-stone-100 mb-6 leading-tight"&gt;
+          &lt;p className="text-ai font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
+          &lt;h1 className="text-5xl md:text-7xl font-serif text-sumi mb-6 leading-tight"&gt;
             ã‚¤ãƒˆãƒ‘ãƒ³ã«ã¤ã„ã¦
           &lt;/h1&gt;
         &lt;/motion.div&gt;
 
         &lt;motion.div variants={quickFade} className="max-w-3xl"&gt;
-          &lt;p className="text-xl md:text-2xl text-stone-300 leading-relaxed font-light mb-8"&gt;
+          &lt;p className="text-xl md:text-2xl text-sumi/80 leading-relaxed font-serif font-light mb-8"&gt;
             é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
             ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
-            &lt;span className="text-emerald-400 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
+            &lt;span className="text-ai font-medium border-b border-ai/30 pb-1"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
           &lt;/p&gt;
-          &lt;p className="text-base md:text-lg text-stone-500 leading-relaxed font-light"&gt;
+          &lt;p className="text-base md:text-lg text-sumi/60 leading-relaxed font-light font-serif"&gt;
             é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
             ã‚³ãƒ¼ãƒ‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼æ˜ åƒï¼æ–‡ç« ï¼ä½“é¨“è¨­è¨ˆã‚’è¡Œãæ¥ã—ãªãŒã‚‰ã€&lt;br /&gt;
             ç”ŸæˆAIã‚’å‰æã«ã—ãŸã‚‚ã®ã¥ãã‚Šã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
@@ -90,9 +90,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
         &lt;/motion.div&gt;
 
         &lt;motion.div variants={quickFade} className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
-          &lt;div className="flex items-center gap-2 text-stone-600"&gt;
-            &lt;span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"&gt;&lt;/span&gt;
-            &lt;span className="text-sm"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
+          &lt;div className="flex items-center gap-2 text-sumi/50"&gt;
+            &lt;span className="w-1.5 h-1.5 bg-enji rounded-full"&gt;&lt;/span&gt;
+            &lt;span className="text-sm font-serif"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
           &lt;/div&gt;
 
           {/* Social Links */}
@@ -101,53 +101,53 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
               href="https://x.com/takamasa045"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-white border border-sumi/10 hover:border-ai hover:bg-ai/5 rounded-sm transition-all duration-300 shadow-sm"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-sumi/40 group-hover:text-ai transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
+              &lt;span className="text-sm text-sumi/60 group-hover:text-ai font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
             &lt;/a&gt;
             &lt;a
               href="https://note.com/azumimusuhi"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-white border border-sumi/10 hover:border-ai hover:bg-ai/5 rounded-sm transition-all duration-300 shadow-sm"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-sumi/40 group-hover:text-ai transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
+              &lt;span className="text-sm text-sumi/60 group-hover:text-ai font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
             &lt;/a&gt;
           &lt;/div&gt;
         &lt;/motion.div&gt;
       &lt;/section&gt;
 
       {/* Vision Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-matcha/10 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
+            &lt;p className="text-ai font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-sumi"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
           &lt;/motion.div&gt;
 
           &lt;motion.div variants={quickFade} className="max-w-4xl mx-auto space-y-8"&gt;
-            &lt;p className="text-lg md:text-xl text-stone-300 leading-relaxed font-light"&gt;
+            &lt;p className="text-lg md:text-xl text-sumi/80 leading-relaxed font-serif font-light"&gt;
               é–¢å¿ƒã®ä¸­å¿ƒã«ã‚ã‚‹ã®ã¯ã€æ—¥æœ¬ã®åœŸåœ°ã‚„æ–‡åŒ–ãŒå†…åŒ…ã—ã¦ããŸã€Œã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã€ã§ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-sumi/70 leading-relaxed font-serif font-light"&gt;
               åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã«æ®‹ã‚‹åœ°åã®ç”±æ¥ã€å²æ–™ã€æš®ã‚‰ã—ã®ä¸­ã«æ¯ã¥ãç¿’æ…£ã€‚
               ã•ã‚‰ã«ã€ç¸„æ–‡ã‹ã‚‰ç©ã¿é‡ãªã£ã¦ããŸåœŸåœ°ã®å±¤ã‚„ã€å®‰æ›‡æ—ã®ç³»è­œã®ã‚ˆã†ãªæ–­ç‰‡ã«ã‚‚ç›®ã‚’å‘ã‘ã€
               è³‡æ–™ã«ã‚ãŸã‚Šã€ç¾åœ°ã‚’æ­©ããªãŒã‚‰ã€æ‰‹è§¦ã‚Šã®ã‚ã‚‹æƒ…å ±ã‚’å°‘ã—ãšã¤é›†ã‚ã¦ã„ã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-sumi/70 leading-relaxed font-serif font-light"&gt;
               ãã†ã—ãŸæ–­ç‰‡ã¯ã€å˜ãªã‚‹éå»ã®è¨˜éŒ²ã§ã¯ãªãã€
               ç‰©èªæ€§ãƒ»æ€æƒ³ãƒ»ç¾æ„è­˜ã‚’å†…åŒ…ã—ãŸã€æ—¥æœ¬ç‹¬è‡ªã®æ–‡åŒ–è³‡æºã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
               é›†ã‚ãŸæƒ…å ±ã‚’ç”ŸæˆAIã§æ•´ç†ãƒ»å†ç·¨é›†ã—ã€
               ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
               ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-emerald-950/30 p-8 rounded-sm border border-emerald-900/30"&gt;
+            &lt;p className="text-base md:text-lg text-sumi leading-relaxed font-serif font-light bg-white/60 p-8 rounded-sm border border-sumi/5 shadow-sm"&gt;
               ã¾ãŸã€ãã®éç¨‹ã§ç”Ÿã¾ã‚Œã‚‹&lt;br /&gt;
               ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
               æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
@@ -157,29 +157,29 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Philosophy Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-ai/5 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
+            &lt;p className="text-ai font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-sumi"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
           &lt;/motion.div&gt;
 
           &lt;div className="space-y-24"&gt;
             {/* Philosophy 1 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;01&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-ai/20"&gt;01&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-sumi font-serif mt-4 leading-relaxed"&gt;
                   èº«éŠ­ã¨æ™‚é–“ã‚’ã¤ãè¾¼ã‚“ã§è¦‹ãˆã¦ããŸ&lt;br /&gt;ã€Œè‡ªåˆ†ãªã‚Šã®AIã€
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-sumi/70 leading-loose font-serif font-light space-y-6"&gt;
                 &lt;p&gt;
                   2022å¹´ã‹ã‚‰ç”»åƒç”ŸæˆAIã€2024å¹´ã¯å‹•ç”»ç”Ÿæˆã€2025å¹´ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼MCPãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æ³¨åŠ›ã—ã¦ãã¾ã—ãŸã€‚
                   æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚„ãƒ„ãƒ¼ãƒ«ãŒå‡ºã‚‹ãŸã³ã«è‡ªè…¹ã§è©¦ã—ç¶šã‘ã€ä»•äº‹ä»¥å¤–ã®å¤šãã®æ™‚é–“ã‚’AIã®æ¤œè¨¼ã¨å®Ÿé¨“ã«æ³¨ã„ã§ãã¾ã—ãŸã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-white/60 border-l-2 border-ai/30 p-6"&gt;
+                  &lt;ul className="space-y-2 text-sumi/80"&gt;
                     &lt;li&gt;ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ç¾å ´ã§æ°—æŒã¡ã‚ˆãå›ã‚‹çµ„ã¿åˆã‚ã›ã¯ä½•ã‹&lt;/li&gt;
@@ -188,9 +188,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’è‡ªåˆ†ã®æ‰‹ã§ç¢ºã‹ã‚ç¶šã‘ã¦ããŸçµæœã€ãŠä»•äº‹ã«ãªã‚‹æ¡ˆä»¶ãŒå°‘ã—ãšã¤å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200 text-lg bg-emerald-950/30 p-6 rounded-sm border border-emerald-900/30"&gt;
+                &lt;p className="text-sumi text-lg bg-white p-6 rounded-sm border border-sumi/5 shadow-sm"&gt;
                   ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
+                  &lt;span className="text-ai font-medium"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -198,18 +198,18 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 2 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;02&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-ai/20"&gt;02&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-sumi font-serif mt-4 leading-relaxed"&gt;
                   é–‹ç™ºã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã®ã‚ã„ã ã‚’ã€&lt;br /&gt;è¡Œãæ¥ã—ã‚„ã™ãã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-sumi/70 leading-loose font-serif font-light space-y-6"&gt;
                 &lt;p&gt;
                   ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã ã‘ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã ã‘ã€ã§ã¯ãªãã€
                   ã‚³ãƒ¼ãƒ‰ã‚‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã€æ˜ åƒã‚‚ã€ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã€ã‚†ã‚‹ãã¾ãŸã„ã§è§¦ã£ã¦ã„ã‘ã‚‹çŠ¶æ…‹ã‚’ã¤ãã‚‹ã“ã¨ã«é–¢å¿ƒãŒã‚ã‚Šã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-white/60 border-l-2 border-ai/30 p-6"&gt;
+                  &lt;ul className="space-y-2 text-sumi/80"&gt;
                     &lt;li&gt;ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
                     &lt;li&gt;ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
                   &lt;/ul&gt;
@@ -217,9 +217,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚“ãªäººãŸã¡ãŒã€ç”ŸæˆAIã‚’å…¥å£ã«ä¸¡å´ã¸è¸ã¿å‡ºã›ã‚‹ã‚ˆã†ãªæ©‹æ¸¡ã—ã‚’ã—ã¦ã„ããŸã„ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200"&gt;
+                &lt;p className="text-sumi"&gt;
                   ãƒ—ãƒ­ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã ã‘ã®ã‚‚ã®ã«ã›ãšã€&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
+                  &lt;span className="text-ai font-medium"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -227,12 +227,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 3 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;03&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-ai/20"&gt;03&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-sumi font-serif mt-4 leading-relaxed"&gt;
                   AIã®ã€Œã“ã‚Œã‹ã‚‰ã®ä½¿ã„æ–¹ã€ã‚’&lt;br /&gt;ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-sumi/70 leading-loose font-serif font-light space-y-6"&gt;
                 &lt;p&gt;
                   AIã‚’ã€ŒåŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«ã€ã¨ã—ã¦ç·šã‚’å¼•ã„ã¦ã—ã¾ã†ã®ã§ã¯ãªãã€
                   ã“ã‚Œã‹ã‚‰è‡ªåˆ†ãŸã¡ã¯ã€AIã¨ã©ã†ä»˜ãåˆã£ã¦ã„ãã®ã‹ã€‚
@@ -241,16 +241,16 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’ä¸€ç·’ã«è€ƒãˆã€è¨€èªåŒ–ã—ã€å…·ä½“çš„ãªå½¢ã«è½ã¨ã—ã¦ã„ãç›¸æ£’ã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;p className="text-stone-300 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-white/60 border-l-2 border-ai/30 p-6"&gt;
+                  &lt;p className="text-sumi/80 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
+                  &lt;ul className="space-y-2 text-sumi/80"&gt;
                     &lt;li&gt;ã©ã‚“ãªã‚¿ã‚¹ã‚¯ã‚’AIã«ä»»ã›ã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ã‹ã‚‰å…ˆã¯äººãŒã‚„ã‚‹ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã‚“ãªæœªæ¥ã®åƒãæ–¹ãƒ»è¡¨ç¾ã‚’ç›®æŒ‡ã—ãŸã„ã®ã‹&lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
+                  &lt;span className="text-ai font-medium"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -259,12 +259,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Services &amp; Contact Combined Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-emerald-950/20"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-matcha/20"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200 mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
-            &lt;p className="text-stone-500 font-light max-w-2xl mx-auto"&gt;
+            &lt;p className="text-ai font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-sumi mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
+            &lt;p className="text-sumi/60 font-serif font-light max-w-2xl mx-auto"&gt;
               ä¾‹ãˆã°ã€ã“ã‚“ãªãƒ†ãƒ¼ãƒã§ã”ä¸€ç·’ã§ãã¾ã™ã€‚
             &lt;/p&gt;
           &lt;/motion.div&gt;
@@ -294,32 +294,32 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
           &lt;/motion.div&gt;
 
           {/* Contact CTA */}
-          &lt;motion.div variants={quickFade} className="bg-emerald-950/30 backdrop-blur-sm border border-emerald-900/30 rounded-sm p-8 md:p-12"&gt;
+          &lt;motion.div variants={quickFade} className="bg-white/40 backdrop-blur-sm border border-sumi/10 rounded-sm p-8 md:p-12 shadow-sm"&gt;
             &lt;div className="grid grid-cols-1 lg:grid-cols-2 gap-12"&gt;
               &lt;div&gt;
-                &lt;h3 className="text-2xl font-serif text-stone-200 mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
-                &lt;ul className="space-y-3 text-stone-400 font-light mb-8"&gt;
+                &lt;h3 className="text-2xl font-serif text-sumi mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
+                &lt;ul className="space-y-3 text-sumi/60 font-serif font-light mb-8"&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-ai mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãªç”ŸæˆAIã‚’è©¦ã—ã¦ã¿ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-ai mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     è‡ªç¤¾ãƒ»è‡ªåˆ†ã®æ´»å‹•ã«ã€ã©ã‚“ãªAIæ´»ç”¨ã®ä½™åœ°ãŒã‚ã‚‹ã®ã‹æ•´ç†ã—ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-ai mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     å°ã•ãæ¤œè¨¼ã§ãã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã€ä¸€ç·’ã«çµ„ã¿ç«‹ã¦ã¦ã»ã—ã„
                   &lt;/li&gt;
                 &lt;/ul&gt;
-                &lt;p className="text-stone-500 text-sm font-light"&gt;
+                &lt;p className="text-sumi/50 text-sm font-light"&gt;
                   ã€Œã¾ã ã¼ã‚“ã‚„ã‚Šã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã€ã‚„ã€Œãã‚‚ãã‚‚ä½•ã‹ã‚‰å§‹ã‚ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã„ã€ã¨ã„ã£ãŸæ®µéšã‹ã‚‰ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
                   ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚ğŸ“©
                 &lt;/p&gt;
               &lt;/div&gt;
 
               &lt;div className="flex flex-col justify-center"&gt;
-                &lt;p className="text-stone-300 font-light mb-6 text-center lg:text-left"&gt;
+                &lt;p className="text-sumi/80 font-serif font-light mb-6 text-center lg:text-left"&gt;
                   ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„
                 &lt;/p&gt;
                 &lt;div className="space-y-4"&gt;
@@ -327,10 +327,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                     href="https://forms.gle/BBfLfsDWmWbPiTLb8"
                     target="_blank"
                     rel="noopener noreferrer"
-                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-emerald-900/40 hover:bg-emerald-800/60 border border-emerald-700/50 text-stone-200 transition-all duration-300 rounded-sm group"
+                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-ai hover:bg-ai/80 text-white transition-all duration-300 rounded-sm group shadow-md"
                   &gt;
-                    &lt;span className="text-emerald-400 group-hover:text-white transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
-                    &lt;span className="text-stone-500 text-sm"&gt;&amp;rarr;&lt;/span&gt;
+                    &lt;span className="group-hover:translate-x-1 transition-transform"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
+                    &lt;span className="text-white/60 text-sm"&gt;&amp;rarr;&lt;/span&gt;
                   &lt;/a&gt;
 
                   {/* Social Links */}
@@ -339,23 +339,23 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                       href="https://x.com/takamasa045"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-white border border-sumi/10 hover:border-ai hover:bg-ai/5 rounded-sm transition-all duration-300 shadow-sm"
                     &gt;
-                      &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                      &lt;svg className="w-5 h-5 text-sumi/40 group-hover:text-ai transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
                       &lt;/svg&gt;

... (truncated; total 1776 lines) ...

-      &lt;/div&gt;
-    &lt;/motion.div&gt;
-  );
-};
-
-// --- COMPONENT: MEDIA BACKGROUND (Visuals) ---
-const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
-  return (
-    &lt;div className="absolute inset-0 z-0 opacity-50 hover:opacity-70 transition-opacity duration-700"&gt;
-      {type === 'video' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-emerald-950 via-stone-900 to-black"&gt;
-          &lt;div className="absolute inset-0 flex items-center justify-center opacity-30"&gt;
-            &lt;div className="w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-emerald-900/40 via-transparent to-transparent animate-pulse"&gt;&lt;/div&gt;
-          &lt;/div&gt;
-          {/* Abstract play icon feel */}
-          &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-8 h-8 border border-white/10 rounded-full flex items-center justify-center"&gt;
-              &lt;div className="ml-0.5 w-0 h-0 border-t-[3px] border-t-transparent border-l-[6px] border-l-emerald-500/80 border-b-[3px] border-b-transparent"&gt;&lt;/div&gt;
-            &lt;/div&gt;
-          &lt;/div&gt;
-        &lt;/div&gt;
-      )}
-
-      {type === 'music' &amp;&amp; (
-        &lt;div className="w-full h-full bg-stone-900 flex items-end justify-center gap-1 pb-8"&gt;
-          {[...Array(12)].map((_, i) =&gt; (
-            &lt;div key={i} className="w-1.5 bg-emerald-600/30 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
-          ))}
-        &lt;/div&gt;
-      )}
-
-      {type === 'mv' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-emerald-950 to-stone-900 flex items-end justify-center gap-1 pb-8 relative"&gt;
-          {[...Array(12)].map((_, i) =&gt; (
-            &lt;div key={i} className="w-1.5 bg-emerald-500/40 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
-          ))}
-          &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-10 h-10 border border-white/20 rounded-full flex items-center justify-center bg-black/30 backdrop-blur-sm"&gt;
-              &lt;div className="ml-0.5 w-0 h-0 border-t-[5px] border-t-transparent border-l-[8px] border-l-emerald-400/80 border-b-[5px] border-b-transparent"&gt;&lt;/div&gt;
-            &lt;/div&gt;
-          &lt;/div&gt;
-        &lt;/div&gt;
-      )}
-
-      {type === 'web' &amp;&amp; (
-        &lt;div className="w-full h-full bg-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/10 bg-black/20 rounded-sm relative overflow-hidden"&gt;
-            &lt;div className="absolute top-0 left-0 w-full h-3 bg-white/5 flex gap-1 items-center px-2"&gt;
-              &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
-            &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-900/30 font-mono text-4xl"&gt;
-              &amp;lt;/&amp;gt;
-            &lt;/div&gt;
-          &lt;/div&gt;
-        &lt;/div&gt;
-      )}
-
-      {type === 'image' &amp;&amp; (
-        &lt;div className="w-full h-full bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-stone-800 via-emerald-950 to-black"&gt;
-          &lt;div className="absolute top-0 right-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+')] opacity-20"&gt;&lt;/div&gt;
-        &lt;/div&gt;
-      )}
-
-      {type === 'saas' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-emerald-950/50 to-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/20 bg-black/30 rounded-sm relative overflow-hidden"&gt;
-            &lt;div className="absolute top-0 left-0 w-full h-4 bg-emerald-900/20 flex gap-1.5 items-center px-3"&gt;
-              &lt;div className="w-2 h-2 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-400/30 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-300/20 rounded-full"&gt;&lt;/div&gt;
-            &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-500/20 font-mono text-3xl tracking-widest"&gt;
-              SaaS
-            &lt;/div&gt;
-          &lt;/div&gt;
-        &lt;/div&gt;
-      )}
-
-      {type === 'event' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-emerald-950 via-stone-900 to-emerald-950 relative overflow-hidden"&gt;
-          &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-16 h-16 border-2 border-emerald-500/30 rounded-full flex items-center justify-center animate-pulse"&gt;
-              &lt;div className="w-10 h-10 border border-emerald-400/40 rounded-full flex items-center justify-center"&gt;
-                &lt;div className="w-4 h-4 bg-emerald-500/50 rounded-full"&gt;&lt;/div&gt;
-              &lt;/div&gt;
-            &lt;/div&gt;
-          &lt;/div&gt;
-          &lt;div className="absolute bottom-4 left-0 right-0 flex justify-center gap-2"&gt;
-            {[...Array(5)].map((_, i) =&gt; (
-              &lt;div key={i} className="w-1 h-1 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
-            ))}
-          &lt;/div&gt;
-        &lt;/div&gt;
-      )}
-    &lt;/div&gt;
-  );
-};
-
+        description: 'å‹•ç”»ç·¨é›†ã‚½ãƒ•ãƒˆã‚’ä¸€åˆ‡ä½¿ã‚ãšã«Remotionã ã‘ã§ä½œã‚Šä¸Šã’ãŸMVã€‚\nç”»åƒã¯Midjourneyã§ç”Ÿæˆâ†’i2vã§å‹•ã‹ã—ã€éŸ³æ¥½ã¯Sunoã§å‹äººã®ãƒ“ãƒ¼ãƒˆéŸ³æºã‹ã‚‰æ›²åŒ–ã€‚\nãƒªãƒªãƒƒã‚¯ã¯ç¾å ´ã®æ„šç—´ã‚’GPTã§ãƒ†ã‚­ã‚¹ãƒˆåŒ–â†’å†æ§‹æˆã€‚\nç·¨é›†ã¯Remotion Ã— Claude Code Ã— codexã§ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³åˆ¶å¾¡ã€åŒæœŸã€æ¼”å‡ºã‚’å®Œçµã€‚\n
\ No newline at end of file
diff --git a/index.html b/index.html
index f2f60af..91ef824 100644
--- a/index.html
+++ b/index.html
@@ -1,52 +1,86 @@
-&lt;!DOCTYPE html&gt;
+&lt;!doctype html&gt;
 &lt;html lang="ja"&gt;
   &lt;head&gt;
     &lt;meta charset="UTF-8" /&gt;
-    &lt;link rel="icon" href="data:," /&gt;
+    &lt;link rel="icon" type="image/svg+xml" href="/vite.svg" /&gt;
     &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
-    &lt;title&gt;ITOPAN | Takamasa Ito&lt;/title&gt;
-    &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;
+    &lt;title&gt;Itopan - Takamasa Ito&lt;/title&gt;
+    &lt;!-- Google Fonts: Zen Old Mincho for headings, Zen Kaku Gothic New for body --&gt;
     &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
     &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
-    &lt;link href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;500;700;900&amp;display=swap" rel="stylesheet"&gt;
+    &lt;link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@300;400;500;700&amp;family=Zen+Old+Mincho:wght@400;500;600;700;900&amp;display=swap" rel="stylesheet"&gt;
+    
+    &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;
+    &lt;script&gt;
+      tailwind.config = {
+        theme: {
+          extend: {
+            colors: {
+              sumi: '#1c1c1c',      // Ink Black
+              washi: '#fcfaf2',     // Paper White
+              ai: '#165e83',        // Indigo
+              matcha: '#c5dbb5',    // Tea Green
+              sakura: '#fdeff2',    // Cherry Blossom
+              enji: '#b3424a',      // Dark Red
+              kicha: '#c39143',     // Gold/Brown
+              nezumi: '#949495',    // Mouse Grey
+            },
+            fontFamily: {
+              serif: ['"Zen Old Mincho"', 'serif'],
+              sans: ['"Zen Kaku Gothic New"', 'sans-serif'],
+            },
+            backgroundImage: {
+              'washi-pattern': "url('https://www.transparenttextures.com/patterns/rice-paper-2.png')", // Simple noise texture for paper effect
+            }
+          }
+        }
+      }
+    &lt;/script&gt;
     &lt;style&gt;
       body {
         margin: 0;
-        padding: 0;
-        font-family: 'Zen Old Mincho', serif;
-        background-color: #020403; /* Deep forest dark */
-        color: #e4e7e5;
-        overflow: hidden; /* Handled by R3F ScrollControls */
+        background-color: #fcfaf2; /* washi */
+        color: #1c1c1c; /* sumi */
+        font-family: 'Zen Kaku Gothic New', sans-serif;
       }
       
-      /* Custom Scrollbar Hide */
-      ::-webkit-scrollbar {
-        width: 0px;
-        background: transparent;
-      }
-
-      .vertical-text {
-        writing-mode: vertical-rl;
-        text-orientation: upright;
-        letter-spacing: 0.15em;
-      }
-
-      .noise-overlay {
+      .washi-overlay {
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
+        background-image: url('https://www.transparenttextures.com/patterns/rice-paper-2.png');
+        opacity: 0.4;
         pointer-events: none;
         z-index: 50;
-        opacity: 0.05;
-        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
+      }
+
+      .vertical-text {
+        writing-mode: vertical-rl;
+        text-orientation: upright;
+        letter-spacing: 0.1em;
+      }
+
+      /* Custom scrollbar for Webkit */
+      ::-webkit-scrollbar {
+        width: 8px;
+      }
+      ::-webkit-scrollbar-track {
+        background: #fcfaf2; 
+      }
+      ::-webkit-scrollbar-thumb {
+        background: #949495; 
+        border-radius: 4px;
+      }
+      ::-webkit-scrollbar-thumb:hover {
+        background: #165e83; 
       }
     &lt;/style&gt;
-&lt;/head&gt;
+  &lt;/head&gt;
   &lt;body&gt;
     &lt;div id="root"&gt;&lt;/div&gt;
-    &lt;div class="noise-overlay"&gt;&lt;/div&gt;
+    &lt;div class="washi-overlay"&gt;&lt;/div&gt;
     &lt;script type="module" src="/index.tsx"&gt;&lt;/script&gt;
   &lt;/body&gt;
 &lt;/html&gt;
\ No newline at end of file
</pre></details><details class="snapshot-details"><summary class="details-toggle">git status --porcelainï¼ˆworktreeï¼‰</summary><pre>(clean)
</pre></details></div></td>
            <td><div class="agent-meta"><span class="status-badge status-badge--completed">è©•ä¾¡å®Œäº†</span><span class="agent-label">ç·åˆ <strong class="score-strong">474/600</strong> ğŸ¥ˆ / ãƒ¡ãƒ€ãƒ« <strong>ğŸ¥ˆ</strong>ï¼ˆ79/100ï¼‰</span></div><div class="agent-block"><div class="hex-wrap"><svg class="hex" width="150" height="150" viewBox="0 0 150 150" role="img" aria-label="6æŒ‡æ¨™ å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆ"><polygon points="75.00,62.00 86.26,68.50 86.26,81.50 75.00,88.00 63.74,81.50 63.74,68.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,49.00 97.52,62.00 97.52,88.00 75.00,101.00 52.48,88.00 52.48,62.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,36.00 108.77,55.50 108.77,94.50 75.00,114.00 41.23,94.50 41.23,55.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,23.00 120.03,49.00 120.03,101.00 75.00,127.00 29.97,101.00 29.97,49.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,10.00 131.29,42.50 131.29,107.50 75.00,140.00 18.71,107.50 18.71,42.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/><polygon points="75.00,20.40 121.16,48.35 120.03,101.00 75.00,120.50 32.22,99.70 28.84,48.35" fill="rgba(22,94,131,0.22)" stroke="rgba(22,94,131,0.55)" stroke-width="2"/></svg><ul class="metrics"><li><span class="metric-name">UI/UX</span><span class="metric-score">84ç‚¹</span></li><li><span class="metric-name">ä¸–ç•Œè¦³</span><span class="metric-score">82ç‚¹</span></li><li><span class="metric-name">æƒ…å ±è¨­è¨ˆ</span><span class="metric-score">80ç‚¹</span></li><li><span class="metric-name">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span><span class="metric-score">70ç‚¹</span></li><li><span class="metric-name">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span><span class="metric-score">76ç‚¹</span></li><li><span class="metric-name">ã‚³ãƒ¼ãƒ‰å“è³ª</span><span class="metric-score">82ç‚¹</span></li></ul></div><div class="agent-links"><div><span class="kv">Branch</span> <code>task/task-1765797143279-8f775a</code></div><div><span class="kv">HEAD</span> <code>ad8172a</code>ï¼ˆmainã‹ã‚‰1ã‚³ãƒŸãƒƒãƒˆï¼‰</div><div><span class="kv">Worktree</span> <a href="../../.worktrees/task-1765797143279-8f775a">../../.worktrees/task-1765797143279-8f775a</a></div><div><span class="kv">æˆæœç‰©</span> <a href="../../.worktrees/task-1765797143279-8f775a/index.html">index.html</a></div></div><div class="reasons"><div class="reason"><div class="reason-title">UI/UX 84ç‚¹</div><div class="reason-body">ãƒ’ãƒ¼ãƒ­ãƒ¼ã®ç¸¦æ›¸ãã‚¿ã‚¤ãƒã¨â€œé–“â€ã®ä½™ç™½è¨­è¨ˆãŒè‰¯ãã€ä½œå“ä¸€è¦§â†’è©³ç´°â†’é€£çµ¡ã®å°ç·šã‚‚è‡ªç„¶ã€‚å›ºå®šãƒŠãƒ“ãŒç„¡ãå›éŠæ€§ã¯ä¸­ç¨‹åº¦ã€‚</div></div><div class="reason"><div class="reason-title">ä¸–ç•Œè¦³ 82ç‚¹</div><div class="reason-body">Warm Black + stone/amber/redï¼ˆâ€œJapan Redâ€ï¼‰ã§ãƒ¢ãƒ€ãƒ³å’Œã‚’è¡¨ç¾ã€‚å’Œç´™/é‡‘ç¶™ãç­‰ã®ãƒ¢ãƒãƒ¼ãƒ•ã¯æ§ãˆã‚ã§ã€ä¸–ç•Œè¦³ã®å¯†åº¦ã¯ä¸Šä½æ¡ˆã‚ˆã‚Šè–„ã„ã€‚</div></div><div class="reason"><div class="reason-title">æƒ…å ±è¨­è¨ˆ 80ç‚¹</div><div class="reason-body">ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†å‰²ãƒ»è¦‹å‡ºã—ãƒ»ã‚³ãƒ”ãƒ¼ãŒæ•´ç†ã•ã‚Œã¦ãŠã‚Šã€æƒ…å ±ã®èª­ã¿å–ã‚Šã‚„ã™ã•ãŒæ”¹å–„ã€‚</div></div><div class="reason"><div class="reason-title">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 70ç‚¹</div><div class="reason-body">å¤§ããªç ´ç¶»ã¯ãªã„ãŒã€mix-blend-differenceã‚„å‹•ãã«é–¢ã™ã‚‹é…æ…®ï¼ˆreduced-motionç­‰ï¼‰ãŒä¸è¶³ã€‚</div></div><div class="reason"><div class="reason-title">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ 76ç‚¹</div><div class="reason-body">Canvas frameloopåˆ¶å¾¡ã‚ã‚Šã€‚Tailwind CDN/Google Fonts/ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ®‹ã‚‹ãŸã‚â€œè»½é‡â€ã§ã¯ãªã„ãŒã€éå‰°ãªè£…é£¾ã¯å°‘ãªã‚ã€‚</div></div><div class="reason"><div class="reason-title">ã‚³ãƒ¼ãƒ‰å“è³ª 82ç‚¹</div><div class="reason-body">è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æ¨ªæ–­ã—ã¦æ•´åˆã‚’å–ã‚Šã¤ã¤å·®åˆ†ã‚’æŠ‘ãˆãŸæ”¹ä¿®ã§èª­ã¿ã‚„ã™ã„ã€‚ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒªã‚»ãƒƒãƒˆå‘¨ã‚Šã¯ã‚„ã‚„å†—é•·ã€‚</div></div></div><details class="snapshot-details"><summary class="details-toggle">git logï¼ˆmain..branchï¼‰</summary><pre>ad8172a (task/task-1765797143279-8f775a) feat(ui): Redesign portfolio with 'Modern Wa' aesthetic - Update global theme to Warm Black (Stone-950) - Replace Emerald colors with Stone, Amber, and Red (Japan Red) - Update 3D scene lighting to warm sunlight and ink-stone mountains - Refactor Overlay and AboutDetail for paper-like texture and clean typography

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --statï¼ˆmain...branchï¼‰</summary><pre> App.tsx                      |  12 +--
 components/AboutDetail.tsx   |  86 +++++++++----------
 components/Experience.tsx    |  28 +++----
 components/LazyVideo.tsx     |   2 +-
 components/MountainWorld.tsx |  26 +++---
 components/Overlay.tsx       | 196 +++++++++++++++++++++----------------------
 index.html                   |   4 +-
 7 files changed, 177 insertions(+), 177 deletions(-)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --name-statusï¼ˆmain...branchï¼‰</summary><pre>M	App.tsx
M	components/AboutDetail.tsx
M	components/Experience.tsx
M	components/LazyVideo.tsx
M	components/MountainWorld.tsx
M	components/Overlay.tsx
M	index.html

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæŠœç²‹ï¼‰</summary><pre>diff --git a/App.tsx b/App.tsx
index 5900150..77a4d07 100644
--- a/App.tsx
+++ b/App.tsx
@@ -12,7 +12,7 @@ const AppContent: React.FC = () =&gt; {
   return (
     &lt;&gt;
       &lt;div
-        className="w-full h-screen bg-[#020403]"
+        className="w-full h-screen bg-[#0c0a09]"
       &gt;
         &lt;Canvas
           shadows
@@ -22,17 +22,17 @@ const AppContent: React.FC = () =&gt; {
           frameloop={isDetailOpen ? 'never' : 'always'}
         &gt;
           &lt;ContextBridge&gt;
-            &lt;color attach="background" args={['#020403']} /&gt;
+            &lt;color attach="background" args={['#0c0a09']} /&gt;
             &lt;Suspense fallback={null}&gt;
               &lt;Experience /&gt;
             &lt;/Suspense&gt;
           &lt;/ContextBridge&gt;
         &lt;/Canvas&gt;
         &lt;Loader
-          containerStyles={{ background: '#020403' }}
-          innerStyles={{ width: '200px', height: '2px', background: '#1c2621' }}
-          barStyles={{ background: '#34d399', height: '2px' }}
-          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#666' }}
+          containerStyles={{ background: '#0c0a09' }}
+          innerStyles={{ width: '200px', height: '1px', background: '#44403c' }}
+          barStyles={{ background: '#d97706', height: '1px' }}
+          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#a8a29e' }}
         /&gt;
       &lt;/div&gt;
 
diff --git a/components/AboutDetail.tsx b/components/AboutDetail.tsx
index 8a2264e..65c5056 100644
--- a/components/AboutDetail.tsx
+++ b/components/AboutDetail.tsx
@@ -33,7 +33,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       animate="visible"
       exit="exit"
       variants={quickStagger}
-      className="w-full min-h-screen"
+      className="w-full min-h-screen text-[#e7e5e4]"
     &gt;
       {/* Fixed Back Button - Top Left */}
       &lt;motion.div
@@ -42,7 +42,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-stone-400 hover:text-amber-500 flex items-center gap-2 text-sm font-mono tracking-widest bg-stone-950/60 hover:bg-stone-900/60 backdrop-blur-md px-5 py-3 rounded-sm border border-stone-700/50 hover:border-amber-700/50 transition-all duration-300 shadow-lg"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -58,7 +58,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-stone-400 hover:text-amber-500 flex items-center gap-2 text-sm font-mono tracking-widest bg-stone-950/60 hover:bg-stone-900/60 backdrop-blur-md px-5 py-3 rounded-sm border border-stone-700/50 hover:border-amber-700/50 transition-all duration-300 shadow-lg"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -70,7 +70,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       {/* Hero Section - Full viewport */}
       &lt;section className="min-h-screen flex flex-col justify-center px-8 md:px-20 max-w-6xl mx-auto"&gt;
         &lt;motion.div variants={quickFade}&gt;
-          &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
+          &lt;p className="text-amber-700/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
           &lt;h1 className="text-5xl md:text-7xl font-serif text-stone-100 mb-6 leading-tight"&gt;
             ã‚¤ãƒˆãƒ‘ãƒ³ã«ã¤ã„ã¦
           &lt;/h1&gt;
@@ -80,7 +80,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
           &lt;p className="text-xl md:text-2xl text-stone-300 leading-relaxed font-light mb-8"&gt;
             é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
             ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
-            &lt;span className="text-emerald-400 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
+            &lt;span className="text-amber-600 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
           &lt;/p&gt;
           &lt;p className="text-base md:text-lg text-stone-500 leading-relaxed font-light"&gt;
             é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
@@ -91,7 +91,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
 
         &lt;motion.div variants={quickFade} className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
           &lt;div className="flex items-center gap-2 text-stone-600"&gt;
-            &lt;span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"&gt;&lt;/span&gt;
+            &lt;span className="w-2 h-2 bg-stone-700 rounded-full animate-pulse"&gt;&lt;/span&gt;
             &lt;span className="text-sm"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
           &lt;/div&gt;
 
@@ -101,33 +101,33 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
               href="https://x.com/takamasa045"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-800 hover:border-stone-600 hover:bg-stone-800/50 rounded-sm transition-all duration-300"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-stone-200 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
+              &lt;span className="text-sm text-stone-400 group-hover:text-stone-200 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
             &lt;/a&gt;
             &lt;a
               href="https://note.com/azumimusuhi"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-800 hover:border-stone-600 hover:bg-stone-800/50 rounded-sm transition-all duration-300"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-stone-200 transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
+              &lt;span className="text-sm text-stone-400 group-hover:text-stone-200 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
             &lt;/a&gt;
           &lt;/div&gt;
         &lt;/motion.div&gt;
       &lt;/section&gt;
 
       {/* Vision Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-stone-900/10 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
+            &lt;p className="text-amber-700/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
             &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
           &lt;/motion.div&gt;
 
@@ -147,7 +147,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
               ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
               ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-emerald-950/30 p-8 rounded-sm border border-emerald-900/30"&gt;
+            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-stone-900/30 p-8 rounded-sm border border-stone-800/30"&gt;
               ã¾ãŸã€ãã®éç¨‹ã§ç”Ÿã¾ã‚Œã‚‹&lt;br /&gt;
               ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
               æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
@@ -157,10 +157,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Philosophy Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-stone-900/10 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
+            &lt;p className="text-amber-700/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
             &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
           &lt;/motion.div&gt;
 
@@ -168,7 +168,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 1 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;01&lt;/span&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-stone-800"&gt;01&lt;/span&gt;
                 &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
                   èº«éŠ­ã¨æ™‚é–“ã‚’ã¤ãè¾¼ã‚“ã§è¦‹ãˆã¦ããŸ&lt;br /&gt;ã€Œè‡ªåˆ†ãªã‚Šã®AIã€
                 &lt;/h3&gt;
@@ -178,7 +178,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                   2022å¹´ã‹ã‚‰ç”»åƒç”ŸæˆAIã€2024å¹´ã¯å‹•ç”»ç”Ÿæˆã€2025å¹´ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼MCPãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æ³¨åŠ›ã—ã¦ãã¾ã—ãŸã€‚
                   æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚„ãƒ„ãƒ¼ãƒ«ãŒå‡ºã‚‹ãŸã³ã«è‡ªè…¹ã§è©¦ã—ç¶šã‘ã€ä»•äº‹ä»¥å¤–ã®å¤šãã®æ™‚é–“ã‚’AIã®æ¤œè¨¼ã¨å®Ÿé¨“ã«æ³¨ã„ã§ãã¾ã—ãŸã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
+                &lt;div className="bg-stone-900/30 border-l-2 border-stone-700/50 p-6"&gt;
                   &lt;ul className="space-y-2 text-stone-300"&gt;
                     &lt;li&gt;ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
@@ -188,9 +188,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’è‡ªåˆ†ã®æ‰‹ã§ç¢ºã‹ã‚ç¶šã‘ã¦ããŸçµæœã€ãŠä»•äº‹ã«ãªã‚‹æ¡ˆä»¶ãŒå°‘ã—ãšã¤å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200 text-lg bg-emerald-950/30 p-6 rounded-sm border border-emerald-900/30"&gt;
+                &lt;p className="text-stone-200 text-lg bg-stone-900/30 p-6 rounded-sm border border-stone-800/30"&gt;
                   ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
+                  &lt;span className="text-amber-600"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -198,7 +198,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 2 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;02&lt;/span&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-stone-800"&gt;02&lt;/span&gt;
                 &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
                   é–‹ç™ºã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã®ã‚ã„ã ã‚’ã€&lt;br /&gt;è¡Œãæ¥ã—ã‚„ã™ãã™ã‚‹
                 &lt;/h3&gt;
@@ -208,7 +208,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                   ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã ã‘ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã ã‘ã€ã§ã¯ãªãã€
                   ã‚³ãƒ¼ãƒ‰ã‚‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã€æ˜ åƒã‚‚ã€ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã€ã‚†ã‚‹ãã¾ãŸã„ã§è§¦ã£ã¦ã„ã‘ã‚‹çŠ¶æ…‹ã‚’ã¤ãã‚‹ã“ã¨ã«é–¢å¿ƒãŒã‚ã‚Šã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
+                &lt;div className="bg-stone-900/30 border-l-2 border-stone-700/50 p-6"&gt;
                   &lt;ul className="space-y-2 text-stone-300"&gt;
                     &lt;li&gt;ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
                     &lt;li&gt;ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
@@ -219,7 +219,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;/p&gt;
                 &lt;p className="text-stone-200"&gt;
                   ãƒ—ãƒ­ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã ã‘ã®ã‚‚ã®ã«ã›ãšã€&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
+                  &lt;span className="text-amber-600"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -227,7 +227,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 3 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;03&lt;/span&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-stone-800"&gt;03&lt;/span&gt;
                 &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
                   AIã®ã€Œã“ã‚Œã‹ã‚‰ã®ä½¿ã„æ–¹ã€ã‚’&lt;br /&gt;ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹
                 &lt;/h3&gt;
@@ -241,7 +241,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’ä¸€ç·’ã«è€ƒãˆã€è¨€èªåŒ–ã—ã€å…·ä½“çš„ãªå½¢ã«è½ã¨ã—ã¦ã„ãç›¸æ£’ã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
+                &lt;div className="bg-stone-900/30 border-l-2 border-stone-700/50 p-6"&gt;
                   &lt;p className="text-stone-300 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
                   &lt;ul className="space-y-2 text-stone-300"&gt;
                     &lt;li&gt;ã©ã‚“ãªã‚¿ã‚¹ã‚¯ã‚’AIã«ä»»ã›ã‚‹ã‹&lt;/li&gt;
@@ -250,7 +250,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
+                  &lt;span className="text-amber-600"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -259,10 +259,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Services &amp; Contact Combined Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-emerald-950/20"&gt;
+      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-stone-900/30"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
+            &lt;p className="text-amber-700/60 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
             &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200 mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
             &lt;p className="text-stone-500 font-light max-w-2xl mx-auto"&gt;
               ä¾‹ãˆã°ã€ã“ã‚“ãªãƒ†ãƒ¼ãƒã§ã”ä¸€ç·’ã§ãã¾ã™ã€‚
@@ -294,21 +294,21 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
           &lt;/motion.div&gt;
 
           {/* Contact CTA */}
-          &lt;motion.div variants={quickFade} className="bg-emerald-950/30 backdrop-blur-sm border border-emerald-900/30 rounded-sm p-8 md:p-12"&gt;
+          &lt;motion.div variants={quickFade} className="bg-stone-950/30 backdrop-blur-sm border border-stone-800 rounded-sm p-8 md:p-12"&gt;
             &lt;div className="grid grid-cols-1 lg:grid-cols-2 gap-12"&gt;
               &lt;div&gt;
                 &lt;h3 className="text-2xl font-serif text-stone-200 mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
                 &lt;ul className="space-y-3 text-stone-400 font-light mb-8"&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-amber-600 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãªç”ŸæˆAIã‚’è©¦ã—ã¦ã¿ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-amber-600 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     è‡ªç¤¾ãƒ»è‡ªåˆ†ã®æ´»å‹•ã«ã€ã©ã‚“ãªAIæ´»ç”¨ã®ä½™åœ°ãŒã‚ã‚‹ã®ã‹æ•´ç†ã—ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-amber-600 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     å°ã•ãæ¤œè¨¼ã§ãã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã€ä¸€ç·’ã«çµ„ã¿ç«‹ã¦ã¦ã»ã—ã„
                   &lt;/li&gt;
                 &lt;/ul&gt;
@@ -327,10 +327,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                     href="https://forms.gle/BBfLfsDWmWbPiTLb8"
                     target="_blank"
                     rel="noopener noreferrer"
-                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-emerald-900/40 hover:bg-emerald-800/60 border border-emerald-700/50 text-stone-200 transition-all duration-300 rounded-sm group"
+                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-stone-800/80 hover:bg-stone-700 border border-stone-600/50 text-stone-200 transition-all duration-300 rounded-sm group"
                   &gt;
-                    &lt;span className="text-emerald-400 group-hover:text-white transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
-                    &lt;span className="text-stone-500 text-sm"&gt;&amp;rarr;&lt;/span&gt;
+                    &lt;span className="text-stone-200 group-hover:text-white transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
+                    &lt;span className="text-stone-500 text-sm group-hover:text-amber-500 transition-colors"&gt;&amp;rarr;&lt;/span&gt;
                   &lt;/a&gt;
 
                   {/* Social Links */}
@@ -339,23 +339,23 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                       href="https://x.com/takamasa045"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-amber-700/50 hover:bg-stone-800/50 rounded-sm transition-all duration-300"
                     &gt;
                       &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;X&lt;/span&gt;
+                      &lt;span className="text-sm text-stone-400 group-hover:text-amber-500 font-mono transition-colors"&gt;X&lt;/span&gt;
                     &lt;/a&gt;
                     &lt;a
                       href="https://note.com/azumimusuhi"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-amber-700/50 hover:bg-stone-800/50 rounded-sm transition-all duration-300"
                     &gt;
                       &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;note&lt;/span&gt;
+                      &lt;span className="text-sm text-stone-400 group-hover:text-amber-500 font-mono transition-colors"&gt;note&lt;/span&gt;
                     &lt;/a&gt;
                   &lt;/div&gt;
                 &lt;/div&gt;
@@ -370,7 +370,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
         &lt;motion.div variants={quickFade} className="max-w-6xl mx-auto text-center"&gt;
           &lt;button
             onClick={onBack}
-            className="group inline-flex items-center gap-3 px-8 py-4 bg-emerald-950/40 hover:bg-emerald-900/60 border-2 border-emerald-700/50 hover:border-emerald-500 text-emerald-400 hover:text-emerald-300 transition-all duration-300 rounded-md font-mono text-sm shadow-lg hover:shadow-emerald-500/20"
+            className="group inline-flex items-center gap-3 px-8 py-4 bg-stone-950/40 hover:bg-stone-900/60 border border-stone-700/50 hover:border-amber-700/50 text-stone-400 hover:text-amber-500 transition-all duration-300 rounded-md font-mono text-sm shadow-lg"
           &gt;
             &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
               &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -388,8 +388,8 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
 
 const ServiceCard: React.FC&lt;{ icon: string; title: string; description: string }&gt; = ({ icon, title, description }) =&gt; {
   return (
-    &lt;div className="group bg-stone-950/40 border border-emerald-900/30 hover:border-emerald-500/50 rounded-sm p-8 transition-all duration-300 hover:bg-emerald-950/20"&gt;
-      &lt;span className="text-3xl font-serif text-emerald-900/50 group-hover:text-emerald-700/50 transition-colors"&gt;{icon}&lt;/span&gt;
+    &lt;div className="group bg-stone-950/40 border border-stone-800 hover:border-amber-700/30 rounded-sm p-8 transition-all duration-300 hover:bg-stone-900/20"&gt;
+      &lt;span className="text-3xl font-serif text-stone-700 group-hover:text-amber-800/50 transition-colors"&gt;{icon}&lt;/span&gt;
       &lt;h3 className="text-lg text-stone-200 font-serif mt-4 mb-3 group-hover:text-white transition-colors"&gt;{title}&lt;/h3&gt;
       &lt;p className="text-sm text-stone-500 font-light group-hover:text-stone-400 transition-colors"&gt;{description}&lt;/p&gt;
     &lt;/div&gt;
diff --git a/components/Experience.tsx b/components/Experience.tsx
index ac6f88c..c9e6ce7 100644
--- a/components/Experience.tsx
+++ b/components/Experience.tsx
@@ -36,36 +36,36 @@ export const Experience: React.FC = () =&gt; {
 
   return (
     &lt;&gt;
-      {/* Ambient light slightly greenish/blue for nature feel */}
-      &lt;ambientLight intensity={0.2} color="#cce3de" /&gt;
+      {/* Ambient light warm grey for paper/ink feel */}
+      &lt;ambientLight intensity={0.3} color="#a8a29e" /&gt;
       &lt;directionalLight
         ref={lightRef}
         position={[5, 10, 5]}
-        intensity={1.5}
-        color="#ecfccb" // Sunlight hint
+        intensity={1.2}
+        color="#fef3c7" // Warm sunlight
         castShadow
         shadow-bias={-0.0001}
       /&gt;
-      {/* Deep forest fog */}
-      &lt;fog attach="fog" args={['#020403', 5, 20]} /&gt;
+      {/* Warm Black fog (Stone-950) */}
+      &lt;fog attach="fog" args={['#0c0a09', 5, 20]} /&gt;
 
       {/* Pages for content sections */}
       &lt;ScrollControls pages={pages} damping={0.3}&gt;
         {/* 3D Content Layer - Moves with Scroll */}
         &lt;MountainWorld /&gt;
 
-        {/* Atmospheric Particles - Green/Gold spirits */}
+        {/* Atmospheric Particles - Gold embers/spirits */}
         &lt;Sparkles
-          count={80}
+          count={60}
           scale={12}
-          size={2}
-          speed={0.4}
-          opacity={0.4}
-          color="#6ee7b7"
+          size={3}
+          speed={0.3}
+          opacity={0.5}
+          color="#d97706"
         /&gt;
 
         &lt;group position={[0, 5, -10]}&gt;
-          &lt;Cloud opacity={0.2} speed={0.1} segments={20} color="#d1fae5" /&gt;
+          &lt;Cloud opacity={0.15} speed={0.05} segments={20} color="#f5f5f4" /&gt;
         &lt;/group&gt;
 
         {/* HTML Content Layer - Syncs with Scroll */}
@@ -74,7 +74,7 @@ export const Experience: React.FC = () =&gt; {
         &lt;/Scroll&gt;
       &lt;/ScrollControls&gt;
 
-      &lt;Environment preset="park" environmentIntensity={0.3} /&gt;
+      &lt;Environment preset="city" environmentIntensity={0.2} /&gt;
     &lt;/&gt;
   );
 };
\ No newline at end of file
diff --git a/components/LazyVideo.tsx b/components/LazyVideo.tsx
index f8e6815..7e406ea 100644
--- a/components/LazyVideo.tsx
+++ b/components/LazyVideo.tsx
@@ -64,7 +64,7 @@ export const LazyVideo: React.FC&lt;LazyVideoProps&gt; = ({
       {/* Loading placeholder */}
       {!isLoaded &amp;&amp; (
         &lt;div className="absolute inset-0 bg-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-8 h-8 border-2 border-emerald-500/30 border-t-emerald-500 rounded-full animate-spin" /&gt;
+          &lt;div className="w-8 h-8 border-2 border-amber-700/30 border-t-amber-600 rounded-full animate-spin" /&gt;
         &lt;/div&gt;
       )}
 

... (truncated; total 1036 lines) ...

           variants={quickFade}
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/40 hover:bg-emerald-900/60 px-4 py-2 rounded-md border border-emerald-700/50 hover:border-emerald-500 transition-all duration-300"
+          className="group text-stone-400 hover:text-amber-500 flex items-center gap-2 text-sm font-mono tracking-widest bg-stone-950/40 hover:bg-stone-900/60 px-4 py-2 rounded-sm border border-stone-700/50 hover:border-amber-700/50 transition-all duration-300"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -715,7 +715,7 @@ const ProjectDetail: React.FC&lt;{ project: ProjectCollection; onBack: () =&gt; void }
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-stone-300 hover:text-amber-500 flex items-center gap-2 text-sm font-mono tracking-widest bg-stone-900/80 hover:bg-stone-800/90 backdrop-blur-md px-5 py-3 rounded-sm border-2 border-stone-700/50 hover:border-amber-600/50 transition-all duration-300 shadow-lg"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -728,7 +728,7 @@ const ProjectDetail: React.FC&lt;{ project: ProjectCollection; onBack: () =&gt; void }
       &lt;div className="flex flex-col lg:flex-row gap-8 lg:gap-16"&gt;
         &lt;motion.div variants={quickFade} className="w-full lg:w-2/3"&gt;
           &lt;div className="flex items-center gap-4 mb-6"&gt;
-            &lt;span className="text-emerald-500 font-mono text-xs tracking-wider border border-emerald-500/30 px-2 py-1 rounded-sm uppercase"&gt;{project.category}&lt;/span&gt;
+            &lt;span className="text-amber-600 font-mono text-xs tracking-wider border border-amber-900/30 px-2 py-1 rounded-sm uppercase"&gt;{project.category}&lt;/span&gt;
             &lt;span className="text-stone-500 font-mono text-xs"&gt;{project.year}&lt;/span&gt;
           &lt;/div&gt;
 
@@ -740,10 +740,10 @@ const ProjectDetail: React.FC&lt;{ project: ProjectCollection; onBack: () =&gt; void }
         &lt;/motion.div&gt;
 
         &lt;motion.div variants={quickFade} className="w-full lg:w-1/3 flex flex-col justify-end pb-4"&gt;
-          &lt;h5 className="text-emerald-600 text-xs font-mono tracking-widest mb-4"&gt;TECHNOLOGIES&lt;/h5&gt;
+          &lt;h5 className="text-stone-500 text-xs font-mono tracking-widest mb-4"&gt;TECHNOLOGIES&lt;/h5&gt;
           &lt;div className="flex flex-wrap gap-2"&gt;
             {project.technologies.map(tech =&gt; (
-              &lt;span key={tech} className="bg-stone-900/80 text-stone-400 px-3 py-2 text-xs rounded-sm border border-emerald-900/20"&gt;
+              &lt;span key={tech} className="bg-stone-900/80 text-stone-400 px-3 py-2 text-xs rounded-sm border border-stone-800"&gt;
                 {tech}
               &lt;/span&gt;
             ))}
@@ -754,9 +754,9 @@ const ProjectDetail: React.FC&lt;{ project: ProjectCollection; onBack: () =&gt; void }
       {/* Content Grid Section */}
       &lt;motion.div variants={quickFade} className="mt-8"&gt;
         &lt;div className="flex items-center gap-4 mb-8"&gt;
-          &lt;div className="h-[1px] w-12 bg-emerald-500/50"&gt;&lt;/div&gt;
+          &lt;div className="h-[1px] w-12 bg-amber-700/50"&gt;&lt;/div&gt;
           &lt;h3 className="text-stone-200 font-serif text-xl"&gt;Collection Items / åéŒ²ã‚³ãƒ³ãƒ†ãƒ³ãƒ„&lt;/h3&gt;
-          &lt;div className="h-[1px] flex-grow bg-emerald-900/30"&gt;&lt;/div&gt;
+          &lt;div className="h-[1px] flex-grow bg-stone-800/50"&gt;&lt;/div&gt;
         &lt;/div&gt;
 
         &lt;div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"&gt;
@@ -782,7 +782,7 @@ const ContentItemCard: React.FC&lt;{ item: ContentItem }&gt; = ({ item }) =&gt; {
   return (
     &lt;motion.div
       variants={quickFade}
-      className="bg-stone-950/40 border border-emerald-900/30 hover:border-emerald-500/50 rounded-sm overflow-hidden group transition-all duration-300 flex flex-col"
+      className="bg-stone-950/40 border border-stone-800 hover:border-amber-700/40 rounded-sm overflow-hidden group transition-all duration-300 flex flex-col"
     &gt;
       {/* Visual Thumbnail Area (Lazy loaded) */}
       &lt;div className={`${item.videoUrl || item.imageUrl ? 'aspect-video' : 'h-48'} w-full relative overflow-hidden bg-black`}&gt;
@@ -804,7 +804,7 @@ const ContentItemCard: React.FC&lt;{ item: ContentItem }&gt; = ({ item }) =&gt; {
           &lt;MediaBackground type={item.type} /&gt;
         )}
         {/* Type Badge */}
-        &lt;div className="absolute top-2 left-2 bg-black/60 backdrop-blur px-2 py-1 text-[10px] text-emerald-400 font-mono uppercase rounded-sm border border-white/5 z-10"&gt;
+        &lt;div className="absolute top-2 left-2 bg-black/60 backdrop-blur px-2 py-1 text-[10px] text-stone-300 font-mono uppercase rounded-sm border border-white/5 z-10"&gt;
           {item.type}
         &lt;/div&gt;
       &lt;/div&gt;
@@ -813,7 +813,7 @@ const ContentItemCard: React.FC&lt;{ item: ContentItem }&gt; = ({ item }) =&gt; {
       &lt;div className="p-6 flex-grow flex flex-col justify-between"&gt;
         &lt;div&gt;
           &lt;div className="flex justify-between items-start mb-2"&gt;
-            &lt;h4 className="text-lg font-serif text-stone-200 group-hover:text-white transition-colors"&gt;{item.title}&lt;/h4&gt;
+            &lt;h4 className="text-lg font-serif text-stone-200 group-hover:text-amber-100 transition-colors"&gt;{item.title}&lt;/h4&gt;
             {item.date &amp;&amp; &lt;span className="text-[10px] text-stone-600 font-mono mt-1 whitespace-nowrap ml-2"&gt;{item.date}&lt;/span&gt;}
           &lt;/div&gt;
           &lt;p className="text-sm text-stone-500 leading-relaxed mb-4 font-light whitespace-pre-line"&gt;{item.description}&lt;/p&gt;
@@ -824,7 +824,7 @@ const ContentItemCard: React.FC&lt;{ item: ContentItem }&gt; = ({ item }) =&gt; {
               {item.technologies.map(tech =&gt; (
                 &lt;span
                   key={tech}
-                  className="bg-emerald-950/50 text-emerald-400/80 px-2 py-0.5 text-[10px] rounded-sm border border-emerald-900/30"
+                  className="bg-stone-900/60 text-stone-500 px-2 py-0.5 text-[10px] rounded-sm border border-stone-800"
                 &gt;
                   {tech}
                 &lt;/span&gt;
@@ -837,7 +837,7 @@ const ContentItemCard: React.FC&lt;{ item: ContentItem }&gt; = ({ item }) =&gt; {
           href={item.link}
           target="_blank"
           rel="noopener noreferrer"
-          className="inline-flex items-center justify-center w-full py-3 text-xs font-mono tracking-widest text-emerald-500 border border-emerald-900/50 hover:bg-emerald-900/20 hover:border-emerald-500 rounded-sm transition-all"
+          className="inline-flex items-center justify-center w-full py-3 text-xs font-mono tracking-widest text-amber-600/80 border border-stone-800 hover:bg-stone-900/40 hover:border-amber-700/50 rounded-sm transition-all"
         &gt;
           VIEW CONTENT â†—
         &lt;/a&gt;
@@ -851,14 +851,14 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
   return (
     &lt;div className="absolute inset-0 z-0 opacity-50 hover:opacity-70 transition-opacity duration-700"&gt;
       {type === 'video' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-emerald-950 via-stone-900 to-black"&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-stone-950 via-stone-900 to-black"&gt;
           &lt;div className="absolute inset-0 flex items-center justify-center opacity-30"&gt;
-            &lt;div className="w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-emerald-900/40 via-transparent to-transparent animate-pulse"&gt;&lt;/div&gt;
+            &lt;div className="w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-stone-800/40 via-transparent to-transparent animate-pulse"&gt;&lt;/div&gt;
           &lt;/div&gt;
-          {/* Abstract play icon feel */}
+          {/* Abstract play icon feel - Japanese Red */}
           &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
             &lt;div className="w-8 h-8 border border-white/10 rounded-full flex items-center justify-center"&gt;
-              &lt;div className="ml-0.5 w-0 h-0 border-t-[3px] border-t-transparent border-l-[6px] border-l-emerald-500/80 border-b-[3px] border-b-transparent"&gt;&lt;/div&gt;
+              &lt;div className="ml-0.5 w-0 h-0 border-t-[3px] border-t-transparent border-l-[6px] border-l-red-700/80 border-b-[3px] border-b-transparent"&gt;&lt;/div&gt;
             &lt;/div&gt;
           &lt;/div&gt;
         &lt;/div&gt;
@@ -867,19 +867,19 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
       {type === 'music' &amp;&amp; (
         &lt;div className="w-full h-full bg-stone-900 flex items-end justify-center gap-1 pb-8"&gt;
           {[...Array(12)].map((_, i) =&gt; (
-            &lt;div key={i} className="w-1.5 bg-emerald-600/30 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
+            &lt;div key={i} className="w-1.5 bg-amber-700/30 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
           ))}
         &lt;/div&gt;
       )}
 
       {type === 'mv' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-emerald-950 to-stone-900 flex items-end justify-center gap-1 pb-8 relative"&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-stone-950 to-stone-900 flex items-end justify-center gap-1 pb-8 relative"&gt;
           {[...Array(12)].map((_, i) =&gt; (
-            &lt;div key={i} className="w-1.5 bg-emerald-500/40 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
+            &lt;div key={i} className="w-1.5 bg-red-800/40 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
           ))}
           &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
             &lt;div className="w-10 h-10 border border-white/20 rounded-full flex items-center justify-center bg-black/30 backdrop-blur-sm"&gt;
-              &lt;div className="ml-0.5 w-0 h-0 border-t-[5px] border-t-transparent border-l-[8px] border-l-emerald-400/80 border-b-[5px] border-b-transparent"&gt;&lt;/div&gt;
+              &lt;div className="ml-0.5 w-0 h-0 border-t-[5px] border-t-transparent border-l-[8px] border-l-red-600/80 border-b-[5px] border-b-transparent"&gt;&lt;/div&gt;
             &lt;/div&gt;
           &lt;/div&gt;
         &lt;/div&gt;
@@ -887,12 +887,12 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
 
       {type === 'web' &amp;&amp; (
         &lt;div className="w-full h-full bg-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/10 bg-black/20 rounded-sm relative overflow-hidden"&gt;
+          &lt;div className="w-3/4 h-3/4 border border-stone-700/30 bg-black/20 rounded-sm relative overflow-hidden"&gt;
             &lt;div className="absolute top-0 left-0 w-full h-3 bg-white/5 flex gap-1 items-center px-2"&gt;
               &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
               &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
             &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-900/30 font-mono text-4xl"&gt;
+            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-stone-700/50 font-mono text-4xl"&gt;
               &amp;lt;/&amp;gt;
             &lt;/div&gt;
           &lt;/div&gt;
@@ -900,20 +900,20 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
       )}
 
       {type === 'image' &amp;&amp; (
-        &lt;div className="w-full h-full bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-stone-800 via-emerald-950 to-black"&gt;
+        &lt;div className="w-full h-full bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-stone-800 via-stone-950 to-black"&gt;
           &lt;div className="absolute top-0 right-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+')] opacity-20"&gt;&lt;/div&gt;
         &lt;/div&gt;
       )}
 
       {type === 'saas' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-emerald-950/50 to-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/20 bg-black/30 rounded-sm relative overflow-hidden"&gt;
-            &lt;div className="absolute top-0 left-0 w-full h-4 bg-emerald-900/20 flex gap-1.5 items-center px-3"&gt;
-              &lt;div className="w-2 h-2 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-400/30 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-300/20 rounded-full"&gt;&lt;/div&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-stone-800/50 to-stone-900 flex items-center justify-center"&gt;
+          &lt;div className="w-3/4 h-3/4 border border-amber-700/20 bg-black/30 rounded-sm relative overflow-hidden"&gt;
+            &lt;div className="absolute top-0 left-0 w-full h-4 bg-stone-800/40 flex gap-1.5 items-center px-3"&gt;
+              &lt;div className="w-2 h-2 bg-amber-700/40 rounded-full"&gt;&lt;/div&gt;
+              &lt;div className="w-2 h-2 bg-amber-600/30 rounded-full"&gt;&lt;/div&gt;
+              &lt;div className="w-2 h-2 bg-amber-500/20 rounded-full"&gt;&lt;/div&gt;
             &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-500/20 font-mono text-3xl tracking-widest"&gt;
+            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-amber-700/20 font-mono text-3xl tracking-widest"&gt;
               SaaS
             &lt;/div&gt;
           &lt;/div&gt;
@@ -921,17 +921,17 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
       )}
 
       {type === 'event' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-emerald-950 via-stone-900 to-emerald-950 relative overflow-hidden"&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-stone-950 via-stone-900 to-stone-950 relative overflow-hidden"&gt;
           &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-16 h-16 border-2 border-emerald-500/30 rounded-full flex items-center justify-center animate-pulse"&gt;
-              &lt;div className="w-10 h-10 border border-emerald-400/40 rounded-full flex items-center justify-center"&gt;
-                &lt;div className="w-4 h-4 bg-emerald-500/50 rounded-full"&gt;&lt;/div&gt;
+            &lt;div className="w-16 h-16 border-2 border-amber-700/30 rounded-full flex items-center justify-center animate-pulse"&gt;
+              &lt;div className="w-10 h-10 border border-amber-600/40 rounded-full flex items-center justify-center"&gt;
+                &lt;div className="w-4 h-4 bg-amber-700/50 rounded-full"&gt;&lt;/div&gt;
               &lt;/div&gt;
             &lt;/div&gt;
           &lt;/div&gt;
           &lt;div className="absolute bottom-4 left-0 right-0 flex justify-center gap-2"&gt;
             {[...Array(5)].map((_, i) =&gt; (
-              &lt;div key={i} className="w-1 h-1 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
+              &lt;div key={i} className="w-1 h-1 bg-amber-700/40 rounded-full"&gt;&lt;/div&gt;
             ))}
           &lt;/div&gt;
         &lt;/div&gt;
diff --git a/index.html b/index.html
index f2f60af..da1bf0f 100644
--- a/index.html
+++ b/index.html
@@ -14,8 +14,8 @@
         margin: 0;
         padding: 0;
         font-family: 'Zen Old Mincho', serif;
-        background-color: #020403; /* Deep forest dark */
-        color: #e4e7e5;
+        background-color: #0c0a09; /* Warm Black */
+        color: #e7e5e4;
         overflow: hidden; /* Handled by R3F ScrollControls */
       }
       
</pre></details><details class="snapshot-details"><summary class="details-toggle">git status --porcelainï¼ˆworktreeï¼‰</summary><pre>(clean)
</pre></details></div></td>
            <td><div class="agent-meta"><span class="status-badge status-badge--completed">è©•ä¾¡å®Œäº†</span><span class="agent-label">ç·åˆ <strong class="score-strong">468/600</strong> ğŸ¥ˆ / ãƒ¡ãƒ€ãƒ« <strong>ğŸ¥‰</strong>ï¼ˆ78/100ï¼‰</span></div><div class="agent-meta"><span class="status-badge status-badge--planning">æ³¨æ„</span><span class="agent-label">æœªã‚³ãƒŸãƒƒãƒˆå¤‰æ›´ã‚ã‚Š: <code>D docs/assets/index-C0209CLX.js
 M docs/index.html
?? docs/assets/index-BYbMnbzP.js</code></span></div><div class="agent-block"><div class="hex-wrap"><svg class="hex" width="150" height="150" viewBox="0 0 150 150" role="img" aria-label="6æŒ‡æ¨™ å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆ"><polygon points="75.00,62.00 86.26,68.50 86.26,81.50 75.00,88.00 63.74,81.50 63.74,68.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,49.00 97.52,62.00 97.52,88.00 75.00,101.00 52.48,88.00 52.48,62.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,36.00 108.77,55.50 108.77,94.50 75.00,114.00 41.23,94.50 41.23,55.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,23.00 120.03,49.00 120.03,101.00 75.00,127.00 29.97,101.00 29.97,49.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,10.00 131.29,42.50 131.29,107.50 75.00,140.00 18.71,107.50 18.71,42.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/><polygon points="75.00,19.10 122.28,47.70 120.03,101.00 75.00,127.00 32.22,99.70 40.10,54.85" fill="rgba(22,94,131,0.22)" stroke="rgba(22,94,131,0.55)" stroke-width="2"/></svg><ul class="metrics"><li><span class="metric-name">UI/UX</span><span class="metric-score">86ç‚¹</span></li><li><span class="metric-name">ä¸–ç•Œè¦³</span><span class="metric-score">84ç‚¹</span></li><li><span class="metric-name">æƒ…å ±è¨­è¨ˆ</span><span class="metric-score">80ç‚¹</span></li><li><span class="metric-name">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span><span class="metric-score">80ç‚¹</span></li><li><span class="metric-name">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span><span class="metric-score">76ç‚¹</span></li><li><span class="metric-name">ã‚³ãƒ¼ãƒ‰å“è³ª</span><span class="metric-score">62ç‚¹</span></li></ul></div><div class="agent-links"><div><span class="kv">Branch</span> <code>task/task-1765797142677-6fe497</code></div><div><span class="kv">HEAD</span> <code>88f759b</code>ï¼ˆmainã‹ã‚‰4ã‚³ãƒŸãƒƒãƒˆï¼‰</div><div><span class="kv">Worktree</span> <a href="../../.worktrees/task-1765797142677-6fe497">../../.worktrees/task-1765797142677-6fe497</a></div><div><span class="kv">æˆæœç‰©</span> <a href="../../.worktrees/task-1765797142677-6fe497/index.html">index.html</a></div></div><div class="reasons"><div class="reason"><div class="reason-title">UI/UX 86ç‚¹</div><div class="reason-body">å›ºå®šãƒ˜ãƒƒãƒ€ï¼ˆWORKS/ABOUT/CONTACTï¼‰ã¨ãƒ¢ãƒã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§å›éŠæ€§ãŒé«˜ã„ã€‚ã‚»ã‚¯ã‚·ãƒ§ãƒ³IDã¸ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹è¨­è¨ˆã‚‚æ˜å¿«ã€‚</div></div><div class="reason"><div class="reason-title">ä¸–ç•Œè¦³ 84ç‚¹</div><div class="reason-body">sumi/washi/ai/shu/kinã®é…è‰²ã€æ ¼å­/ãƒã‚¤ã‚º/ãƒ“ãƒãƒƒãƒˆã®é‡ã­ã§â€œå’Œãƒ¢ãƒ€ãƒ³â€ã®ç©ºæ°—æ„Ÿã‚’ä½œã‚Œã¦ã„ã‚‹ã€‚</div></div><div class="reason"><div class="reason-title">æƒ…å ±è¨­è¨ˆ 80ç‚¹</div><div class="reason-body">ã‚»ã‚¯ã‚·ãƒ§ãƒ³IDï¼ˆtop/works/contactï¼‰ã¨ãƒ˜ãƒƒãƒ€å°ç·šã«ã‚ˆã‚Šã€æƒ…å ±ã®å ´æ‰€ãŒæŠŠæ¡ã—ã‚„ã™ã„ã€‚</div></div><div class="reason"><div class="reason-title">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 80ç‚¹</div><div class="reason-body">`aria-label`/`aria-expanded` ãªã©æœ€ä½é™ã®é…æ…®ãŒã‚ã‚Šè‰¯ã„ã€‚ä¸€æ–¹ã§reduced-motionã‚„ãƒ•ã‚©ãƒ¼ã‚«ã‚¹è¦–èªæ€§ã®å¼·åŒ–ä½™åœ°ã‚ã‚Šã€‚</div></div><div class="reason"><div class="reason-title">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ 76ç‚¹</div><div class="reason-body">ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ã¯è»½ã‚ã ãŒã€Tailwind CDN/è¤‡æ•°ãƒ•ã‚©ãƒ³ãƒˆ/ã‚¨ãƒ•ã‚§ã‚¯ãƒˆé‡ã­ã¯åˆæœŸè² è·å¢—ã«å¯„ä¸ã€‚</div></div><div class="reason"><div class="reason-title">ã‚³ãƒ¼ãƒ‰å“è³ª 62ç‚¹</div><div class="reason-body">`git status`ã§æœªã‚³ãƒŸãƒƒãƒˆå·®åˆ†ãŒæ®‹ã‚Šã€ãƒ†ãƒ¼ãƒè‰²ãŒä¸€éƒ¨ä¸æ•´åˆï¼ˆemeraldæ®‹ã‚Šï¼‰ãªçŠ¶æ…‹ã€‚å®Œæˆç‰©ã¨ã—ã¦ã®ä¿¡é ¼æ€§ãŒè½ã¡ã‚‹ã€‚</div></div></div><details class="snapshot-details"><summary class="details-toggle">git logï¼ˆmain..branchï¼‰</summary><pre>88f759b (task/task-1765797142677-6fe497) feat: recolor 3D scene with wa palette
832ba29 feat: restyle works and details with wa-modern palette
b0ee4e3 feat: add wa-modern header navigation
329788f feat: introduce wa-modern global theme

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --statï¼ˆmain...branchï¼‰</summary><pre> App.tsx                      |  23 +--
 components/AboutDetail.tsx   | 150 +++++++-------
 components/Experience.tsx    |  26 +--
 components/LazyVideo.tsx     |   6 +-
 components/MountainWorld.tsx |  36 +++-
 components/Overlay.tsx       | 451 ++++++++++++++++++++++++++++++-------------
 index.html                   |  93 ++++++++-
 7 files changed, 525 insertions(+), 260 deletions(-)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --name-statusï¼ˆmain...branchï¼‰</summary><pre>M	App.tsx
M	components/AboutDetail.tsx
M	components/Experience.tsx
M	components/LazyVideo.tsx
M	components/MountainWorld.tsx
M	components/Overlay.tsx
M	index.html

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæŠœç²‹ï¼‰</summary><pre>diff --git a/App.tsx b/App.tsx
index 5900150..d57d8b4 100644
--- a/App.tsx
+++ b/App.tsx
@@ -11,38 +11,27 @@ const AppContent: React.FC = () =&gt; {
 
   return (
     &lt;&gt;
-      &lt;div
-        className="w-full h-screen bg-[#020403]"
-      &gt;
+      &lt;div className="w-full h-screen"&gt;
         &lt;Canvas
           shadows
           camera={{ position: [0, 0, 5], fov: 35 }}
           dpr={[1, 2]}
-          gl={{ antialias: true, alpha: false }}
+          gl={{ antialias: true, alpha: true }}
           frameloop={isDetailOpen ? 'never' : 'always'}
         &gt;
           &lt;ContextBridge&gt;
-            &lt;color attach="background" args={['#020403']} /&gt;
             &lt;Suspense fallback={null}&gt;
               &lt;Experience /&gt;
             &lt;/Suspense&gt;
           &lt;/ContextBridge&gt;
         &lt;/Canvas&gt;
         &lt;Loader
-          containerStyles={{ background: '#020403' }}
-          innerStyles={{ width: '200px', height: '2px', background: '#1c2621' }}
-          barStyles={{ background: '#34d399', height: '2px' }}
-          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#666' }}
+          containerStyles={{ background: '#050607' }}
+          innerStyles={{ width: '220px', height: '2px', background: 'rgba(247, 242, 231, 0.14)' }}
+          barStyles={{ background: '#d6453d', height: '2px' }}
+          dataStyles={{ fontFamily: 'IBM Plex Mono', fontSize: '12px', color: 'rgba(247, 242, 231, 0.65)' }}
         /&gt;
       &lt;/div&gt;
-
-      {/* Static Logo/Nav overlay if needed outside canvas */}
-      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        ITOPAN / ã‚¤ãƒˆãƒ‘ãƒ³
-      &lt;/div&gt;
-      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        PORTFOLIO
-      &lt;/div&gt;
     &lt;/&gt;
   );
 };
diff --git a/components/AboutDetail.tsx b/components/AboutDetail.tsx
index 8a2264e..1c98187 100644
--- a/components/AboutDetail.tsx
+++ b/components/AboutDetail.tsx
@@ -42,7 +42,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-washi/75 hover:text-washi flex items-center gap-2 text-sm font-mono tracking-widest bg-sumi/55 hover:bg-sumi/70 backdrop-blur-md px-5 py-3 rounded-2xl border border-washi/10 hover:border-kin/50 transition-all duration-300 shadow-lg shadow-black/20"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -58,7 +58,7 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group text-washi/75 hover:text-washi flex items-center gap-2 text-sm font-mono tracking-widest bg-sumi/55 hover:bg-sumi/70 backdrop-blur-md px-5 py-3 rounded-2xl border border-washi/10 hover:border-kin/50 transition-all duration-300 shadow-lg shadow-black/20"
         &gt;
           &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
             &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
@@ -68,21 +68,21 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/motion.div&gt;
 
       {/* Hero Section - Full viewport */}
-      &lt;section className="min-h-screen flex flex-col justify-center px-8 md:px-20 max-w-6xl mx-auto"&gt;
+      &lt;section className="min-h-screen flex flex-col justify-center px-6 py-24 md:px-12 lg:px-16 max-w-6xl mx-auto"&gt;
         &lt;motion.div variants={quickFade}&gt;
-          &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
-          &lt;h1 className="text-5xl md:text-7xl font-serif text-stone-100 mb-6 leading-tight"&gt;
+          &lt;p className="text-kin/90 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
+          &lt;h1 className="text-5xl md:text-7xl font-serif text-washi mb-6 leading-tight"&gt;
             ã‚¤ãƒˆãƒ‘ãƒ³ã«ã¤ã„ã¦
           &lt;/h1&gt;
         &lt;/motion.div&gt;
 
         &lt;motion.div variants={quickFade} className="max-w-3xl"&gt;
-          &lt;p className="text-xl md:text-2xl text-stone-300 leading-relaxed font-light mb-8"&gt;
+          &lt;p className="text-xl md:text-2xl text-washi/70 leading-relaxed font-light mb-8"&gt;
             é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
             ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
-            &lt;span className="text-emerald-400 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
+            &lt;span className="text-shu font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
           &lt;/p&gt;
-          &lt;p className="text-base md:text-lg text-stone-500 leading-relaxed font-light"&gt;
+          &lt;p className="text-base md:text-lg text-washi/60 leading-relaxed font-light"&gt;
             é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
             ã‚³ãƒ¼ãƒ‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼æ˜ åƒï¼æ–‡ç« ï¼ä½“é¨“è¨­è¨ˆã‚’è¡Œãæ¥ã—ãªãŒã‚‰ã€&lt;br /&gt;
             ç”ŸæˆAIã‚’å‰æã«ã—ãŸã‚‚ã®ã¥ãã‚Šã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
@@ -90,8 +90,8 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
         &lt;/motion.div&gt;
 
         &lt;motion.div variants={quickFade} className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
-          &lt;div className="flex items-center gap-2 text-stone-600"&gt;
-            &lt;span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"&gt;&lt;/span&gt;
+          &lt;div className="flex items-center gap-2 text-washi/60"&gt;
+            &lt;span className="w-2 h-2 bg-kin/80 rounded-full animate-pulse"&gt;&lt;/span&gt;
             &lt;span className="text-sm"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
           &lt;/div&gt;
 
@@ -101,53 +101,53 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
               href="https://x.com/takamasa045"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-sumi/35 border border-washi/10 hover:border-kin/50 hover:bg-sumi/45 rounded-2xl transition-all duration-300 backdrop-blur-md"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-washi/80 group-hover:text-washi transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
+              &lt;span className="text-sm text-washi/80 group-hover:text-kin font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
             &lt;/a&gt;
             &lt;a
               href="https://note.com/azumimusuhi"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-3 px-6 py-3 bg-sumi/35 border border-washi/10 hover:border-kin/50 hover:bg-sumi/45 rounded-2xl transition-all duration-300 backdrop-blur-md"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-5 h-5 text-washi/80 group-hover:text-washi transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
+              &lt;span className="text-sm text-washi/80 group-hover:text-kin font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
             &lt;/a&gt;
           &lt;/div&gt;
         &lt;/motion.div&gt;
       &lt;/section&gt;
 
       {/* Vision Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-28 px-6 md:px-12 lg:px-16 bg-gradient-to-b from-transparent via-ai/10 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
+            &lt;p className="text-kin/90 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
           &lt;/motion.div&gt;
 
           &lt;motion.div variants={quickFade} className="max-w-4xl mx-auto space-y-8"&gt;
-            &lt;p className="text-lg md:text-xl text-stone-300 leading-relaxed font-light"&gt;
+            &lt;p className="text-lg md:text-xl text-washi/70 leading-relaxed font-light"&gt;
               é–¢å¿ƒã®ä¸­å¿ƒã«ã‚ã‚‹ã®ã¯ã€æ—¥æœ¬ã®åœŸåœ°ã‚„æ–‡åŒ–ãŒå†…åŒ…ã—ã¦ããŸã€Œã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã€ã§ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-washi/65 leading-relaxed font-light"&gt;
               åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã«æ®‹ã‚‹åœ°åã®ç”±æ¥ã€å²æ–™ã€æš®ã‚‰ã—ã®ä¸­ã«æ¯ã¥ãç¿’æ…£ã€‚
               ã•ã‚‰ã«ã€ç¸„æ–‡ã‹ã‚‰ç©ã¿é‡ãªã£ã¦ããŸåœŸåœ°ã®å±¤ã‚„ã€å®‰æ›‡æ—ã®ç³»è­œã®ã‚ˆã†ãªæ–­ç‰‡ã«ã‚‚ç›®ã‚’å‘ã‘ã€
               è³‡æ–™ã«ã‚ãŸã‚Šã€ç¾åœ°ã‚’æ­©ããªãŒã‚‰ã€æ‰‹è§¦ã‚Šã®ã‚ã‚‹æƒ…å ±ã‚’å°‘ã—ãšã¤é›†ã‚ã¦ã„ã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
+            &lt;p className="text-base md:text-lg text-washi/65 leading-relaxed font-light"&gt;
               ãã†ã—ãŸæ–­ç‰‡ã¯ã€å˜ãªã‚‹éå»ã®è¨˜éŒ²ã§ã¯ãªãã€
               ç‰©èªæ€§ãƒ»æ€æƒ³ãƒ»ç¾æ„è­˜ã‚’å†…åŒ…ã—ãŸã€æ—¥æœ¬ç‹¬è‡ªã®æ–‡åŒ–è³‡æºã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
               é›†ã‚ãŸæƒ…å ±ã‚’ç”ŸæˆAIã§æ•´ç†ãƒ»å†ç·¨é›†ã—ã€
               ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
               ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
             &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-emerald-950/30 p-8 rounded-sm border border-emerald-900/30"&gt;
+            &lt;p className="text-base md:text-lg text-washi/70 leading-relaxed font-light bg-sumi/35 p-8 rounded-2xl border border-washi/10"&gt;
               ã¾ãŸã€ãã®éç¨‹ã§ç”Ÿã¾ã‚Œã‚‹&lt;br /&gt;
               ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
               æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
@@ -157,29 +157,29 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Philosophy Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      &lt;section className="py-28 px-6 md:px-12 lg:px-16 bg-gradient-to-b from-transparent via-ai/10 to-transparent"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
+            &lt;p className="text-kin/90 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
           &lt;/motion.div&gt;
 
           &lt;div className="space-y-24"&gt;
             {/* Philosophy 1 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;01&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-washi/15"&gt;01&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi font-serif mt-4 leading-relaxed"&gt;
                   èº«éŠ­ã¨æ™‚é–“ã‚’ã¤ãè¾¼ã‚“ã§è¦‹ãˆã¦ããŸ&lt;br /&gt;ã€Œè‡ªåˆ†ãªã‚Šã®AIã€
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi/65 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   2022å¹´ã‹ã‚‰ç”»åƒç”ŸæˆAIã€2024å¹´ã¯å‹•ç”»ç”Ÿæˆã€2025å¹´ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼MCPãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æ³¨åŠ›ã—ã¦ãã¾ã—ãŸã€‚
                   æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚„ãƒ„ãƒ¼ãƒ«ãŒå‡ºã‚‹ãŸã³ã«è‡ªè…¹ã§è©¦ã—ç¶šã‘ã€ä»•äº‹ä»¥å¤–ã®å¤šãã®æ™‚é–“ã‚’AIã®æ¤œè¨¼ã¨å®Ÿé¨“ã«æ³¨ã„ã§ãã¾ã—ãŸã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-sumi/35 border-l-2 border-kin/60 p-6 rounded-2xl"&gt;
+                  &lt;ul className="space-y-2 text-washi/70"&gt;
                     &lt;li&gt;ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ç¾å ´ã§æ°—æŒã¡ã‚ˆãå›ã‚‹çµ„ã¿åˆã‚ã›ã¯ä½•ã‹&lt;/li&gt;
@@ -188,9 +188,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’è‡ªåˆ†ã®æ‰‹ã§ç¢ºã‹ã‚ç¶šã‘ã¦ããŸçµæœã€ãŠä»•äº‹ã«ãªã‚‹æ¡ˆä»¶ãŒå°‘ã—ãšã¤å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200 text-lg bg-emerald-950/30 p-6 rounded-sm border border-emerald-900/30"&gt;
+                &lt;p className="text-washi text-lg bg-sumi/35 p-6 rounded-2xl border border-washi/10"&gt;
                   ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
+                  &lt;span className="text-shu"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -198,18 +198,18 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 2 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;02&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-washi/15"&gt;02&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi font-serif mt-4 leading-relaxed"&gt;
                   é–‹ç™ºã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã®ã‚ã„ã ã‚’ã€&lt;br /&gt;è¡Œãæ¥ã—ã‚„ã™ãã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi/65 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã ã‘ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã ã‘ã€ã§ã¯ãªãã€
                   ã‚³ãƒ¼ãƒ‰ã‚‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã€æ˜ åƒã‚‚ã€ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã€ã‚†ã‚‹ãã¾ãŸã„ã§è§¦ã£ã¦ã„ã‘ã‚‹çŠ¶æ…‹ã‚’ã¤ãã‚‹ã“ã¨ã«é–¢å¿ƒãŒã‚ã‚Šã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-sumi/35 border-l-2 border-kin/60 p-6 rounded-2xl"&gt;
+                  &lt;ul className="space-y-2 text-washi/70"&gt;
                     &lt;li&gt;ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
                     &lt;li&gt;ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
                   &lt;/ul&gt;
@@ -217,9 +217,9 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚“ãªäººãŸã¡ãŒã€ç”ŸæˆAIã‚’å…¥å£ã«ä¸¡å´ã¸è¸ã¿å‡ºã›ã‚‹ã‚ˆã†ãªæ©‹æ¸¡ã—ã‚’ã—ã¦ã„ããŸã„ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200"&gt;
+                &lt;p className="text-washi"&gt;
                   ãƒ—ãƒ­ã®ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ï¼ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã ã‘ã®ã‚‚ã®ã«ã›ãšã€&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
+                  &lt;span className="text-shu"&gt;"åŠæ­©ãšã¤ã¾ãŸã„ã§ã„ã‘ã‚‹ç’°å¢ƒ"ã¨"å›ã—æ–¹ã®å‹"&lt;/span&gt;ã‚’ã¤ãã‚‹ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -227,12 +227,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
             {/* Philosophy 3 */}
             &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;03&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-6xl md:text-8xl font-serif text-washi/15"&gt;03&lt;/span&gt;
+                &lt;h3 className="text-xl md:text-2xl text-washi font-serif mt-4 leading-relaxed"&gt;
                   AIã®ã€Œã“ã‚Œã‹ã‚‰ã®ä½¿ã„æ–¹ã€ã‚’&lt;br /&gt;ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-washi/65 leading-loose font-light space-y-6"&gt;
                 &lt;p&gt;
                   AIã‚’ã€ŒåŠ¹ç‡åŒ–ãƒ„ãƒ¼ãƒ«ã€ã¨ã—ã¦ç·šã‚’å¼•ã„ã¦ã—ã¾ã†ã®ã§ã¯ãªãã€
                   ã“ã‚Œã‹ã‚‰è‡ªåˆ†ãŸã¡ã¯ã€AIã¨ã©ã†ä»˜ãåˆã£ã¦ã„ãã®ã‹ã€‚
@@ -241,16 +241,16 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                 &lt;p&gt;
                   ãã‚Œã‚’ä¸€ç·’ã«è€ƒãˆã€è¨€èªåŒ–ã—ã€å…·ä½“çš„ãªå½¢ã«è½ã¨ã—ã¦ã„ãç›¸æ£’ã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;p className="text-stone-300 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
+                &lt;div className="bg-sumi/35 border-l-2 border-kin/60 p-6 rounded-2xl"&gt;
+                  &lt;p className="text-washi/70 mb-4"&gt;ãƒ’ã‚¢ãƒªãƒ³ã‚°ã¨å¯¾è©±ã‚’é€šã—ã¦ï¼š&lt;/p&gt;
+                  &lt;ul className="space-y-2 text-washi/70"&gt;
                     &lt;li&gt;ã©ã‚“ãªã‚¿ã‚¹ã‚¯ã‚’AIã«ä»»ã›ã‚‹ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã“ã‹ã‚‰å…ˆã¯äººãŒã‚„ã‚‹ã®ã‹&lt;/li&gt;
                     &lt;li&gt;ã©ã‚“ãªæœªæ¥ã®åƒãæ–¹ãƒ»è¡¨ç¾ã‚’ç›®æŒ‡ã—ãŸã„ã®ã‹&lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
+                  &lt;span className="text-shu"&gt;ãã®äººï¼ãã®ãƒãƒ¼ãƒ ã«åˆã£ãŸã€Œã“ã‚Œã‹ã‚‰ã®AIã®ä½¿ã„æ–¹ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¾ã™ã€‚
                 &lt;/p&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
@@ -259,12 +259,12 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Services &amp; Contact Combined Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent to-emerald-950/20"&gt;
+      &lt;section className="py-28 px-6 md:px-12 lg:px-16 bg-gradient-to-b from-transparent to-ai/20"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
           &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200 mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
-            &lt;p className="text-stone-500 font-light max-w-2xl mx-auto"&gt;
+            &lt;p className="text-kin/90 font-mono text-sm tracking-widest mb-4"&gt;SERVICES &amp; CONTACT&lt;/p&gt;
+            &lt;h2 className="text-3xl md:text-5xl font-serif text-washi mb-6"&gt;ãŠæ‰‹ä¼ã„ã§ãã‚‹ã“ã¨&lt;/h2&gt;
+            &lt;p className="text-washi/60 font-light max-w-2xl mx-auto"&gt;
               ä¾‹ãˆã°ã€ã“ã‚“ãªãƒ†ãƒ¼ãƒã§ã”ä¸€ç·’ã§ãã¾ã™ã€‚
             &lt;/p&gt;
           &lt;/motion.div&gt;
@@ -294,32 +294,32 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
           &lt;/motion.div&gt;
 
           {/* Contact CTA */}
-          &lt;motion.div variants={quickFade} className="bg-emerald-950/30 backdrop-blur-sm border border-emerald-900/30 rounded-sm p-8 md:p-12"&gt;
+          &lt;motion.div variants={quickFade} className="bg-sumi/35 backdrop-blur-md border border-washi/10 rounded-3xl p-8 md:p-12"&gt;
             &lt;div className="grid grid-cols-1 lg:grid-cols-2 gap-12"&gt;
               &lt;div&gt;
-                &lt;h3 className="text-2xl font-serif text-stone-200 mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
-                &lt;ul className="space-y-3 text-stone-400 font-light mb-8"&gt;
+                &lt;h3 className="text-2xl font-serif text-washi mb-6"&gt;ãŠä»•äº‹ãƒ»ã‚³ãƒ©ãƒœã®ã”ç›¸è«‡&lt;/h3&gt;
+                &lt;ul className="space-y-3 text-washi/65 font-light mb-8"&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-kin/90 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãªç”ŸæˆAIã‚’è©¦ã—ã¦ã¿ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-kin/90 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     è‡ªç¤¾ãƒ»è‡ªåˆ†ã®æ´»å‹•ã«ã€ã©ã‚“ãªAIæ´»ç”¨ã®ä½™åœ°ãŒã‚ã‚‹ã®ã‹æ•´ç†ã—ãŸã„
                   &lt;/li&gt;
                   &lt;li className="flex items-start gap-3"&gt;
-                    &lt;span className="text-emerald-500 mt-1"&gt;&amp;#10003;&lt;/span&gt;
+                    &lt;span className="text-kin/90 mt-1"&gt;&amp;#10003;&lt;/span&gt;
                     å°ã•ãæ¤œè¨¼ã§ãã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã€ä¸€ç·’ã«çµ„ã¿ç«‹ã¦ã¦ã»ã—ã„
                   &lt;/li&gt;
                 &lt;/ul&gt;
-                &lt;p className="text-stone-500 text-sm font-light"&gt;
+                &lt;p className="text-washi/60 text-sm font-light"&gt;
                   ã€Œã¾ã ã¼ã‚“ã‚„ã‚Šã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ‡ã‚¢ã€ã‚„ã€Œãã‚‚ãã‚‚ä½•ã‹ã‚‰å§‹ã‚ã‚Œã°ã„ã„ã‹ã‚ã‹ã‚‰ãªã„ã€ã¨ã„ã£ãŸæ®µéšã‹ã‚‰ã§ã‚‚å¤§ä¸ˆå¤«ã§ã™ã€‚
                   ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ã€‚ğŸ“©
                 &lt;/p&gt;
               &lt;/div&gt;
 
               &lt;div className="flex flex-col justify-center"&gt;
-                &lt;p className="text-stone-300 font-light mb-6 text-center lg:text-left"&gt;
+                &lt;p className="text-washi/70 font-light mb-6 text-center lg:text-left"&gt;
                   ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„
                 &lt;/p&gt;
                 &lt;div className="space-y-4"&gt;
@@ -327,10 +327,10 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                     href="https://forms.gle/BBfLfsDWmWbPiTLb8"
                     target="_blank"
                     rel="noopener noreferrer"
-                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-emerald-900/40 hover:bg-emerald-800/60 border border-emerald-700/50 text-stone-200 transition-all duration-300 rounded-sm group"
+                    className="flex items-center justify-center gap-3 w-full px-6 py-4 bg-shu/90 hover:bg-shu border border-shu/40 text-washi transition-all duration-300 rounded-2xl group shadow-lg shadow-black/20"
                   &gt;
-                    &lt;span className="text-emerald-400 group-hover:text-white transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
-                    &lt;span className="text-stone-500 text-sm"&gt;&amp;rarr;&lt;/span&gt;
+                    &lt;span className="text-washi transition-colors"&gt;ãŠå•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ &lt;/span&gt;
+                    &lt;span className="text-washi/60 text-sm"&gt;&amp;rarr;&lt;/span&gt;
                   &lt;/a&gt;
 
                   {/* Social Links */}
@@ -339,23 +339,23 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
                       href="https://x.com/takamasa045"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-sumi/35 border border-washi/10 hover:border-kin/50 hover:bg-sumi/45 rounded-2xl transition-all duration-300 backdrop-blur-md"
                     &gt;
-                      &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                      &lt;svg className="w-5 h-5 text-washi/70 group-hover:text-washi transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;X&lt;/span&gt;
+                      &lt;span className="text-sm text-washi/70 group-hover:text-kin font-mono transition-colors"&gt;X&lt;/span&gt;
                     &lt;/a&gt;
                     &lt;a
                       href="https://note.com/azumimusuhi"
                       target="_blank"
                       rel="noopener noreferrer"
-                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-stone-900/60 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+                      className="group flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-sumi/35 border border-washi/10 hover:border-kin/50 hover:bg-sumi/45 rounded-2xl transition-all duration-300 backdrop-blur-md"
                     &gt;
-                      &lt;svg className="w-5 h-5 text-stone-400 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+                      &lt;svg className="w-5 h-5 text-washi/70 group-hover:text-washi transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                         &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
                       &lt;/svg&gt;
-                      &lt;span className="text-sm text-stone-400 group-hover:text-emerald-400 font-mono transition-colors"&gt;note&lt;/span&gt;
+                      &lt;span className="text-sm text-washi/70 group-hover:text-kin font-mono transition-colors"&gt;note&lt;/span&gt;
                     &lt;/a&gt;
                   &lt;/div&gt;
                 &lt;/div&gt;
@@ -366,18 +366,18 @@ export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
       &lt;/section&gt;
 
       {/* Footer - Back to Home */}
-      &lt;section className="py-20 px-8 md:px-20"&gt;
+      &lt;section className="py-20 px-6 md:px-12 lg:px-16"&gt;
         &lt;motion.div variants={quickFade} className="max-w-6xl mx-auto text-center"&gt;
           &lt;button
             onClick={onBack}
-            className="group inline-flex items-center gap-3 px-8 py-4 bg-emerald-950/40 hover:bg-emerald-900/60 border-2 border-emerald-700/50 hover:border-emerald-500 text-emerald-400 hover:text-emerald-300 transition-all duration-300 rounded-md font-mono text-sm shadow-lg hover:shadow-emerald-500/20"
+            className="group inline-flex items-center gap-3 px-8 py-4 bg-sumi/55 hover:bg-sumi/70 border border-washi/10 hover:border-kin/50 text-washi/75 hover:text-washi transition-all duration-300 rounded-2xl font-mono text-sm shadow-lg shadow-black/20"
           &gt;
             &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
               &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
             &lt;/svg&gt;
             &lt;span&gt;BACK TO HOME&lt;/span&gt;
           &lt;/button&gt;
-          &lt;p className="text-stone-700 text-xs mt-8"&gt;

... (truncated; total 1562 lines) ...

+        &lt;div className="w-full h-full bg-gradient-to-br from-sumi via-shu/15 to-sumi flex items-end justify-center gap-1 pb-8 relative"&gt;
           {[...Array(12)].map((_, i) =&gt; (
-            &lt;div key={i} className="w-1.5 bg-emerald-500/40 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
+            &lt;div key={i} className="w-1.5 bg-shu/30 animate-[pulse_1.5s_ease-in-out_infinite]" style={{ height: `${Math.random() * 60 + 20}%`, animationDelay: `${i * 0.1}s` }}&gt;&lt;/div&gt;
           ))}
           &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-10 h-10 border border-white/20 rounded-full flex items-center justify-center bg-black/30 backdrop-blur-sm"&gt;
-              &lt;div className="ml-0.5 w-0 h-0 border-t-[5px] border-t-transparent border-l-[8px] border-l-emerald-400/80 border-b-[5px] border-b-transparent"&gt;&lt;/div&gt;
+            &lt;div className="w-10 h-10 border border-washi/20 rounded-full flex items-center justify-center bg-sumi/40 backdrop-blur-sm"&gt;
+              &lt;div className="ml-0.5 w-0 h-0 border-t-[5px] border-t-transparent border-l-[8px] border-l-kin/80 border-b-[5px] border-b-transparent"&gt;&lt;/div&gt;
             &lt;/div&gt;
           &lt;/div&gt;
         &lt;/div&gt;
       )}
 
       {type === 'web' &amp;&amp; (
-        &lt;div className="w-full h-full bg-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/10 bg-black/20 rounded-sm relative overflow-hidden"&gt;
+        &lt;div className="w-full h-full bg-sumi flex items-center justify-center"&gt;
+          &lt;div className="w-3/4 h-3/4 border border-washi/10 bg-sumi/40 rounded-2xl relative overflow-hidden"&gt;
             &lt;div className="absolute top-0 left-0 w-full h-3 bg-white/5 flex gap-1 items-center px-2"&gt;
               &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
               &lt;div className="w-0.5 h-0.5 bg-white/20 rounded-full"&gt;&lt;/div&gt;
             &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-900/30 font-mono text-4xl"&gt;
+            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-washi/20 font-mono text-4xl"&gt;
               &amp;lt;/&amp;gt;
             &lt;/div&gt;
           &lt;/div&gt;
@@ -900,20 +1074,20 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
       )}
 
       {type === 'image' &amp;&amp; (
-        &lt;div className="w-full h-full bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-stone-800 via-emerald-950 to-black"&gt;
+        &lt;div className="w-full h-full bg-[radial-gradient(ellipse_at_bottom_left,_var(--tw-gradient-stops))] from-ai/25 via-sumi to-sumi"&gt;
           &lt;div className="absolute top-0 right-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSI0IiBmaWxsPSIjZmZmIiBmaWxsLW9wYWNpdHk9IjAuMDUiLz4KPC9zdmc+')] opacity-20"&gt;&lt;/div&gt;
         &lt;/div&gt;
       )}
 
       {type === 'saas' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-stone-900 via-emerald-950/50 to-stone-900 flex items-center justify-center"&gt;
-          &lt;div className="w-3/4 h-3/4 border border-emerald-500/20 bg-black/30 rounded-sm relative overflow-hidden"&gt;
-            &lt;div className="absolute top-0 left-0 w-full h-4 bg-emerald-900/20 flex gap-1.5 items-center px-3"&gt;
-              &lt;div className="w-2 h-2 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-400/30 rounded-full"&gt;&lt;/div&gt;
-              &lt;div className="w-2 h-2 bg-emerald-300/20 rounded-full"&gt;&lt;/div&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-sumi via-ai/20 to-sumi flex items-center justify-center"&gt;
+          &lt;div className="w-3/4 h-3/4 border border-washi/10 bg-sumi/40 rounded-2xl relative overflow-hidden"&gt;
+            &lt;div className="absolute top-0 left-0 w-full h-4 bg-washi/5 flex gap-1.5 items-center px-3"&gt;
+              &lt;div className="w-2 h-2 bg-kin/60 rounded-full"&gt;&lt;/div&gt;
+              &lt;div className="w-2 h-2 bg-shu/40 rounded-full"&gt;&lt;/div&gt;
+              &lt;div className="w-2 h-2 bg-ai/40 rounded-full"&gt;&lt;/div&gt;
             &lt;/div&gt;
-            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-emerald-500/20 font-mono text-3xl tracking-widest"&gt;
+            &lt;div className="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-washi/20 font-mono text-3xl tracking-widest"&gt;
               SaaS
             &lt;/div&gt;
           &lt;/div&gt;
@@ -921,17 +1095,17 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
       )}
 
       {type === 'event' &amp;&amp; (
-        &lt;div className="w-full h-full bg-gradient-to-br from-emerald-950 via-stone-900 to-emerald-950 relative overflow-hidden"&gt;
+        &lt;div className="w-full h-full bg-gradient-to-br from-shu/15 via-sumi to-ai/15 relative overflow-hidden"&gt;
           &lt;div className="absolute inset-0 flex items-center justify-center"&gt;
-            &lt;div className="w-16 h-16 border-2 border-emerald-500/30 rounded-full flex items-center justify-center animate-pulse"&gt;
-              &lt;div className="w-10 h-10 border border-emerald-400/40 rounded-full flex items-center justify-center"&gt;
-                &lt;div className="w-4 h-4 bg-emerald-500/50 rounded-full"&gt;&lt;/div&gt;
+            &lt;div className="w-16 h-16 border-2 border-kin/35 rounded-full flex items-center justify-center animate-pulse"&gt;
+              &lt;div className="w-10 h-10 border border-washi/20 rounded-full flex items-center justify-center"&gt;
+                &lt;div className="w-4 h-4 bg-kin/60 rounded-full"&gt;&lt;/div&gt;
               &lt;/div&gt;
             &lt;/div&gt;
           &lt;/div&gt;
           &lt;div className="absolute bottom-4 left-0 right-0 flex justify-center gap-2"&gt;
             {[...Array(5)].map((_, i) =&gt; (
-              &lt;div key={i} className="w-1 h-1 bg-emerald-500/40 rounded-full"&gt;&lt;/div&gt;
+              &lt;div key={i} className="w-1 h-1 bg-kin/40 rounded-full"&gt;&lt;/div&gt;
             ))}
           &lt;/div&gt;
         &lt;/div&gt;
@@ -939,4 +1113,3 @@ const MediaBackground: React.FC&lt;{ type: MediaType }&gt; = ({ type }) =&gt; {
     &lt;/div&gt;
   );
 };
-
diff --git a/index.html b/index.html
index f2f60af..bc3f8d1 100644
--- a/index.html
+++ b/index.html
@@ -4,19 +4,74 @@
     &lt;meta charset="UTF-8" /&gt;
     &lt;link rel="icon" href="data:," /&gt;
     &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
+    &lt;meta name="theme-color" content="#050607" /&gt;
     &lt;title&gt;ITOPAN | Takamasa Ito&lt;/title&gt;
+    &lt;script&gt;
+      tailwind.config = {
+        theme: {
+          extend: {
+            colors: {
+              sumi: 'rgb(5 6 7 / &lt;alpha-value&gt;)',
+              washi: 'rgb(247 242 231 / &lt;alpha-value&gt;)',
+              ai: 'rgb(31 58 95 / &lt;alpha-value&gt;)',
+              shu: 'rgb(214 69 61 / &lt;alpha-value&gt;)',
+              kin: 'rgb(200 162 74 / &lt;alpha-value&gt;)',
+            },
+            fontFamily: {
+              serif: ['"Zen Old Mincho"', 'ui-serif', 'Georgia', 'serif'],
+              sans: [
+                '"Noto Sans JP"',
+                'system-ui',
+                '-apple-system',
+                'BlinkMacSystemFont',
+                '"Segoe UI"',
+                'sans-serif'
+              ],
+              mono: [
+                '"IBM Plex Mono"',
+                'ui-monospace',
+                'SFMono-Regular',
+                'Menlo',
+                'Monaco',
+                'Consolas',
+                'monospace'
+              ]
+            }
+          }
+        }
+      };
+    &lt;/script&gt;
     &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;
     &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
     &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
-    &lt;link href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;500;700;900&amp;display=swap" rel="stylesheet"&gt;
+    &lt;link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&amp;family=Noto+Sans+JP:wght@300;400;500;600;700&amp;family=Zen+Old+Mincho:wght@400;500;700;900&amp;display=swap" rel="stylesheet"&gt;
     &lt;style&gt;
+      :root {
+        --sumi: #050607;
+        --washi: #f7f2e7;
+        --ai: #1f3a5f;
+        --shu: #d6453d;
+        --kin: #c8a24b;
+      }
+
       body {
         margin: 0;
         padding: 0;
-        font-family: 'Zen Old Mincho', serif;
-        background-color: #020403; /* Deep forest dark */
-        color: #e4e7e5;
+        font-family: 'Noto Sans JP', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
+        background:
+          radial-gradient(1200px circle at 20% 10%, rgba(31, 58, 95, 0.24), transparent 55%),
+          radial-gradient(1000px circle at 80% 20%, rgba(214, 69, 61, 0.14), transparent 60%),
+          radial-gradient(900px circle at 60% 110%, rgba(200, 162, 74, 0.10), transparent 60%),
+          linear-gradient(180deg, var(--sumi) 0%, #07090c 45%, var(--sumi) 100%);
+        color: var(--washi);
         overflow: hidden; /* Handled by R3F ScrollControls */
+        -webkit-font-smoothing: antialiased;
+        -moz-osx-font-smoothing: grayscale;
+      }
+
+      ::selection {
+        background: rgba(214, 69, 61, 0.35);
+        color: var(--washi);
       }
       
       /* Custom Scrollbar Hide */
@@ -31,6 +86,19 @@
         letter-spacing: 0.15em;
       }
 
+      .grid-overlay {
+        position: fixed;
+        inset: 0;
+        pointer-events: none;
+        z-index: 40;
+        opacity: 0.10;
+        mix-blend-mode: overlay;
+        background-image:
+          linear-gradient(to right, rgba(247, 242, 231, 0.08) 1px, transparent 1px),
+          linear-gradient(to bottom, rgba(247, 242, 231, 0.05) 1px, transparent 1px);
+        background-size: 64px 64px;
+      }
+
       .noise-overlay {
         position: fixed;
         top: 0;
@@ -38,15 +106,26 @@
         width: 100%;
         height: 100%;
         pointer-events: none;
-        z-index: 50;
-        opacity: 0.05;
+        z-index: 60;
+        opacity: 0.06;
         background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
       }
+
+      .vignette-overlay {
+        position: fixed;
+        inset: 0;
+        pointer-events: none;
+        z-index: 70;
+        opacity: 0.9;
+        background: radial-gradient(1200px circle at 50% 40%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.55) 100%);
+      }
     &lt;/style&gt;
 &lt;/head&gt;
   &lt;body&gt;
     &lt;div id="root"&gt;&lt;/div&gt;
+    &lt;div class="grid-overlay"&gt;&lt;/div&gt;
     &lt;div class="noise-overlay"&gt;&lt;/div&gt;
+    &lt;div class="vignette-overlay"&gt;&lt;/div&gt;
     &lt;script type="module" src="/index.tsx"&gt;&lt;/script&gt;
   &lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
+&lt;/html&gt;
</pre></details><details class="snapshot-details"><summary class="details-toggle">git status --porcelainï¼ˆworktreeï¼‰</summary><pre> D docs/assets/index-C0209CLX.js
 M docs/index.html
?? docs/assets/index-BYbMnbzP.js

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæœªã‚³ãƒŸãƒƒãƒˆæŠœç²‹ï¼‰</summary><pre>diff --git a/docs/assets/index-C0209CLX.js b/docs/assets/index-C0209CLX.js
deleted file mode 100644
index 55663bb..0000000
--- a/docs/assets/index-C0209CLX.js
+++ /dev/null
@@ -1,4266 +0,0 @@
-var K4=Object.defineProperty;var Q4=(n,t,e)=&gt;t in n?K4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Vi=(n,t,e)=&gt;Q4(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&amp;&amp;t.supports&amp;&amp;t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=&gt;{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&amp;&amp;l.rel==="modulepreload"&amp;&amp;i(l)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&amp;&amp;(o.integrity=a.integrity),a.referrerPolicy&amp;&amp;(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function i_(n){return n&amp;&amp;n.__esModule&amp;&amp;Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var C1={exports:{}},Fm={};/**
- * @license React
- * react-jsx-runtime.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var R2;function J4(){if(R2)return Fm;R2=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var l=null;if(o!==void 0&amp;&amp;(l=""+o),a.key!==void 0&amp;&amp;(l=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&amp;&amp;(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:l,ref:a!==void 0?a:null,props:o}}return Fm.Fragment=t,Fm.jsx=e,Fm.jsxs=e,Fm}var D2;function $4(){return D2||(D2=1,C1.exports=J4()),C1.exports}var F=$4(),R1={exports:{}},fn={};/**
- * @license React
- * react.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var N2;function tU(){if(N2)return fn;N2=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function S(Z){return Z===null||typeof Z!="object"?null:(Z=y&amp;&amp;Z[y]||Z["@@iterator"],typeof Z=="function"?Z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function M(Z,ht,Rt){this.props=Z,this.context=ht,this.refs=w,this.updater=Rt||T}M.prototype.isReactComponent={},M.prototype.setState=function(Z,ht){if(typeof Z!="object"&amp;&amp;typeof Z!="function"&amp;&amp;Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,ht,"setState")},M.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function R(){}R.prototype=M.prototype;function D(Z,ht,Rt){this.props=Z,this.context=ht,this.refs=w,this.updater=Rt||T}var O=D.prototype=new R;O.constructor=D,C(O,M.prototype),O.isPureReactComponent=!0;var I=Array.isArray;function z(){}var G={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function L(Z,ht,Rt){var Bt=Rt.ref;return{$$typeof:n,type:Z,key:ht,ref:Bt!==void 0?Bt:null,props:Rt}}function B(Z,ht){return L(Z.type,ht,Z.props)}function Y(Z){return typeof Z=="object"&amp;&amp;Z!==null&amp;&amp;Z.$$typeof===n}function nt(Z){var ht={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Rt){return ht[Rt]})}var rt=/\/+/g;function ft(Z,ht){return typeof Z=="object"&amp;&amp;Z!==null&amp;&amp;Z.key!=null?nt(""+Z.key):ht.toString(36)}function pt(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(z,z):(Z.status="pending",Z.then(function(ht){Z.status==="pending"&amp;&amp;(Z.status="fulfilled",Z.value=ht)},function(ht){Z.status==="pending"&amp;&amp;(Z.status="rejected",Z.reason=ht)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function k(Z,ht,Rt,Bt,le){var mt=typeof Z;(mt==="undefined"||mt==="boolean")&amp;&amp;(Z=null);var Dt=!1;if(Z===null)Dt=!0;else switch(mt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(Z.$$typeof){case n:case t:Dt=!0;break;case x:return Dt=Z._init,k(Dt(Z._payload),ht,Rt,Bt,le)}}if(Dt)return le=le(Z),Dt=Bt===""?"."+ft(Z,0):Bt,I(le)?(Rt="",Dt!=null&amp;&amp;(Rt=Dt.replace(rt,"$&amp;/")+"/"),k(le,ht,Rt,"",function(De){return De})):le!=null&amp;&amp;(Y(le)&amp;&amp;(le=B(le,Rt+(le.key==null||Z&amp;&amp;Z.key===le.key?"":(""+le.key).replace(rt,"$&amp;/")+"/")+Dt)),ht.push(le)),1;Dt=0;var ie=Bt===""?".":Bt+":";if(I(Z))for(var xe=0;xe&lt;Z.length;xe++)Bt=Z[xe],mt=ie+ft(Bt,xe),Dt+=k(Bt,ht,Rt,mt,le);else if(xe=S(Z),typeof xe=="function")for(Z=xe.call(Z),xe=0;!(Bt=Z.next()).done;)Bt=Bt.value,mt=ie+ft(Bt,xe++),Dt+=k(Bt,ht,Rt,mt,le);else if(mt==="object"){if(typeof Z.then=="function")return k(pt(Z),ht,Rt,Bt,le);throw ht=String(Z),Error("Objects are not valid as a React child (found: "+(ht==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":ht)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function tt(Z,ht,Rt){if(Z==null)return Z;var Bt=[],le=0;return k(Z,Bt,"","",function(mt){return ht.call(Rt,mt,le++)}),Bt}function it(Z){if(Z._status===-1){var ht=Z._result;ht=ht(),ht.then(function(Rt){(Z._status===0||Z._status===-1)&amp;&amp;(Z._status=1,Z._result=Rt)},function(Rt){(Z._status===0||Z._status===-1)&amp;&amp;(Z._status=2,Z._result=Rt)}),Z._status===-1&amp;&amp;(Z._status=0,Z._result=ht)}if(Z._status===1)return Z._result.default;throw Z._result}var xt=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&amp;&amp;typeof window.ErrorEvent=="function"){var ht=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&amp;&amp;Z!==null&amp;&amp;typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(ht))return}else if(typeof process=="object"&amp;&amp;typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},bt={map:tt,forEach:function(Z,ht,Rt){tt(Z,function(){ht.apply(this,arguments)},Rt)},count:function(Z){var ht=0;return tt(Z,function(){ht++}),ht},toArray:function(Z){return tt(Z,function(ht){return ht})||[]},only:function(Z){if(!Y(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return fn.Activity=v,fn.Children=bt,fn.Component=M,fn.Fragment=e,fn.Profiler=a,fn.PureComponent=D,fn.StrictMode=i,fn.Suspense=d,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,fn.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return G.H.useMemoCache(Z)}},fn.cache=function(Z){return function(){return Z.apply(null,arguments)}},fn.cacheSignal=function(){return null},fn.cloneElement=function(Z,ht,Rt){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var Bt=C({},Z.props),le=Z.key;if(ht!=null)for(mt in ht.key!==void 0&amp;&amp;(le=""+ht.key),ht)!H.call(ht,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&amp;&amp;ht.ref===void 0||(Bt[mt]=ht[mt]);var mt=arguments.length-2;if(mt===1)Bt.children=Rt;else if(1&lt;mt){for(var Dt=Array(mt),ie=0;ie&lt;mt;ie++)Dt[ie]=arguments[ie+2];Bt.children=Dt}return L(Z.type,le,Bt)},fn.createContext=function(Z){return Z={$$typeof:l,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},fn.createElement=function(Z,ht,Rt){var Bt,le={},mt=null;if(ht!=null)for(Bt in ht.key!==void 0&amp;&amp;(mt=""+ht.key),ht)H.call(ht,Bt)&amp;&amp;Bt!=="key"&amp;&amp;Bt!=="__self"&amp;&amp;Bt!=="__source"&amp;&amp;(le[Bt]=ht[Bt]);var Dt=arguments.length-2;if(Dt===1)le.children=Rt;else if(1&lt;Dt){for(var ie=Array(Dt),xe=0;xe&lt;Dt;xe++)ie[xe]=arguments[xe+2];le.children=ie}if(Z&amp;&amp;Z.defaultProps)for(Bt in Dt=Z.defaultProps,Dt)le[Bt]===void 0&amp;&amp;(le[Bt]=Dt[Bt]);return L(Z,mt,le)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(Z){return{$$typeof:h,render:Z}},fn.isValidElement=Y,fn.lazy=function(Z){return{$$typeof:x,_payload:{_status:-1,_result:Z},_init:it}},fn.memo=function(Z,ht){return{$$typeof:p,type:Z,compare:ht===void 0?null:ht}},fn.startTransition=function(Z){var ht=G.T,Rt={};G.T=Rt;try{var Bt=Z(),le=G.S;le!==null&amp;&amp;le(Rt,Bt),typeof Bt=="object"&amp;&amp;Bt!==null&amp;&amp;typeof Bt.then=="function"&amp;&amp;Bt.then(z,xt)}catch(mt){xt(mt)}finally{ht!==null&amp;&amp;Rt.types!==null&amp;&amp;(ht.types=Rt.types),G.T=ht}},fn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},fn.use=function(Z){return G.H.use(Z)},fn.useActionState=function(Z,ht,Rt){return G.H.useActionState(Z,ht,Rt)},fn.useCallback=function(Z,ht){return G.H.useCallback(Z,ht)},fn.useContext=function(Z){return G.H.useContext(Z)},fn.useDebugValue=function(){},fn.useDeferredValue=function(Z,ht){return G.H.useDeferredValue(Z,ht)},fn.useEffect=function(Z,ht){return G.H.useEffect(Z,ht)},fn.useEffectEvent=function(Z){return G.H.useEffectEvent(Z)},fn.useId=function(){return G.H.useId()},fn.useImperativeHandle=function(Z,ht,Rt){return G.H.useImperativeHandle(Z,ht,Rt)},fn.useInsertionEffect=function(Z,ht){return G.H.useInsertionEffect(Z,ht)},fn.useLayoutEffect=function(Z,ht){return G.H.useLayoutEffect(Z,ht)},fn.useMemo=function(Z,ht){return G.H.useMemo(Z,ht)},fn.useOptimistic=function(Z,ht){return G.H.useOptimistic(Z,ht)},fn.useReducer=function(Z,ht,Rt){return G.H.useReducer(Z,ht,Rt)},fn.useRef=function(Z){return G.H.useRef(Z)},fn.useState=function(Z){return G.H.useState(Z)},fn.useSyncExternalStore=function(Z,ht,Rt){return G.H.useSyncExternalStore(Z,ht,Rt)},fn.useTransition=function(){return G.H.useTransition()},fn.version="19.2.0",fn}var U2;function rp(){return U2||(U2=1,R1.exports=tU()),R1.exports}var et=rp();const ou=i_(et);var D1={exports:{}},Hm={},N1={exports:{}},U1={};/**
- * @license React
- * scheduler.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var O2;function eU(){return O2||(O2=1,(function(n){function t(k,tt){var it=k.length;k.push(tt);t:for(;0&lt;it;){var xt=it-1&gt;&gt;&gt;1,bt=k[xt];if(0&lt;a(bt,tt))k[xt]=tt,k[it]=bt,it=xt;else break t}}function e(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var tt=k[0],it=k.pop();if(it!==tt){k[0]=it;t:for(var xt=0,bt=k.length,Z=bt&gt;&gt;&gt;1;xt&lt;Z;){var ht=2*(xt+1)-1,Rt=k[ht],Bt=ht+1,le=k[Bt];if(0&gt;a(Rt,it))Bt&lt;bt&amp;&amp;0&gt;a(le,Rt)?(k[xt]=le,k[Bt]=it,xt=Bt):(k[xt]=Rt,k[ht]=it,xt=ht);else if(Bt&lt;bt&amp;&amp;0&gt;a(le,it))k[xt]=le,k[Bt]=it,xt=Bt;else break t}}return tt}function a(k,tt){var it=k.sortIndex-tt.sortIndex;return it!==0?it:k.id-tt.id}if(n.unstable_now=void 0,typeof performance=="object"&amp;&amp;typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,h=l.now();n.unstable_now=function(){return l.now()-h}}var d=[],p=[],x=1,v=null,y=3,S=!1,T=!1,C=!1,w=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate&lt;"u"?setImmediate:null;function O(k){for(var tt=e(p);tt!==null;){if(tt.callback===null)i(p);else if(tt.startTime&lt;=k)i(p),tt.sortIndex=tt.expirationTime,t(d,tt);else break;tt=e(p)}}function I(k){if(C=!1,O(k),!T)if(e(d)!==null)T=!0,z||(z=!0,nt());else{var tt=e(p);tt!==null&amp;&amp;pt(I,tt.startTime-k)}}var z=!1,G=-1,H=5,L=-1;function B(){return w?!0:!(n.unstable_now()-L&lt;H)}function Y(){if(w=!1,z){var k=n.unstable_now();L=k;var tt=!0;try{t:{T=!1,C&amp;&amp;(C=!1,R(G),G=-1),S=!0;var it=y;try{e:{for(O(k),v=e(d);v!==null&amp;&amp;!(v.expirationTime&gt;k&amp;&amp;B());){var xt=v.callback;if(typeof xt=="function"){v.callback=null,y=v.priorityLevel;var bt=xt(v.expirationTime&lt;=k);if(k=n.unstable_now(),typeof bt=="function"){v.callback=bt,O(k),tt=!0;break e}v===e(d)&amp;&amp;i(d),O(k)}else i(d);v=e(d)}if(v!==null)tt=!0;else{var Z=e(p);Z!==null&amp;&amp;pt(I,Z.startTime-k),tt=!1}}break t}finally{v=null,y=it,S=!1}tt=void 0}}finally{tt?nt():z=!1}}}var nt;if(typeof D=="function")nt=function(){D(Y)};else if(typeof MessageChannel&lt;"u"){var rt=new MessageChannel,ft=rt.port2;rt.port1.onmessage=Y,nt=function(){ft.postMessage(null)}}else nt=function(){M(Y,0)};function pt(k,tt){G=M(function(){k(n.unstable_now())},tt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0&gt;k||125&lt;k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0&lt;k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(k){switch(y){case 1:case 2:case 3:var tt=3;break;default:tt=y}var it=y;y=tt;try{return k()}finally{y=it}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(k,tt){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var it=y;y=k;try{return tt()}finally{y=it}},n.unstable_scheduleCallback=function(k,tt,it){var xt=n.unstable_now();switch(typeof it=="object"&amp;&amp;it!==null?(it=it.delay,it=typeof it=="number"&amp;&amp;0&lt;it?xt+it:xt):it=xt,k){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=it+bt,k={id:x++,callback:tt,priorityLevel:k,startTime:it,expirationTime:bt,sortIndex:-1},it&gt;xt?(k.sortIndex=it,t(p,k),e(d)===null&amp;&amp;k===e(p)&amp;&amp;(C?(R(G),G=-1):C=!0,pt(I,it-xt))):(k.sortIndex=bt,t(d,k),T||S||(T=!0,z||(z=!0,nt()))),k},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(k){var tt=y;return function(){var it=y;y=tt;try{return k.apply(this,arguments)}finally{y=it}}}})(U1)),U1}var L2;function nU(){return L2||(L2=1,N1.exports=eU()),N1.exports}var O1={exports:{}},es={};/**
- * @license React
- * react-dom.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var z2;function iU(){if(z2)return es;z2=1;var n=rp();function t(d){var p="https://react.dev/errors/"+d;if(1&lt;arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x&lt;arguments.length;x++)p+="&amp;args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,x){var v=3&lt;arguments.length&amp;&amp;arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:x}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,es.createPortal=function(d,p){var x=2&lt;arguments.length&amp;&amp;arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&amp;&amp;p.nodeType!==9&amp;&amp;p.nodeType!==11)throw Error(t(299));return o(d,p,null,x)},es.flushSync=function(d){var p=l.T,x=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=p,i.p=x,i.d.f()}},es.preconnect=function(d,p){typeof d=="string"&amp;&amp;(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(d,p))},es.prefetchDNS=function(d){typeof d=="string"&amp;&amp;i.d.D(d)},es.preinit=function(d,p){if(typeof d=="string"&amp;&amp;p&amp;&amp;typeof p.as=="string"){var x=p.as,v=h(x,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;x==="style"?i.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:S}):x==="script"&amp;&amp;i.d.X(d,{crossOrigin:v,integrity:y,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},es.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&amp;&amp;p!==null){if(p.as==null||p.as==="script"){var x=h(p.as,p.crossOrigin);i.d.M(d,{crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&amp;&amp;i.d.M(d)},es.preload=function(d,p){if(typeof d=="string"&amp;&amp;typeof p=="object"&amp;&amp;p!==null&amp;&amp;typeof p.as=="string"){var x=p.as,v=h(x,p.crossOrigin);i.d.L(d,x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},es.preloadModule=function(d,p){if(typeof d=="string")if(p){var x=h(p.as,p.crossOrigin);i.d.m(d,{as:typeof p.as=="string"&amp;&amp;p.as!=="script"?p.as:void 0,crossOrigin:x,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(d)},es.requestFormReset=function(d){i.d.r(d)},es.unstable_batchedUpdates=function(d,p){return d(p)},es.useFormState=function(d,p,x){return l.H.useFormState(d,p,x)},es.useFormStatus=function(){return l.H.useHostTransitionStatus()},es.version="19.2.0",es}var B2;function aU(){if(B2)return O1.exports;B2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&gt;"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),O1.exports=iU(),O1.exports}/**
- * @license React
- * react-dom-client.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var I2;function sU(){if(I2)return Hm;I2=1;var n=nU(),t=rp(),e=aU();function i(s){var r="https://react.dev/errors/"+s;if(1&lt;arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f&lt;arguments.length;f++)r+="&amp;args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&amp;&amp;s.nodeType!==9&amp;&amp;s.nodeType!==11)}function o(s){var r=s,f=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&amp;4098)!==0&amp;&amp;(f=r.return),s=r.return;while(s)}return r.tag===3?f:null}function l(s){if(s.tag===13){var r=s.memoizedState;if(r===null&amp;&amp;(s=s.alternate,s!==null&amp;&amp;(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&amp;&amp;(s=s.alternate,s!==null&amp;&amp;(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function p(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var f=s,m=r;;){var _=f.return;if(_===null)break;var E=_.alternate;if(E===null){if(m=_.return,m!==null){f=m;continue}break}if(_.child===E.child){for(E=_.child;E;){if(E===f)return d(_),s;if(E===m)return d(_),r;E=E.sibling}throw Error(i(188))}if(f.return!==m.return)f=_,m=E;else{for(var U=!1,X=_.child;X;){if(X===f){U=!0,f=_,m=E;break}if(X===m){U=!0,m=_,f=E;break}X=X.sibling}if(!U){for(X=E.child;X;){if(X===f){U=!0,f=E,m=_;break}if(X===m){U=!0,m=E,f=_;break}X=X.sibling}if(!U)throw Error(i(189))}}if(f.alternate!==m)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?s:r}function x(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=x(s),r!==null)return r;s=s.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),T=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function nt(s){return s===null||typeof s!="object"?null:(s=Y&amp;&amp;s[Y]||s["@@iterator"],typeof s=="function"?s:null)}var rt=Symbol.for("react.client.reference");function ft(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===rt?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case M:return"Profiler";case w:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList";case L:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case T:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case O:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case G:return r=s.displayName||null,r!==null?r:ft(s.type)||"Memo";case H:r=s._payload,s=s._init;try{return ft(s(r))}catch{}}return null}var pt=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},xt=[],bt=-1;function Z(s){return{current:s}}function ht(s){0&gt;bt||(s.current=xt[bt],xt[bt]=null,bt--)}function Rt(s,r){bt++,xt[bt]=s.current,s.current=r}var Bt=Z(null),le=Z(null),mt=Z(null),Dt=Z(null);function ie(s,r){switch(Rt(mt,r),Rt(le,s),Rt(Bt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&amp;&amp;(s=s.namespaceURI)?J3(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=J3(r),s=$3(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ht(Bt),Rt(Bt,s)}function xe(){ht(Bt),ht(le),ht(mt)}function De(s){s.memoizedState!==null&amp;&amp;Rt(Dt,s);var r=Bt.current,f=$3(r,s.type);r!==f&amp;&amp;(Rt(le,s),Rt(Bt,f))}function Ke(s){le.current===s&amp;&amp;(ht(Bt),ht(le)),Dt.current===s&amp;&amp;(ht(Dt),Bm._currentValue=it)}var Mn,Ge;function qt(s){if(Mn===void 0)try{throw Error()}catch(f){var r=f.stack.trim().match(/\n( *(at )?)/);Mn=r&amp;&amp;r[1]||"",Ge=-1&lt;f.stack.indexOf(`
-    at`)?" (&lt;anonymous&gt;)":-1&lt;f.stack.indexOf("@")?"@unknown:0:0":""}return`
-`+Mn+s+Ge}var Q=!1;function Kt(s,r){if(!s||Q)return"";Q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(r){var Yt=function(){throw Error()};if(Object.defineProperty(Yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&amp;&amp;Reflect.construct){try{Reflect.construct(Yt,[])}catch(Lt){var wt=Lt}Reflect.construct(s,[],Yt)}else{try{Yt.call()}catch(Lt){wt=Lt}s.call(Yt.prototype)}}else{try{throw Error()}catch(Lt){wt=Lt}(Yt=s())&amp;&amp;typeof Yt.catch=="function"&amp;&amp;Yt.catch(function(){})}}catch(Lt){if(Lt&amp;&amp;wt&amp;&amp;typeof Lt.stack=="string")return[Lt.stack,wt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");_&amp;&amp;_.configurable&amp;&amp;Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=m.DetermineComponentFrameRoot(),U=E[0],X=E[1];if(U&amp;&amp;X){var lt=U.split(`
-`),Et=X.split(`
-`);for(_=m=0;m&lt;lt.length&amp;&amp;!lt[m].includes("DetermineComponentFrameRoot");)m++;for(;_&lt;Et.length&amp;&amp;!Et[_].includes("DetermineComponentFrameRoot");)_++;if(m===lt.length||_===Et.length)for(m=lt.length-1,_=Et.length-1;1&lt;=m&amp;&amp;0&lt;=_&amp;&amp;lt[m]!==Et[_];)_--;for(;1&lt;=m&amp;&amp;0&lt;=_;m--,_--)if(lt[m]!==Et[_]){if(m!==1||_!==1)do if(m--,_--,0&gt;_||lt[m]!==Et[_]){var Vt=`
-`+lt[m].replace(" at new "," at ");return s.displayName&amp;&amp;Vt.includes("&lt;anonymous&gt;")&amp;&amp;(Vt=Vt.replace("&lt;anonymous&gt;",s.displayName)),Vt}while(1&lt;=m&amp;&amp;0&lt;=_);break}}}finally{Q=!1,Error.prepareStackTrace=f}return(f=s?s.displayName||s.name:"")?qt(f):""}function ne(s,r){switch(s.tag){case 26:case 27:case 5:return qt(s.type);case 16:return qt("Lazy");case 13:return s.child!==r&amp;&amp;r!==null?qt("Suspense Fallback"):qt("Suspense");case 19:return qt("SuspenseList");case 0:case 15:return Kt(s.type,!1);case 11:return Kt(s.type.render,!1);case 1:return Kt(s.type,!0);case 31:return qt("Activity");default:return""}}function ue(s){try{var r="",f=null;do r+=ne(s,f),f=s,s=s.return;while(s);return r}catch(m){return`
-Error generating stack: `+m.message+`
-`+m.stack}}var te=Object.prototype.hasOwnProperty,ge=n.unstable_scheduleCallback,fe=n.unstable_cancelCallback,Ee=n.unstable_shouldYield,J=n.unstable_requestPaint,j=n.unstable_now,St=n.unstable_getCurrentPriorityLevel,Pt=n.unstable_ImmediatePriority,Wt=n.unstable_UserBlockingPriority,Ot=n.unstable_NormalPriority,Ne=n.unstable_LowPriority,pe=n.unstable_IdlePriority,Ve=n.log,Ue=n.unstable_setDisableYieldValue,Gt=null,jt=null;function Oe(s){if(typeof Ve=="function"&amp;&amp;Ue(s),jt&amp;&amp;typeof jt.setStrictMode=="function")try{jt.setStrictMode(Gt,s)}catch{}}var be=Math.clz32?Math.clz32:ut,he=Math.log,Ce=Math.LN2;function ut(s){return s&gt;&gt;&gt;=0,s===0?32:31-(he(s)/Ce|0)|0}var Ct=256,oe=262144,de=4194304;function Jt(s){var r=s&amp;42;if(r!==0)return r;switch(s&amp;-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&amp;261888;case 262144:case 524288:case 1048576:case 2097152:return s&amp;3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&amp;62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xt(s,r,f){var m=s.pendingLanes;if(m===0)return 0;var _=0,E=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var X=m&amp;134217727;return X!==0?(m=X&amp;~E,m!==0?_=Jt(m):(U&amp;=X,U!==0?_=Jt(U):f||(f=X&amp;~s,f!==0&amp;&amp;(_=Jt(f))))):(X=m&amp;~E,X!==0?_=Jt(X):U!==0?_=Jt(U):f||(f=m&amp;~s,f!==0&amp;&amp;(_=Jt(f)))),_===0?0:r!==0&amp;&amp;r!==_&amp;&amp;(r&amp;E)===0&amp;&amp;(E=_&amp;-_,f=r&amp;-r,E&gt;=f||E===32&amp;&amp;(f&amp;4194048)!==0)?r:_}function we(s,r){return(s.pendingLanes&amp;~(s.suspendedLanes&amp;~s.pingedLanes)&amp;r)===0}function We(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Un(){var s=de;return de&lt;&lt;=1,(de&amp;62914560)===0&amp;&amp;(de=4194304),s}function En(s){for(var r=[],f=0;31&gt;f;f++)r.push(s);return r}function Xi(s,r){s.pendingLanes|=r,r!==268435456&amp;&amp;(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ya(s,r,f,m,_,E){var U=s.pendingLanes;s.pendingLanes=f,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&amp;=f,s.entangledLanes&amp;=f,s.errorRecoveryDisabledLanes&amp;=f,s.shellSuspendCounter=0;var X=s.entanglements,lt=s.expirationTimes,Et=s.hiddenUpdates;for(f=U&amp;~f;0&lt;f;){var Vt=31-be(f),Yt=1&lt;&lt;Vt;X[Vt]=0,lt[Vt]=-1;var wt=Et[Vt];if(wt!==null)for(Et[Vt]=null,Vt=0;Vt&lt;wt.length;Vt++){var Lt=wt[Vt];Lt!==null&amp;&amp;(Lt.lane&amp;=-536870913)}f&amp;=~Yt}m!==0&amp;&amp;_l(s,m,0),E!==0&amp;&amp;_===0&amp;&amp;s.tag!==0&amp;&amp;(s.suspendedLanes|=E&amp;~(U&amp;~r))}function _l(s,r,f){s.pendingLanes|=r,s.suspendedLanes&amp;=~r;var m=31-be(r);s.entangledLanes|=r,s.entanglements[m]=s.entanglements[m]|1073741824|f&amp;261930}function kr(s,r){var f=s.entangledLanes|=r;for(s=s.entanglements;f;){var m=31-be(f),_=1&lt;&lt;m;_&amp;r|s[m]&amp;r&amp;&amp;(s[m]|=r),f&amp;=~_}}function Is(s,r){var f=r&amp;-r;return f=(f&amp;42)!==0?1:zi(f),(f&amp;(s.suspendedLanes|r))!==0?0:f}function zi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ja(s){return s&amp;=-s,2&lt;s?8&lt;s?(s&amp;134217727)!==0?32:268435456:8:2}function ta(){var s=tt.p;return s!==0?s:(s=window.event,s===void 0?32:S2(s.type))}function Je(s,r){var f=tt.p;try{return tt.p=s,r()}finally{tt.p=f}}var qi=Math.random().toString(36).slice(2),un="__reactFiber$"+qi,P="__reactProps$"+qi,W="__reactContainer$"+qi,ct="__reactEvents$"+qi,At="__reactListeners$"+qi,It="__reactHandles$"+qi,zt="__reactResources$"+qi,ae="__reactMarker$"+qi;function $t(s){delete s[un],delete s[P],delete s[ct],delete s[At],delete s[It]}function ee(s){var r=s[un];if(r)return r;for(var f=s.parentNode;f;){if(r=f[W]||f[un]){if(f=r.alternate,r.child!==null||f!==null&amp;&amp;f.child!==null)for(s=r2(s);s!==null;){if(f=s[un])return f;s=r2(s)}return r}s=f,f=s.parentNode}return null}function V(s){if(s=s[un]||s[W]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function $(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function st(s){var r=s[zt];return r||(r=s[zt]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function gt(s){s[ae]=!0}var at=new Set,Ut={};function Ft(s,r){Qt(s,r),Qt(s+"Capture",r)}function Qt(s,r){for(Ut[s]=r,s=0;s&lt;r.length;s++)at.add(r[s])}var re=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),me={},Te={};function Me(s){return te.call(Te,s)?!0:te.call(me,s)?!1:re.test(s)?Te[s]=!0:(me[s]=!0,!1)}function Re(s,r,f){if(Me(r))if(f===null)s.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var m=r.toLowerCase().slice(0,5);if(m!=="data-"&amp;&amp;m!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+f)}}function sn(s,r,f){if(f===null)s.removeAttribute(r);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+f)}}function Ie(s,r,f,m){if(m===null)s.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(f);return}s.setAttributeNS(r,f,""+m)}}function qe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function xn(s){var r=s.type;return(s=s.nodeName)&amp;&amp;s.toLowerCase()==="input"&amp;&amp;(r==="checkbox"||r==="radio")}function Pe(s,r,f){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&amp;&amp;typeof m&lt;"u"&amp;&amp;typeof m.get=="function"&amp;&amp;typeof m.set=="function"){var _=m.get,E=m.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return _.call(this)},set:function(U){f=""+U,E.call(this,U)}}),Object.defineProperty(s,r,{enumerable:m.enumerable}),{getValue:function(){return f},setValue:function(U){f=""+U},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function hn(s){if(!s._valueTracker){var r=xn(s)?"checked":"value";s._valueTracker=Pe(s,r,""+s[r])}}function Le(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var f=r.getValue(),m="";return s&amp;&amp;(m=xn(s)?s.checked?"true":"false":s.value),s=m,s!==f?(r.setValue(s),!0):!1}function Tn(s){if(s=s||(typeof document&lt;"u"?document:void 0),typeof s&gt;"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var On=/[\n"\\]/g;function je(s){return s.replace(On,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function pi(s,r,f,m,_,E,U,X){s.name="",U!=null&amp;&amp;typeof U!="function"&amp;&amp;typeof U!="symbol"&amp;&amp;typeof U!="boolean"?s.type=U:s.removeAttribute("type"),r!=null?U==="number"?(r===0&amp;&amp;s.value===""||s.value!=r)&amp;&amp;(s.value=""+qe(r)):s.value!==""+qe(r)&amp;&amp;(s.value=""+qe(r)):U!=="submit"&amp;&amp;U!=="reset"||s.removeAttribute("value"),r!=null?In(s,U,qe(r)):f!=null?In(s,U,qe(f)):m!=null&amp;&amp;s.removeAttribute("value"),_==null&amp;&amp;E!=null&amp;&amp;(s.defaultChecked=!!E),_!=null&amp;&amp;(s.checked=_&amp;&amp;typeof _!="function"&amp;&amp;typeof _!="symbol"),X!=null&amp;&amp;typeof X!="function"&amp;&amp;typeof X!="symbol"&amp;&amp;typeof X!="boolean"?s.name=""+qe(X):s.removeAttribute("name")}function Rn(s,r,f,m,_,E,U,X){if(E!=null&amp;&amp;typeof E!="function"&amp;&amp;typeof E!="symbol"&amp;&amp;typeof E!="boolean"&amp;&amp;(s.type=E),r!=null||f!=null){if(!(E!=="submit"&amp;&amp;E!=="reset"||r!=null)){hn(s);return}f=f!=null?""+qe(f):"",r=r!=null?""+qe(r):f,X||r===s.value||(s.value=r),s.defaultValue=r}m=m??_,m=typeof m!="function"&amp;&amp;typeof m!="symbol"&amp;&amp;!!m,s.checked=X?s.checked:!!m,s.defaultChecked=!!m,U!=null&amp;&amp;typeof U!="function"&amp;&amp;typeof U!="symbol"&amp;&amp;typeof U!="boolean"&amp;&amp;(s.name=U),hn(s)}function In(s,r,f){r==="number"&amp;&amp;Tn(s.ownerDocument)===s||s.defaultValue===""+f||(s.defaultValue=""+f)}function $n(s,r,f,m){if(s=s.options,r){r={};for(var _=0;_&lt;f.length;_++)r["$"+f[_]]=!0;for(f=0;f&lt;s.length;f++)_=r.hasOwnProperty("$"+s[f].value),s[f].selected!==_&amp;&amp;(s[f].selected=_),_&amp;&amp;m&amp;&amp;(s[f].defaultSelected=!0)}else{for(f=""+qe(f),r=null,_=0;_&lt;s.length;_++){if(s[_].value===f){s[_].selected=!0,m&amp;&amp;(s[_].defaultSelected=!0);return}r!==null||s[_].disabled||(r=s[_])}r!==null&amp;&amp;(r.selected=!0)}}function Yi(s,r,f){if(r!=null&amp;&amp;(r=""+qe(r),r!==s.value&amp;&amp;(s.value=r),f==null)){s.defaultValue!==r&amp;&amp;(s.defaultValue=r);return}s.defaultValue=f!=null?""+qe(f):""}function vi(s,r,f,m){if(r==null){if(m!=null){if(f!=null)throw Error(i(92));if(pt(m)){if(1&lt;m.length)throw Error(i(93));m=m[0]}f=m}f==null&amp;&amp;(f=""),r=f}f=qe(r),s.defaultValue=f,m=s.textContent,m===f&amp;&amp;m!==""&amp;&amp;m!==null&amp;&amp;(s.value=m),hn(s)}function Js(s,r){if(r){var f=s.firstChild;if(f&amp;&amp;f===s.lastChild&amp;&amp;f.nodeType===3){f.nodeValue=r;return}}s.textContent=r}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(s,r,f){var m=r.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":m?s.setProperty(r,f):typeof f!="number"||f===0||Ps.has(r)?r==="float"?s.cssFloat=f:s[r]=(""+f).trim():s[r]=f+"px"}function gp(s,r,f){if(r!=null&amp;&amp;typeof r!="object")throw Error(i(62));if(s=s.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||r!=null&amp;&amp;r.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var _ in r)m=r[_],r.hasOwnProperty(_)&amp;&amp;f[_]!==m&amp;&amp;Su(s,_,m)}else for(var E in r)r.hasOwnProperty(E)&amp;&amp;Su(s,E,r[E])}function Mu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eu(s){return Tg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function mr(){}var Tu=null;function eh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&amp;&amp;(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var bl=null,Ro=null;function xp(s){var r=V(s);if(r&amp;&amp;(s=r.stateNode)){var f=s[P]||null;t:switch(s=r.stateNode,r.type){case"input":if(pi(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),r=f.name,f.type==="radio"&amp;&amp;r!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+je(""+r)+'"][type="radio"]'),r=0;r&lt;f.length;r++){var m=f[r];if(m!==s&amp;&amp;m.form===s.form){var _=m[P]||null;if(!_)throw Error(i(90));pi(m,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(r=0;r&lt;f.length;r++)m=f[r],m.form===s.form&amp;&amp;Le(m)}break t;case"textarea":Yi(s,f.value,f.defaultValue);break t;case"select":r=f.value,r!=null&amp;&amp;$n(s,!!f.multiple,r,!1)}}}var nh=!1;function vp(s,r,f){if(nh)return s(r,f);nh=!0;try{var m=s(r);return m}finally{if(nh=!1,(bl!==null||Ro!==null)&amp;&amp;(q(),bl&amp;&amp;(r=bl,s=Ro,Ro=bl=null,xp(r),s)))for(r=0;r&lt;s.length;r++)xp(s[r])}}function Sl(s,r){var f=s.stateNode;if(f===null)return null;var m=f[P]||null;if(m===null)return null;f=m[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break t;default:s=!1}if(s)return null;if(f&amp;&amp;typeof f!="function")throw Error(i(231,r,typeof f));return f}var gr=!(typeof window&gt;"u"||typeof window.document&gt;"u"||typeof window.document.createElement&gt;"u"),ih=!1;if(gr)try{var Au={};Object.defineProperty(Au,"passive",{get:function(){ih=!0}}),window.addEventListener("test",Au,Au),window.removeEventListener("test",Au,Au)}catch{ih=!1}var Do=null,ah=null,No=null;function sh(){if(No)return No;var s,r=ah,f=r.length,m,_="value"in Do?Do.value:Do.textContent,E=_.length;for(s=0;s&lt;f&amp;&amp;r[s]===_[s];s++);var U=f-s;for(m=1;m&lt;=U&amp;&amp;r[f-m]===_[E-m];m++);return No=_.slice(s,1&lt;m?1-m:void 0)}function Ml(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&amp;&amp;r===13&amp;&amp;(s=13)):s=r,s===10&amp;&amp;(s=13),32&lt;=s||s===13?s:0}function wu(){return!0}function yp(){return!1}function _a(s){function r(f,m,_,E,U){this._reactName=f,this._targetInst=_,this.type=m,this.nativeEvent=E,this.target=U,this.currentTarget=null;for(var X in s)s.hasOwnProperty(X)&amp;&amp;(f=s[X],this[X]=f?f(E):E[X]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?wu:yp,this.isPropagationStopped=yp,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&amp;&amp;(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&amp;&amp;(f.returnValue=!1),this.isDefaultPrevented=wu)},stopPropagation:function(){var f=this.nativeEvent;f&amp;&amp;(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&amp;&amp;(f.cancelBubble=!0),this.isPropagationStopped=wu)},persist:function(){},isPersistent:wu}),r}var Uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=_a(Uo),$s=v({},Uo,{view:0,detail:0}),rh=_a($s),oh,Ru,hc,Du=v({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==hc&amp;&amp;(hc&amp;&amp;s.type==="mousemove"?(oh=s.screenX-hc.screenX,Ru=s.screenY-hc.screenY):Ru=oh=0,hc=s),oh)},movementY:function(s){return"movementY"in s?s.movementY:Ru}}),Ag=_a(Du),la=v({},Du,{dataTransfer:0}),wg=_a(la),Cg=v({},$s,{relatedTarget:0}),lh=_a(Cg),Rg=v({},Uo,{animationName:0,elapsedTime:0,pseudoElement:0}),Dg=_a(Rg),Nu=v({},Uo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_p=_a(Nu),Ng=v({},Uo,{data:0}),bp=_a(Ng),Ug={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Og(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Mp[s])?!!r[s]:!1}function Uu(){return Og}var Ep=v({},$s,{key:function(s){if(s.key){var r=Ug[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Ml(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Sp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(s){return s.type==="keypress"?Ml(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ml(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Tp=_a(Ep),Lg=v({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ch=_a(Lg),zg=v({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),Xr=_a(zg),Ap=v({},Uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_=_a(Ap),Bg=v({},Du,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Oo=_a(Bg),qr=v({},Uo,{newState:0,oldState:0}),wp=_a(qr),Cp=[9,13,27,32],El=gr&amp;&amp;"CompositionEvent"in window,Lo=null;gr&amp;&amp;"documentMode"in document&amp;&amp;(Lo=document.documentMode);var Tl=gr&amp;&amp;"TextEvent"in window&amp;&amp;!Lo,ca=gr&amp;&amp;(!El||Lo&amp;&amp;8&lt;Lo&amp;&amp;11&gt;=Lo),Ou=" ",Rp=!1;function uh(s,r){switch(s){case"keyup":return Cp.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dc(s){return s=s.detail,typeof s=="object"&amp;&amp;"data"in s?s.data:null}var zo=!1;function fh(s,r){switch(s){case"compositionend":return dc(r);case"keypress":return r.which!==32?null:(Rp=!0,Ou);case"textInput":return s=r.data,s===Ou&amp;&amp;Rp?null:s;default:return null}}function Ig(s,r){if(zo)return s==="compositionend"||!El&amp;&amp;uh(s,r)?(s=sh(),No=ah=Do=null,zo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&amp;&amp;r.altKey){if(r.char&amp;&amp;1&lt;r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ca&amp;&amp;r.locale!=="ko"?null:r.data;default:return null}}var us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dp(s){var r=s&amp;&amp;s.nodeName&amp;&amp;s.nodeName.toLowerCase();return r==="input"?!!us[s.type]:r==="textarea"}function hh(s,r,f,m){bl?Ro?Ro.push(m):Ro=[m]:bl=m,r=Cx(r,"onChange"),0&lt;r.length&amp;&amp;(f=new Cu("onChange","change",null,f,m),s.push({event:f,listeners:r}))}var pc=null,mc=null;function Np(s){q3(s,0)}function gc(s){var r=$(s);if(Le(r))return s}function Up(s,r){if(s==="change")return r}var Lu=!1;if(gr){var Al;if(gr){var ui="oninput"in document;if(!ui){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),ui=typeof Pg.oninput=="function"}Al=ui}else Al=!1;Lu=Al&amp;&amp;(!document.documentMode||9&lt;document.documentMode)}function Vg(){pc&amp;&amp;(pc.detachEvent("onpropertychange",Op),mc=pc=null)}function Op(s){if(s.propertyName==="value"&amp;&amp;gc(mc)){var r=[];hh(r,mc,s,eh(s)),vp(Np,r)}}function zu(s,r,f){s==="focusin"?(Vg(),pc=r,mc=f,pc.attachEvent("onpropertychange",Op)):s==="focusout"&amp;&amp;Vg()}function Bo(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return gc(mc)}function Fg(s,r){if(s==="click")return gc(r)}function Hg(s,r){if(s==="input"||s==="change")return gc(r)}function wl(s,r){return s===r&amp;&amp;(s!==0||1/s===1/r)||s!==s&amp;&amp;r!==r}var fi=typeof Object.is=="function"?Object.is:wl;function xc(s,r){if(fi(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var f=Object.keys(s),m=Object.keys(r);if(f.length!==m.length)return!1;for(m=0;m&lt;f.length;m++){var _=f[m];if(!te.call(r,_)||!fi(s[_],r[_]))return!1}return!0}function Lp(s){for(;s&amp;&amp;s.firstChild;)s=s.firstChild;return s}function zp(s,r){var f=Lp(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s&lt;=r&amp;&amp;m&gt;=r)return{node:f,offset:r-s};s=m}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=Lp(f)}}function dh(s,r){return s&amp;&amp;r?s===r?!0:s&amp;&amp;s.nodeType===3?!1:r&amp;&amp;r.nodeType===3?dh(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&amp;16):!1:!1}function ph(s){s=s!=null&amp;&amp;s.ownerDocument!=null&amp;&amp;s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Tn(s.document);r instanceof s.HTMLIFrameElement;){try{var f=typeof r.contentWindow.location.href=="string"}catch{f=!1}if(f)s=r.contentWindow;else break;r=Tn(s.document)}return r}function vc(s){var r=s&amp;&amp;s.nodeName&amp;&amp;s.nodeName.toLowerCase();return r&amp;&amp;(r==="input"&amp;&amp;(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var Gg=gr&amp;&amp;"documentMode"in document&amp;&amp;11&gt;=document.documentMode,yc=null,mh=null,_c=null,fs=!1;function gh(s,r,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;fs||yc==null||yc!==Tn(m)||(m=yc,"selectionStart"in m&amp;&amp;vc(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&amp;&amp;m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),_c&amp;&amp;xc(_c,m)||(_c=m,m=Cx(mh,"onSelect"),0&lt;m.length&amp;&amp;(r=new Cu("onSelect","select",null,r,f),s.push({event:r,listeners:m}),r.target=yc)))}function Io(s,r){var f={};return f[s.toLowerCase()]=r.toLowerCase(),f["Webkit"+s]="webkit"+r,f["Moz"+s]="moz"+r,f}var bc={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionrun:Io("Transition","TransitionRun"),transitionstart:Io("Transition","TransitionStart"),transitioncancel:Io("Transition","TransitionCancel"),transitionend:Io("Transition","TransitionEnd")},Bu={},Na={};gr&amp;&amp;(Na=document.createElement("div").style,"AnimationEvent"in window||(delete bc.animationend.animation,delete bc.animationiteration.animation,delete bc.animationstart.animation),"TransitionEvent"in window||delete bc.transitionend.transition);function Po(s){if(Bu[s])return Bu[s];if(!bc[s])return s;var r=bc[s],f;for(f in r)if(r.hasOwnProperty(f)&amp;&amp;f in Na)return Bu[s]=r[f];return s}var ka=Po("animationend"),Bp=Po("animationiteration"),xr=Po("animationstart"),Sc=Po("transitionrun"),Vo=Po("transitionstart"),Ip=Po("transitioncancel"),xh=Po("transitionend"),Yr=new Map,vh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vh.push("scrollEnd");function ba(s,r){Yr.set(s,r),Ft(r,[s])}var Fo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&amp;&amp;typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&amp;&amp;s!==null&amp;&amp;typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&amp;&amp;typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ea=[],Cl=0,yh=0;function Ho(){for(var s=Cl,r=yh=Cl=0;r&lt;s;){var f=ea[r];ea[r++]=null;var m=ea[r];ea[r++]=null;var _=ea[r];ea[r++]=null;var E=ea[r];if(ea[r++]=null,m!==null&amp;&amp;_!==null){var U=m.pending;U===null?_.next=_:(_.next=U.next,U.next=_),m.pending=_}E!==0&amp;&amp;_h(f,_,E)}}function Iu(s,r,f,m){ea[Cl++]=s,ea[Cl++]=r,ea[Cl++]=f,ea[Cl++]=m,yh|=m,s.lanes|=m,s=s.alternate,s!==null&amp;&amp;(s.lanes|=m)}function Mc(s,r,f,m){return Iu(s,r,f,m),Ec(s)}function Go(s,r){return Iu(s,null,null,r),Ec(s)}function _h(s,r,f){s.lanes|=f;var m=s.alternate;m!==null&amp;&amp;(m.lanes|=f);for(var _=!1,E=s.return;E!==null;)E.childLanes|=f,m=E.alternate,m!==null&amp;&amp;(m.childLanes|=f),E.tag===22&amp;&amp;(s=E.stateNode,s===null||s._visibility&amp;1||(_=!0)),s=E,E=E.return;return s.tag===3?(E=s.stateNode,_&amp;&amp;r!==null&amp;&amp;(_=31-be(f),s=E.hiddenUpdates,m=s[_],m===null?s[_]=[r]:m.push(r),r.lane=f|536870912),E):null}function Ec(s){if(50&lt;Xl)throw Xl=0,ql=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var jo={};function jg(s,r,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(s,r,f,m){return new jg(s,r,f,m)}function Oa(s){return s=s.prototype,!(!s||!s.isReactComponent)}function vr(s,r){var f=s.alternate;return f===null?(f=Ua(s.tag,r,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=r,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&amp;65011712,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,r=s.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f.refCleanup=s.refCleanup,f}function Sa(s,r){s.flags&amp;=65011714;var f=s.alternate;return f===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=f.childLanes,s.lanes=f.lanes,s.child=f.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=f.memoizedProps,s.memoizedState=f.memoizedState,s.updateQueue=f.updateQueue,s.type=f.type,r=f.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Pu(s,r,f,m,_,E){var U=0;if(m=s,typeof s=="function")Oa(s)&amp;&amp;(U=1);else if(typeof s=="string")U=P4(s,f,Bt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case L:return s=Ua(31,f,r,_),s.elementType=L,s.lanes=E,s;case C:return Wr(f.children,_,E,r);case w:U=8,_|=24;break;case M:return s=Ua(12,f,r,_|2),s.elementType=M,s.lanes=E,s;case I:return s=Ua(13,f,r,_),s.elementType=I,s.lanes=E,s;case z:return s=Ua(19,f,r,_),s.elementType=z,s.lanes=E,s;default:if(typeof s=="object"&amp;&amp;s!==null)switch(s.$$typeof){case D:U=10;break t;case R:U=9;break t;case O:U=11;break t;case G:U=14;break t;case H:U=16,m=null;break t}U=29,f=Error(i(130,s===null?"null":typeof s,"")),m=null}return r=Ua(U,f,r,_),r.elementType=s,r.type=m,r.lanes=E,r}function Wr(s,r,f,m){return s=Ua(7,s,m,r),s.lanes=f,s}function bh(s,r,f){return s=Ua(6,s,null,r),s.lanes=f,s}function kg(s){var r=Ua(18,null,null,0);return r.stateNode=s,r}function tr(s,r,f){return r=Ua(4,s.children!==null?s.children:[],s.key,r),r.lanes=f,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Pp=new WeakMap;function Xa(s,r){if(typeof s=="object"&amp;&amp;s!==null){var f=Pp.get(s);return f!==void 0?f:(r={value:s,source:r,stack:ue(r)},Pp.set(s,r),r)}return{value:s,source:r,stack:ue(r)}}var er=[],Rl=0,Vu=null,Tc=0,hs=[],qa=0,yr=null,_r=1,br="";function Zr(s,r){er[Rl++]=Tc,er[Rl++]=Vu,Vu=s,Tc=r}function Vp(s,r,f){hs[qa++]=_r,hs[qa++]=br,hs[qa++]=yr,yr=s;var m=_r;s=br;var _=32-be(m)-1;m&amp;=~(1&lt;&lt;_),f+=1;var E=32-be(r)+_;if(30&lt;E){var U=_-_%5;E=(m&amp;(1&lt;&lt;U)-1).toString(32),m&gt;&gt;=U,_-=U,_r=1&lt;&lt;32-be(r)+_|f&lt;&lt;_|m,br=E+s}else _r=1&lt;&lt;E|f&lt;&lt;_|m,br=s}function Sh(s){s.return!==null&amp;&amp;(Zr(s,1),Vp(s,1,0))}function ko(s){for(;s===Vu;)Vu=er[--Rl],er[Rl]=null,Tc=er[--Rl],er[Rl]=null;for(;s===yr;)yr=hs[--qa],hs[qa]=null,br=hs[--qa],hs[qa]=null,_r=hs[--qa],hs[qa]=null}function Fu(s,r){hs[qa++]=_r,hs[qa++]=br,hs[qa++]=yr,_r=r.id,br=r.overflow,yr=s}var na=null,si=null,Dn=!1,Kr=null,ia=!1,Mh=Error(i(519));function An(s){var r=Error(i(418,1&lt;arguments.length&amp;&amp;arguments[1]!==void 0&amp;&amp;arguments[1]?"text":"HTML",""));throw Hu(Xa(r,s)),Mh}function Eh(s){var r=s.stateNode,f=s.type,m=s.memoizedProps;switch(r[un]=s,r[P]=m,f){case"dialog":Nn("cancel",r),Nn("close",r);break;case"iframe":case"object":case"embed":Nn("load",r);break;case"video":case"audio":for(f=0;f&lt;Nm.length;f++)Nn(Nm[f],r);break;case"source":Nn("error",r);break;case"img":case"image":case"link":Nn("error",r),Nn("load",r);break;case"details":Nn("toggle",r);break;case"input":Nn("invalid",r),Rn(r,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":Nn("invalid",r);break;case"textarea":Nn("invalid",r),vi(r,m.value,m.defaultValue,m.children)}f=m.children,typeof f!="string"&amp;&amp;typeof f!="number"&amp;&amp;typeof f!="bigint"||r.textContent===""+f||m.suppressHydrationWarning===!0||K3(r.textContent,f)?(m.popover!=null&amp;&amp;(Nn("beforetoggle",r),Nn("toggle",r)),m.onScroll!=null&amp;&amp;Nn("scroll",r),m.onScrollEnd!=null&amp;&amp;Nn("scrollend",r),m.onClick!=null&amp;&amp;(r.onclick=mr),r=!0):r=!1,r||An(s,!0)}function Xg(s){for(na=s.return;na;)switch(na.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:na=na.return}}function Dl(s){if(s!==na)return!1;if(!Dn)return Xg(s),Dn=!0,!1;var r=s.tag,f;if((f=r!==3&amp;&amp;r!==27)&amp;&amp;((f=r===5)&amp;&amp;(f=s.type,f=!(f!=="form"&amp;&amp;f!=="button")||d1(s.type,s.memoizedProps)),f=!f),f&amp;&amp;si&amp;&amp;An(s),Xg(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));si=s2(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));si=s2(s)}else r===27?(r=si,kc(s.type)?(s=v1,v1=null,si=s):si=r):si=na?Ur(s.stateNode.nextSibling):null;return!0}function Nl(){si=na=null,Dn=!1}function Fp(){var s=Kr;return s!==null&amp;&amp;(Ca===null?Ca=s:Ca.push.apply(Ca,s),Kr=null),s}function Hu(s){Kr===null?Kr=[s]:Kr.push(s)}var Hp=Z(null),Qr=null,Ma=null;function Jr(s,r,f){Rt(Hp,r._currentValue),r._currentValue=f}function Vs(s){s._currentValue=Hp.current,ht(Hp)}function $r(s,r,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&amp;r)!==r?(s.childLanes|=r,m!==null&amp;&amp;(m.childLanes|=r)):m!==null&amp;&amp;(m.childLanes&amp;r)!==r&amp;&amp;(m.childLanes|=r),s===f)break;s=s.return}}function Th(s,r,f,m){var _=s.child;for(_!==null&amp;&amp;(_.return=s);_!==null;){var E=_.dependencies;if(E!==null){var U=_.child;E=E.firstContext;t:for(;E!==null;){var X=E;E=_;for(var lt=0;lt&lt;r.length;lt++)if(X.context===r[lt]){E.lanes|=f,X=E.alternate,X!==null&amp;&amp;(X.lanes|=f),$r(E.return,f,s),m||(U=null);break t}E=X.next}}else if(_.tag===18){if(U=_.return,U===null)throw Error(i(341));U.lanes|=f,E=U.alternate,E!==null&amp;&amp;(E.lanes|=f),$r(U,f,s),U=null}else U=_.child;if(U!==null)U.return=_;else for(U=_;U!==null;){if(U===s){U=null;break}if(_=U.sibling,_!==null){_.return=U.return,U=_;break}U=U.return}_=U}}function Xo(s,r,f,m){s=null;for(var _=r,E=!1;_!==null;){if(!E){if((_.flags&amp;524288)!==0)E=!0;else if((_.flags&amp;262144)!==0)break}if(_.tag===10){var U=_.alternate;if(U===null)throw Error(i(387));if(U=U.memoizedProps,U!==null){var X=_.type;fi(_.pendingProps.value,U.value)||(s!==null?s.push(X):s=[X])}}else if(_===Dt.current){if(U=_.alternate,U===null)throw Error(i(387));U.memoizedState.memoizedState!==_.memoizedState.memoizedState&amp;&amp;(s!==null?s.push(Bm):s=[Bm])}_=_.return}s!==null&amp;&amp;Th(r,s,f,m),r.flags|=262144}function Ac(s){for(s=s.firstContext;s!==null;){if(!fi(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ul(s){Qr=s,Ma=null,s=s.dependencies,s!==null&amp;&amp;(s.firstContext=null)}function aa(s){return Gp(Qr,s)}function Gu(s,r){return Qr===null&amp;&amp;Ul(s),Gp(s,r)}function Gp(s,r){var f=r._currentValue;if(r={context:r,memoizedValue:f,next:null},Ma===null){if(s===null)throw Error(i(308));Ma=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else Ma=Ma.next=r;return f}var qg=typeof AbortController&lt;"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(f,m){s.push(m)}};this.abort=function(){r.aborted=!0,s.forEach(function(f){return f()})}},Yg=n.unstable_scheduleCallback,jp=n.unstable_NormalPriority,ke={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kp(){return{controller:new qg,data:new Map,refCount:0}}function ua(s){s.refCount--,s.refCount===0&amp;&amp;Yg(jp,function(){s.controller.abort()})}var Ol=null,Xp=0,to=0,nr=null;function wc(s,r){if(Ol===null){var f=Ol=[];Xp=0,to=a1(),nr={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Xp++,r.then(qp,qp),r}function qp(){if(--Xp===0&amp;&amp;Ol!==null){nr!==null&amp;&amp;(nr.status="fulfilled");var s=Ol;Ol=null,to=0,nr=null;for(var r=0;r&lt;s.length;r++)(0,s[r])()}}function Yp(s,r){var f=[],m={status:"pending",value:null,reason:null,then:function(_){f.push(_)}};return s.then(function(){m.status="fulfilled",m.value=r;for(var _=0;_&lt;f.length;_++)(0,f[_])(r)},function(_){for(m.status="rejected",m.reason=_,_=0;_&lt;f.length;_++)(0,f[_])(void 0)}),m}var Wg=k.S;k.S=function(s,r){Hc=j(),typeof r=="object"&amp;&amp;r!==null&amp;&amp;typeof r.then=="function"&amp;&amp;wc(s,r),Wg!==null&amp;&amp;Wg(s,r)};var qo=Z(null);function Sr(){var s=qo.current;return s!==null?s:Yn.pooledCache}function Cc(s,r){r===null?Rt(qo,qo.current):Rt(qo,r.pool)}function Ah(){var s=Sr();return s===null?null:{parent:ke._currentValue,pool:s}}var Yo=Error(i(460)),ju=Error(i(474)),ir=Error(i(542)),ku={then:function(){}};function Zg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Wp(s,r,f){switch(f=s[f],f===void 0?s.push(r):f!==r&amp;&amp;(r.then(mr,mr),r=f),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Zp(s),s;default:if(typeof r.status=="string")r.then(mr,mr);else{if(s=Yn,s!==null&amp;&amp;100&lt;s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(m){if(r.status==="pending"){var _=r;_.status="fulfilled",_.value=m}},function(m){if(r.status==="pending"){var _=r;_.status="rejected",_.reason=m}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Zp(s),s}throw Ze=r,Yo}}function Ll(s){try{var r=s._init;return r(s._payload)}catch(f){throw f!==null&amp;&amp;typeof f=="object"&amp;&amp;typeof f.then=="function"?(Ze=f,Yo):f}}var Ze=null;function wh(){if(Ze===null)throw Error(i(459));var s=Ze;return Ze=null,s}function Zp(s){if(s===Yo||s===ir)throw Error(i(483))}var Wo=null,Zo=0;function Ch(s){var r=Zo;return Zo+=1,Wo===null&amp;&amp;(Wo=[]),Wp(Wo,s,r)}function Xu(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function qu(s,r){throw r.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function Rc(s){function r(yt,dt){if(s){var Mt=yt.deletions;Mt===null?(yt.deletions=[dt],yt.flags|=16):Mt.push(dt)}}function f(yt,dt){if(!s)return null;for(;dt!==null;)r(yt,dt),dt=dt.sibling;return null}function m(yt){for(var dt=new Map;yt!==null;)yt.key!==null?dt.set(yt.key,yt):dt.set(yt.index,yt),yt=yt.sibling;return dt}function _(yt,dt){return yt=vr(yt,dt),yt.index=0,yt.sibling=null,yt}function E(yt,dt,Mt){return yt.index=Mt,s?(Mt=yt.alternate,Mt!==null?(Mt=Mt.index,Mt&lt;dt?(yt.flags|=67108866,dt):Mt):(yt.flags|=67108866,dt)):(yt.flags|=1048576,dt)}function U(yt){return s&amp;&amp;yt.alternate===null&amp;&amp;(yt.flags|=67108866),yt}function X(yt,dt,Mt,kt){return dt===null||dt.tag!==6?(dt=bh(Mt,yt.mode,kt),dt.return=yt,dt):(dt=_(dt,Mt),dt.return=yt,dt)}function lt(yt,dt,Mt,kt){var Ye=Mt.type;return Ye===C?Vt(yt,dt,Mt.props.children,kt,Mt.key):dt!==null&amp;&amp;(dt.elementType===Ye||typeof Ye=="object"&amp;&amp;Ye!==null&amp;&amp;Ye.$$typeof===H&amp;&amp;Ll(Ye)===dt.type)?(dt=_(dt,Mt.props),Xu(dt,Mt),dt.return=yt,dt):(dt=Pu(Mt.type,Mt.key,Mt.props,null,yt.mode,kt),Xu(dt,Mt),dt.return=yt,dt)}function Et(yt,dt,Mt,kt){return dt===null||dt.tag!==4||dt.stateNode.containerInfo!==Mt.containerInfo||dt.stateNode.implementation!==Mt.implementation?(dt=tr(Mt,yt.mode,kt),dt.return=yt,dt):(dt=_(dt,Mt.children||[]),dt.return=yt,dt)}function Vt(yt,dt,Mt,kt,Ye){return dt===null||dt.tag!==7?(dt=Wr(Mt,yt.mode,kt,Ye),dt.return=yt,dt):(dt=_(dt,Mt),dt.return=yt,dt)}function Yt(yt,dt,Mt){if(typeof dt=="string"&amp;&amp;dt!==""||typeof dt=="number"||typeof dt=="bigint")return dt=bh(""+dt,yt.mode,Mt),dt.return=yt,dt;if(typeof dt=="object"&amp;&amp;dt!==null){switch(dt.$$typeof){case S:return Mt=Pu(dt.type,dt.key,dt.props,null,yt.mode,Mt),Xu(Mt,dt),Mt.return=yt,Mt;case T:return dt=tr(dt,yt.mode,Mt),dt.return=yt,dt;case H:return dt=Ll(dt),Yt(yt,dt,Mt)}if(pt(dt)||nt(dt))return dt=Wr(dt,yt.mode,Mt,null),dt.return=yt,dt;if(typeof dt.then=="function")return Yt(yt,Ch(dt),Mt);if(dt.$$typeof===D)return Yt(yt,Gu(yt,dt),Mt);qu(yt,dt)}return null}function wt(yt,dt,Mt,kt){var Ye=dt!==null?dt.key:null;if(typeof Mt=="string"&amp;&amp;Mt!==""||typeof Mt=="number"||typeof Mt=="bigint")return Ye!==null?null:X(yt,dt,""+Mt,kt);if(typeof Mt=="object"&amp;&amp;Mt!==null){switch(Mt.$$typeof){case S:return Mt.key===Ye?lt(yt,dt,Mt,kt):null;case T:return Mt.key===Ye?Et(yt,dt,Mt,kt):null;case H:return Mt=Ll(Mt),wt(yt,dt,Mt,kt)}if(pt(Mt)||nt(Mt))return Ye!==null?null:Vt(yt,dt,Mt,kt,null);if(typeof Mt.then=="function")return wt(yt,dt,Ch(Mt),kt);if(Mt.$$typeof===D)return wt(yt,dt,Gu(yt,Mt),kt);qu(yt,Mt)}return null}function Lt(yt,dt,Mt,kt,Ye){if(typeof kt=="string"&amp;&amp;kt!==""||typeof kt=="number"||typeof kt=="bigint")return yt=yt.get(Mt)||null,X(dt,yt,""+kt,Ye);if(typeof kt=="object"&amp;&amp;kt!==null){switch(kt.$$typeof){case S:return yt=yt.get(kt.key===null?Mt:kt.key)||null,lt(dt,yt,kt,Ye);case T:return yt=yt.get(kt.key===null?Mt:kt.key)||null,Et(dt,yt,kt,Ye);case H:return kt=Ll(kt),Lt(yt,dt,Mt,kt,Ye)}if(pt(kt)||nt(kt))return yt=yt.get(Mt)||null,Vt(dt,yt,kt,Ye,null);if(typeof kt.then=="function")return Lt(yt,dt,Mt,Ch(kt),Ye);if(kt.$$typeof===D)return Lt(yt,dt,Mt,Gu(dt,kt),Ye);qu(dt,kt)}return null}function ze(yt,dt,Mt,kt){for(var Ye=null,Zn=null,Fe=dt,_n=dt=0,Bn=null;Fe!==null&amp;&amp;_n&lt;Mt.length;_n++){Fe.index&gt;_n?(Bn=Fe,Fe=null):Bn=Fe.sibling;var Kn=wt(yt,Fe,Mt[_n],kt);if(Kn===null){Fe===null&amp;&amp;(Fe=Bn);break}s&amp;&amp;Fe&amp;&amp;Kn.alternate===null&amp;&amp;r(yt,Fe),dt=E(Kn,dt,_n),Zn===null?Ye=Kn:Zn.sibling=Kn,Zn=Kn,Fe=Bn}if(_n===Mt.length)return f(yt,Fe),Dn&amp;&amp;Zr(yt,_n),Ye;if(Fe===null){for(;_n&lt;Mt.length;_n++)Fe=Yt(yt,Mt[_n],kt),Fe!==null&amp;&amp;(dt=E(Fe,dt,_n),Zn===null?Ye=Fe:Zn.sibling=Fe,Zn=Fe);return Dn&amp;&amp;Zr(yt,_n),Ye}for(Fe=m(Fe);_n&lt;Mt.length;_n++)Bn=Lt(Fe,yt,_n,Mt[_n],kt),Bn!==null&amp;&amp;(s&amp;&amp;Bn.alternate!==null&amp;&amp;Fe.delete(Bn.key===null?_n:Bn.key),dt=E(Bn,dt,_n),Zn===null?Ye=Bn:Zn.sibling=Bn,Zn=Bn);return s&amp;&amp;Fe.forEach(function(Zc){return r(yt,Zc)}),Dn&amp;&amp;Zr(yt,_n),Ye}function $e(yt,dt,Mt,kt){if(Mt==null)throw Error(i(151));for(var Ye=null,Zn=null,Fe=dt,_n=dt=0,Bn=null,Kn=Mt.next();Fe!==null&amp;&amp;!Kn.done;_n++,Kn=Mt.next()){Fe.index&gt;_n?(Bn=Fe,Fe=null):Bn=Fe.sibling;var Zc=wt(yt,Fe,Kn.value,kt);if(Zc===null){Fe===null&amp;&amp;(Fe=Bn);break}s&amp;&amp;Fe&amp;&amp;Zc.alternate===null&amp;&amp;r(yt,Fe),dt=E(Zc,dt,_n),Zn===null?Ye=Zc:Zn.sibling=Zc,Zn=Zc,Fe=Bn}if(Kn.done)return f(yt,Fe),Dn&amp;&amp;Zr(yt,_n),Ye;if(Fe===null){for(;!Kn.done;_n++,Kn=Mt.next())Kn=Yt(yt,Kn.value,kt),Kn!==null&amp;&amp;(dt=E(Kn,dt,_n),Zn===null?Ye=Kn:Zn.sibling=Kn,Zn=Kn);return Dn&amp;&amp;Zr(yt,_n),Ye}for(Fe=m(Fe);!Kn.done;_n++,Kn=Mt.next())Kn=Lt(Fe,yt,_n,Kn.value,kt),Kn!==null&amp;&amp;(s&amp;&amp;Kn.alternate!==null&amp;&amp;Fe.delete(Kn.key===null?_n:Kn.key),dt=E(Kn,dt,_n),Zn===null?Ye=Kn:Zn.sibling=Kn,Zn=Kn);return s&amp;&amp;Fe.forEach(function(Z4){return r(yt,Z4)}),Dn&amp;&amp;Zr(yt,_n),Ye}function li(yt,dt,Mt,kt){if(typeof Mt=="object"&amp;&amp;Mt!==null&amp;&amp;Mt.type===C&amp;&amp;Mt.key===null&amp;&amp;(Mt=Mt.props.children),typeof Mt=="object"&amp;&amp;Mt!==null){switch(Mt.$$typeof){case S:t:{for(var Ye=Mt.key;dt!==null;){if(dt.key===Ye){if(Ye=Mt.type,Ye===C){if(dt.tag===7){f(yt,dt.sibling),kt=_(dt,Mt.props.children),kt.return=yt,yt=kt;break t}}else if(dt.elementType===Ye||typeof Ye=="object"&amp;&amp;Ye!==null&amp;&amp;Ye.$$typeof===H&amp;&amp;Ll(Ye)===dt.type){f(yt,dt.sibling),kt=_(dt,Mt.props),Xu(kt,Mt),kt.return=yt,yt=kt;break t}f(yt,dt);break}else r(yt,dt);dt=dt.sibling}Mt.type===C?(kt=Wr(Mt.props.children,yt.mode,kt,Mt.key),kt.return=yt,yt=kt):(kt=Pu(Mt.type,Mt.key,Mt.props,null,yt.mode,kt),Xu(kt,Mt),kt.return=yt,yt=kt)}return U(yt);case T:t:{for(Ye=Mt.key;dt!==null;){if(dt.key===Ye)if(dt.tag===4&amp;&amp;dt.stateNode.containerInfo===Mt.containerInfo&amp;&amp;dt.stateNode.implementation===Mt.implementation){f(yt,dt.sibling),kt=_(dt,Mt.children||[]),kt.return=yt,yt=kt;break t}else{f(yt,dt);break}else r(yt,dt);dt=dt.sibling}kt=tr(Mt,yt.mode,kt),kt.return=yt,yt=kt}return U(yt);case H:return Mt=Ll(Mt),li(yt,dt,Mt,kt)}if(pt(Mt))return ze(yt,dt,Mt,kt);if(nt(Mt)){if(Ye=nt(Mt),typeof Ye!="function")throw Error(i(150));return Mt=Ye.call(Mt),$e(yt,dt,Mt,kt)}if(typeof Mt.then=="function")return li(yt,dt,Ch(Mt),kt);if(Mt.$$typeof===D)return li(yt,dt,Gu(yt,Mt),kt);qu(yt,Mt)}return typeof Mt=="string"&amp;&amp;Mt!==""||typeof Mt=="number"||typeof Mt=="bigint"?(Mt=""+Mt,dt!==null&amp;&amp;dt.tag===6?(f(yt,dt.sibling),kt=_(dt,Mt),kt.return=yt,yt=kt):(f(yt,dt),kt=bh(Mt,yt.mode,kt),kt.return=yt,yt=kt),U(yt)):f(yt,dt)}return function(yt,dt,Mt,kt){try{Zo=0;var Ye=li(yt,dt,Mt,kt);return Wo=null,Ye}catch(Fe){if(Fe===Yo||Fe===ir)throw Fe;var Zn=Ua(29,Fe,null,yt.mode);return Zn.lanes=kt,Zn.return=yt,Zn}finally{}}}var zl=Rc(!0),Kg=Rc(!1),Ko=!1;function Kp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qp(s,r){s=s.updateQueue,r.updateQueue===s&amp;&amp;(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Mr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function eo(s,r,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Ln&amp;2)!==0){var _=m.pending;return _===null?r.next=r:(r.next=_.next,_.next=r),m.pending=r,r=Ec(s),_h(s,null,f),r}return Iu(s,m,r,f),Ec(s)}function Qo(s,r,f){if(r=r.updateQueue,r!==null&amp;&amp;(r=r.shared,(f&amp;4194048)!==0)){var m=r.lanes;m&amp;=s.pendingLanes,f|=m,r.lanes=f,kr(s,f)}}function Rh(s,r){var f=s.updateQueue,m=s.alternate;if(m!==null&amp;&amp;(m=m.updateQueue,f===m)){var _=null,E=null;if(f=f.firstBaseUpdate,f!==null){do{var U={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};E===null?_=E=U:E=E.next=U,f=f.next}while(f!==null);E===null?_=E=r:E=E.next=r}else _=E=r;f={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:E,shared:m.shared,callbacks:m.callbacks},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=r:s.next=r,f.lastBaseUpdate=r}var Jp=!1;function Yu(){if(Jp){var s=nr;if(s!==null)throw s}}function Bl(s,r,f,m){Jp=!1;var _=s.updateQueue;Ko=!1;var E=_.firstBaseUpdate,U=_.lastBaseUpdate,X=_.shared.pending;if(X!==null){_.shared.pending=null;var lt=X,Et=lt.next;lt.next=null,U===null?E=Et:U.next=Et,U=lt;var Vt=s.alternate;Vt!==null&amp;&amp;(Vt=Vt.updateQueue,X=Vt.lastBaseUpdate,X!==U&amp;&amp;(X===null?Vt.firstBaseUpdate=Et:X.next=Et,Vt.lastBaseUpdate=lt))}if(E!==null){var Yt=_.baseState;U=0,Vt=Et=lt=null,X=E;do{var wt=X.lane&amp;-536870913,Lt=wt!==X.lane;if(Lt?(wn&amp;wt)===wt:(m&amp;wt)===wt){wt!==0&amp;&amp;wt===to&amp;&amp;(Jp=!0),Vt!==null&amp;&amp;(Vt=Vt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var ze=s,$e=X;wt=r;var li=f;switch($e.tag){case 1:if(ze=$e.payload,typeof ze=="function"){Yt=ze.call(li,Yt,wt);break t}Yt=ze;break t;case 3:ze.flags=ze.flags&amp;-65537|128;case 0:if(ze=$e.payload,wt=typeof ze=="function"?ze.call(li,Yt,wt):ze,wt==null)break t;Yt=v({},Yt,wt);break t;case 2:Ko=!0}}wt=X.callback,wt!==null&amp;&amp;(s.flags|=64,Lt&amp;&amp;(s.flags|=8192),Lt=_.callbacks,Lt===null?_.callbacks=[wt]:Lt.push(wt))}else Lt={lane:wt,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Vt===null?(Et=Vt=Lt,lt=Yt):Vt=Vt.next=Lt,U|=wt;if(X=X.next,X===null){if(X=_.shared.pending,X===null)break;Lt=X,X=Lt.next,Lt.next=null,_.lastBaseUpdate=Lt,_.shared.pending=null}}while(!0);Vt===null&amp;&amp;(lt=Yt),_.baseState=lt,_.firstBaseUpdate=Et,_.lastBaseUpdate=Vt,E===null&amp;&amp;(_.shared.lanes=0),Ms|=U,s.lanes=U,s.memoizedState=Yt}}function Er(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function fa(s,r){var f=s.callbacks;if(f!==null)for(s.callbacks=null,s=0;s&lt;f.length;s++)Er(f[s],r)}var ds=Z(null),La=Z(0);function $p(s,r){s=Ni,Rt(La,s),Rt(ds,r),Ni=s|r.baseLanes}function tm(){Rt(La,Ni),Rt(ds,ds.current)}function Ea(){Ni=La.current,ht(ds),ht(La)}var Wi=Z(null),Fs=null;function Jo(s){var r=s.alternate;Rt(yi,yi.current&amp;1),Rt(Wi,s),Fs===null&amp;&amp;(r===null||ds.current!==null||r.memoizedState!==null)&amp;&amp;(Fs=s)}function em(s){Rt(yi,yi.current),Rt(Wi,s),Fs===null&amp;&amp;(Fs=s)}function Qg(s){s.tag===22?(Rt(yi,yi.current),Rt(Wi,s),Fs===null&amp;&amp;(Fs=s)):no()}function no(){Rt(yi,yi.current),Rt(Wi,Wi.current)}function ps(s){ht(Wi),Fs===s&amp;&amp;(Fs=null),ht(yi)}var yi=Z(0);function Dh(s){for(var r=s;r!==null;){if(r.tag===13){var f=r.memoizedState;if(f!==null&amp;&amp;(f=f.dehydrated,f===null||g1(f)||x1(f)))return r}else if(r.tag===19&amp;&amp;(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&amp;128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ya=0,tn=null,ti=null,Bi=null,Nh=!1,Tr=!1,Il=!1,Uh=0,Wu=0,Ar=null,W_=0;function _i(){throw Error(i(321))}function nm(s,r){if(r===null)return!1;for(var f=0;f&lt;r.length&amp;&amp;f&lt;s.length;f++)if(!fi(s[f],r[f]))return!1;return!0}function im(s,r,f,m,_,E){return Ya=E,tn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,k.H=s===null||s.memoizedState===null?xx:Uc,Il=!1,E=f(m,_),Il=!1,Tr&amp;&amp;(E=$g(r,f,m,_)),Jg(s),E}function Jg(s){k.H=$u;var r=ti!==null&amp;&amp;ti.next!==null;if(Ya=0,Bi=ti=tn=null,Nh=!1,Wu=0,Ar=null,r)throw Error(i(300));s===null||hi||(s=s.dependencies,s!==null&amp;&amp;Ac(s)&amp;&amp;(hi=!0))}function $g(s,r,f,m){tn=s;var _=0;do{if(Tr&amp;&amp;(Ar=null),Wu=0,Tr=!1,25&lt;=_)throw Error(i(301));if(_+=1,Bi=ti=null,s.updateQueue!=null){var E=s.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&amp;&amp;(E.memoCache.index=0)}k.H=tf,E=r(f,m)}while(Tr);return E}function Z_(){var s=k.H,r=s.useState()[0];return r=typeof r.then=="function"?Ku(r):r,s=s.useState()[0],(ti!==null?ti.memoizedState:null)!==s&amp;&amp;(tn.flags|=1024),r}function am(){var s=Uh!==0;return Uh=0,s}function sm(s,r,f){r.updateQueue=s.updateQueue,r.flags&amp;=-2053,s.lanes&amp;=~f}function rm(s){if(Nh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&amp;&amp;(r.pending=null),s=s.next}Nh=!1}Ya=0,Bi=ti=tn=null,Tr=!1,Wu=Uh=0,Ar=null}function za(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bi===null?tn.memoizedState=Bi=s:Bi=Bi.next=s,Bi}function wi(){if(ti===null){var s=tn.alternate;s=s!==null?s.memoizedState:null}else s=ti.next;var r=Bi===null?tn.memoizedState:Bi.next;if(r!==null)Bi=r,ti=s;else{if(s===null)throw tn.alternate===null?Error(i(467)):Error(i(310));ti=s,s={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},Bi===null?tn.memoizedState=Bi=s:Bi=Bi.next=s}return Bi}function Zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(s){var r=Wu;return Wu+=1,Ar===null&amp;&amp;(Ar=[]),s=Wp(Ar,s,r),r=tn,(Bi===null?r.memoizedState:Bi.next)===null&amp;&amp;(r=r.alternate,k.H=r===null||r.memoizedState===null?xx:Uc),s}function Oh(s){if(s!==null&amp;&amp;typeof s=="object"){if(typeof s.then=="function")return Ku(s);if(s.$$typeof===D)return aa(s)}throw Error(i(438,String(s)))}function om(s){var r=null,f=tn.updateQueue;if(f!==null&amp;&amp;(r=f.memoCache),r==null){var m=tn.alternate;m!==null&amp;&amp;(m=m.updateQueue,m!==null&amp;&amp;(m=m.memoCache,m!=null&amp;&amp;(r={data:m.data.map(function(_){return _.slice()}),index:0})))}if(r==null&amp;&amp;(r={data:[],index:0}),f===null&amp;&amp;(f=Zu(),tn.updateQueue=f),f.memoCache=r,f=r.data[r.index],f===void 0)for(f=r.data[r.index]=Array(s),m=0;m&lt;s;m++)f[m]=B;return r.index++,f}function io(s,r){return typeof r=="function"?r(s):r}function Lh(s){var r=wi();return lm(r,ti,s)}function lm(s,r,f){var m=s.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=f;var _=s.baseQueue,E=m.pending;if(E!==null){if(_!==null){var U=_.next;_.next=E.next,E.next=U}r.baseQueue=_=E,m.pending=null}if(E=s.baseState,_===null)s.memoizedState=E;else{r=_.next;var X=U=null,lt=null,Et=r,Vt=!1;do{var Yt=Et.lane&amp;-536870913;if(Yt!==Et.lane?(wn&amp;Yt)===Yt:(Ya&amp;Yt)===Yt){var wt=Et.revertLane;if(wt===0)lt!==null&amp;&amp;(lt=lt.next={lane:0,revertLane:0,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Yt===to&amp;&amp;(Vt=!0);else if((Ya&amp;wt)===wt){Et=Et.next,wt===to&amp;&amp;(Vt=!0);continue}else Yt={lane:0,revertLane:Et.revertLane,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},lt===null?(X=lt=Yt,U=E):lt=lt.next=Yt,tn.lanes|=wt,Ms|=wt;Yt=Et.action,Il&amp;&amp;f(E,Yt),E=Et.hasEagerState?Et.eagerState:f(E,Yt)}else wt={lane:Yt,revertLane:Et.revertLane,gesture:Et.gesture,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},lt===null?(X=lt=wt,U=E):lt=lt.next=wt,tn.lanes|=Yt,Ms|=Yt;Et=Et.next}while(Et!==null&amp;&amp;Et!==r);if(lt===null?U=E:lt.next=X,!fi(E,s.memoizedState)&amp;&amp;(hi=!0,Vt&amp;&amp;(f=nr,f!==null)))throw f;s.memoizedState=E,s.baseState=U,s.baseQueue=lt,m.lastRenderedState=E}return _===null&amp;&amp;(m.lanes=0),[s.memoizedState,m.dispatch]}function zh(s){var r=wi(),f=r.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=s;var m=f.dispatch,_=f.pending,E=r.memoizedState;if(_!==null){f.pending=null;var U=_=_.next;do E=s(E,U.action),U=U.next;while(U!==_);fi(E,r.memoizedState)||(hi=!0),r.memoizedState=E,r.baseQueue===null&amp;&amp;(r.baseState=E),f.lastRenderedState=E}return[E,m]}function cm(s,r,f){var m=tn,_=wi(),E=Dn;if(E){if(f===void 0)throw Error(i(407));f=f()}else f=r();var U=!fi((ti||_).memoizedState,f);if(U&amp;&amp;(_.memoizedState=f,hi=!0),_=_.queue,pm(fm.bind(null,m,_,s),[s]),_.getSnapshot!==r||U||Bi!==null&amp;&amp;Bi.memoizedState.tag&amp;1){if(m.flags|=2048,Dc(9,{destroy:void 0},um.bind(null,m,_,f,r),null),Yn===null)throw Error(i(349));E||(Ya&amp;127)!==0||tx(m,r,f)}return f}function tx(s,r,f){s.flags|=16384,s={getSnapshot:r,value:f},r=tn.updateQueue,r===null?(r=Zu(),tn.updateQueue=r,r.stores=[s]):(f=r.stores,f===null?r.stores=[s]:f.push(s))}function um(s,r,f,m){r.value=f,r.getSnapshot=m,hm(r)&amp;&amp;Bh(s)}function fm(s,r,f){return f(function(){hm(r)&amp;&amp;Bh(s)})}function hm(s){var r=s.getSnapshot;s=s.value;try{var f=r();return!fi(s,f)}catch{return!0}}function Bh(s){var r=Go(s,2);r!==null&amp;&amp;u(r,s,2)}function Qu(s){var r=za();if(typeof s=="function"){var f=s;if(s=f(),Il){Oe(!0);try{f()}finally{Oe(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:s},r}function ex(s,r,f,m){return s.baseState=f,lm(s,ti,typeof m=="function"?m:io)}function K_(s,r,f,m,_){if(ao(s))throw Error(i(485));if(s=r.action,s!==null){var E={payload:_,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){E.listeners.push(U)}};k.T!==null?f(!0):E.isTransition=!1,m(E),f=r.pending,f===null?(E.next=r.pending=E,nx(r,E)):(E.next=f.next,r.pending=f.next=E)}}function nx(s,r){var f=r.action,m=r.payload,_=s.state;if(r.isTransition){var E=k.T,U={};k.T=U;try{var X=f(_,m),lt=k.S;lt!==null&amp;&amp;lt(U,X),ix(s,r,X)}catch(Et){Ih(s,r,Et)}finally{E!==null&amp;&amp;U.types!==null&amp;&amp;(E.types=U.types),k.T=E}}else try{E=f(_,m),ix(s,r,E)}catch(Et){Ih(s,r,Et)}}function ix(s,r,f){f!==null&amp;&amp;typeof f=="object"&amp;&amp;typeof f.then=="function"?f.then(function(m){dm(s,r,m)},function(m){return Ih(s,r,m)}):dm(s,r,f)}function dm(s,r,f){r.status="fulfilled",r.value=f,ax(r),s.state=f,r=s.pending,r!==null&amp;&amp;(f=r.next,f===r?s.pending=null:(f=f.next,r.next=f,nx(s,f)))}function Ih(s,r,f){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do r.status="rejected",r.reason=f,ax(r),r=r.next;while(r!==m)}s.action=null}function ax(s){s=s.listeners;for(var r=0;r&lt;s.length;r++)(0,s[r])()}function sx(s,r){return r}function rx(s,r){if(Dn){var f=Yn.formState;if(f!==null){t:{var m=tn;if(Dn){if(si){e:{for(var _=si,E=ia;_.nodeType!==8;){if(!E){_=null;break e}if(_=Ur(_.nextSibling),_===null){_=null;break e}}E=_.data,_=E==="F!"||E==="F"?_:null}if(_){si=Ur(_.nextSibling),m=_.data==="F!";break t}}An(m)}m=!1}m&amp;&amp;(r=f[0])}}return f=za(),f.memoizedState=f.baseState=r,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sx,lastRenderedState:r},f.queue=m,f=gx.bind(null,tn,m),m.dispatch=f,m=Qu(!1),E=Ju.bind(null,tn,!1,m.queue),m=za(),_={state:r,dispatch:null,action:s,pending:null},m.queue=_,f=K_.bind(null,tn,_,E,f),_.dispatch=f,m.memoizedState=s,[r,f,!1]}function ox(s){var r=wi();return lx(r,ti,s)}function lx(s,r,f){if(r=lm(s,r,sx)[0],s=Lh(io)[0],typeof r=="object"&amp;&amp;r!==null&amp;&amp;typeof r.then=="function")try{var m=Ku(r)}catch(U){throw U===Yo?ir:U}else m=r;r=wi();var _=r.queue,E=_.dispatch;return f!==r.memoizedState&amp;&amp;(tn.flags|=2048,Dc(9,{destroy:void 0},Q_.bind(null,_,f),null)),[m,E,s]}function Q_(s,r){s.action=r}function cx(s){var r=wi(),f=ti;if(f!==null)return lx(r,f,s);wi(),r=r.memoizedState,f=wi();var m=f.queue.dispatch;return f.memoizedState=s,[r,m,!1]}function Dc(s,r,f,m){return s={tag:s,create:f,deps:m,inst:r,next:null},r=tn.updateQueue,r===null&amp;&amp;(r=Zu(),tn.updateQueue=r),f=r.lastEffect,f===null?r.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,r.lastEffect=s),s}function ux(){return wi().memoizedState}function Ph(s,r,f,m){var _=za();tn.flags|=s,_.memoizedState=Dc(1|r,{destroy:void 0},f,m===void 0?null:m)}function Vh(s,r,f,m){var _=wi();m=m===void 0?null:m;var E=_.memoizedState.inst;ti!==null&amp;&amp;m!==null&amp;&amp;nm(m,ti.memoizedState.deps)?_.memoizedState=Dc(r,E,f,m):(tn.flags|=s,_.memoizedState=Dc(1|r,E,f,m))}function fx(s,r){Ph(8390656,8,s,r)}function pm(s,r){Vh(2048,8,s,r)}function hx(s){tn.flags|=4;var r=tn.updateQueue;if(r===null)r=Zu(),tn.updateQueue=r,r.events=[s];else{var f=r.events;f===null?r.events=[s]:f.push(s)}}function dx(s){var r=wi().memoizedState;return hx({ref:r,nextImpl:s}),function(){if((Ln&amp;2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function px(s,r){return Vh(4,2,s,r)}function ms(s,r){return Vh(4,4,s,r)}function mm(s,r){if(typeof r=="function"){s=s();var f=r(s);return function(){typeof f=="function"?f():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function Fh(s,r,f){f=f!=null?f.concat([s]):null,Vh(4,4,mm.bind(null,r,s),f)}function Hh(){}function gm(s,r){var f=wi();r=r===void 0?null:r;var m=f.memoizedState;return r!==null&amp;&amp;nm(r,m[1])?m[0]:(f.memoizedState=[s,r],s)}function xm(s,r){var f=wi();r=r===void 0?null:r;var m=f.memoizedState;if(r!==null&amp;&amp;nm(r,m[1]))return m[0];if(m=s(),Il){Oe(!0);try{s()}finally{Oe(!1)}}return f.memoizedState=[m,r],m}function vm(s,r,f){return f===void 0||(Ya&amp;1073741824)!==0&amp;&amp;(wn&amp;261930)===0?s.memoizedState=r:(s.memoizedState=f,s=c(),tn.lanes|=s,Ms|=s,f)}function ym(s,r,f,m){return fi(f,r)?f:ds.current!==null?(s=vm(s,f,m),fi(s,r)||(hi=!0),s):(Ya&amp;42)===0||(Ya&amp;1073741824)!==0&amp;&amp;(wn&amp;261930)===0?(hi=!0,s.memoizedState=f):(s=c(),tn.lanes|=s,Ms|=s,r)}function _m(s,r,f,m,_){var E=tt.p;tt.p=E!==0&amp;&amp;8&gt;E?E:8;var U=k.T,X={};k.T=X,Ju(s,!1,r,f);try{var lt=_(),Et=k.S;if(Et!==null&amp;&amp;Et(X,lt),lt!==null&amp;&amp;typeof lt=="object"&amp;&amp;typeof lt.then=="function"){var Vt=Yp(lt,m);Nc(s,r,Vt,Ia(s))}else Nc(s,r,m,Ia(s))}catch(Yt){Nc(s,r,{then:function(){},status:"rejected",reason:Yt},Ia())}finally{tt.p=E,U!==null&amp;&amp;X.types!==null&amp;&amp;(U.types=X.types),k.T=U}}function J_(){}function bm(s,r,f,m){if(s.tag!==5)throw Error(i(476));var _=mx(s).queue;_m(s,_,r,it,f===null?J_:function(){return Sm(s),f(m)})}function mx(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:it},next:null};var f={};return r.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:io,lastRenderedState:f},next:null},s.memoizedState=r,s=s.alternate,s!==null&amp;&amp;(s.memoizedState=r),r}function Sm(s){var r=mx(s);r.next===null&amp;&amp;(r=s.alternate.memoizedState),Nc(s,r.next.queue,{},Ia())}function Mm(){return aa(Bm)}function ha(){return wi().memoizedState}function Em(){return wi().memoizedState}function $_(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var f=Ia();s=Mr(f);var m=eo(r,s,f);m!==null&amp;&amp;(u(m,r,f),Qo(m,r,f)),r={cache:kp()},s.payload=r;return}r=r.return}}function t1(s,r,f){var m=Ia();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},ao(s)?Pl(r,f):(f=Mc(s,r,f,m),f!==null&amp;&amp;(u(f,s,m),Wa(f,r,m)))}function gx(s,r,f){var m=Ia();Nc(s,r,f,m)}function Nc(s,r,f,m){var _={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(ao(s))Pl(r,_);else{var E=s.alternate;if(s.lanes===0&amp;&amp;(E===null||E.lanes===0)&amp;&amp;(E=r.lastRenderedReducer,E!==null))try{var U=r.lastRenderedState,X=E(U,f);if(_.hasEagerState=!0,_.eagerState=X,fi(X,U))return Iu(s,r,_,0),Yn===null&amp;&amp;Ho(),!1}catch{}finally{}if(f=Mc(s,r,_,m),f!==null)return u(f,s,m),Wa(f,r,m),!0}return!1}function Ju(s,r,f,m){if(m={lane:2,revertLane:a1(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ao(s)){if(r)throw Error(i(479))}else r=Mc(s,f,m,2),r!==null&amp;&amp;u(r,s,2)}function ao(s){var r=s.alternate;return s===tn||r!==null&amp;&amp;r===tn}function Pl(s,r){Tr=Nh=!0;var f=s.pending;f===null?r.next=r:(r.next=f.next,f.next=r),s.pending=r}function Wa(s,r,f){if((f&amp;4194048)!==0){var m=r.lanes;m&amp;=s.pendingLanes,f|=m,r.lanes=f,kr(s,f)}}var $u={readContext:aa,use:Oh,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useLayoutEffect:_i,useInsertionEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useSyncExternalStore:_i,useId:_i,useHostTransitionStatus:_i,useFormState:_i,useActionState:_i,useOptimistic:_i,useMemoCache:_i,useCacheRefresh:_i};$u.useEffectEvent=_i;var xx={readContext:aa,use:Oh,useCallback:function(s,r){return za().memoizedState=[s,r===void 0?null:r],s},useContext:aa,useEffect:fx,useImperativeHandle:function(s,r,f){f=f!=null?f.concat([s]):null,Ph(4194308,4,mm.bind(null,r,s),f)},useLayoutEffect:function(s,r){return Ph(4194308,4,s,r)},useInsertionEffect:function(s,r){Ph(4,2,s,r)},useMemo:function(s,r){var f=za();r=r===void 0?null:r;var m=s();if(Il){Oe(!0);try{s()}finally{Oe(!1)}}return f.memoizedState=[m,r],m},useReducer:function(s,r,f){var m=za();if(f!==void 0){var _=f(r);if(Il){Oe(!0);try{f(r)}finally{Oe(!1)}}}else _=r;return m.memoizedState=m.baseState=_,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:_},m.queue=s,s=s.dispatch=t1.bind(null,tn,s),[m.memoizedState,s]},useRef:function(s){var r=za();return s={current:s},r.memoizedState=s},useState:function(s){s=Qu(s);var r=s.queue,f=gx.bind(null,tn,r);return r.dispatch=f,[s.memoizedState,f]},useDebugValue:Hh,useDeferredValue:function(s,r){var f=za();return vm(f,s,r)},useTransition:function(){var s=Qu(!1);return s=_m.bind(null,tn,s.queue,!0,!1),za().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,f){var m=tn,_=za();if(Dn){if(f===void 0)throw Error(i(407));f=f()}else{if(f=r(),Yn===null)throw Error(i(349));(wn&amp;127)!==0||tx(m,r,f)}_.memoizedState=f;var E={value:f,getSnapshot:r};return _.queue=E,fx(fm.bind(null,m,E,s),[s]),m.flags|=2048,Dc(9,{destroy:void 0},um.bind(null,m,E,f,r),null),f},useId:function(){var s=za(),r=Yn.identifierPrefix;if(Dn){var f=br,m=_r;f=(m&amp;~(1&lt;&lt;32-be(m)-1)).toString(32)+f,r="_"+r+"R_"+f,f=Uh++,0&lt;f&amp;&amp;(r+="H"+f.toString(32)),r+="_"}else f=W_++,r="_"+r+"r_"+f.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Mm,useFormState:rx,useActionState:rx,useOptimistic:function(s){var r=za();r.memoizedState=r.baseState=s;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=f,r=Ju.bind(null,tn,!0,f),f.dispatch=r,[s,r]},useMemoCache:om,useCacheRefresh:function(){return za().memoizedState=$_.bind(null,tn)},useEffectEvent:function(s){var r=za(),f={impl:s};return r.memoizedState=f,function(){if((Ln&amp;2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}},Uc={readContext:aa,use:Oh,useCallback:gm,useContext:aa,useEffect:pm,useImperativeHandle:Fh,useInsertionEffect:px,useLayoutEffect:ms,useMemo:xm,useReducer:Lh,useRef:ux,useState:function(){return Lh(io)},useDebugValue:Hh,useDeferredValue:function(s,r){var f=wi();return ym(f,ti.memoizedState,s,r)},useTransition:function(){var s=Lh(io)[0],r=wi().memoizedState;return[typeof s=="boolean"?s:Ku(s),r]},useSyncExternalStore:cm,useId:ha,useHostTransitionStatus:Mm,useFormState:ox,useActionState:ox,useOptimistic:function(s,r){var f=wi();return ex(f,ti,s,r)},useMemoCache:om,useCacheRefresh:Em};Uc.useEffectEvent=dx;var tf={readContext:aa,use:Oh,useCallback:gm,useContext:aa,useEffect:pm,useImperativeHandle:Fh,useInsertionEffect:px,useLayoutEffect:ms,useMemo:xm,useReducer:zh,useRef:ux,useState:function(){return zh(io)},useDebugValue:Hh,useDeferredValue:function(s,r){var f=wi();return ti===null?vm(f,s,r):ym(f,ti.memoizedState,s,r)},useTransition:function(){var s=zh(io)[0],r=wi().memoizedState;return[typeof s=="boolean"?s:Ku(s),r]},useSyncExternalStore:cm,useId:ha,useHostTransitionStatus:Mm,useFormState:cx,useActionState:cx,useOptimistic:function(s,r){var f=wi();return ti!==null?ex(f,ti,s,r):(f.baseState=s,[s,f.queue.dispatch])},useMemoCache:om,useCacheRefresh:Em};tf.useEffectEvent=dx;function Oc(s,r,f,m){r=s.memoizedState,f=f(m,r),f=f==null?r:v({},r,f),s.memoizedState=f,s.lanes===0&amp;&amp;(s.updateQueue.baseState=f)}var ef={enqueueSetState:function(s,r,f){s=s._reactInternals;var m=Ia(),_=Mr(m);_.payload=r,f!=null&amp;&amp;(_.callback=f),r=eo(s,_,m),r!==null&amp;&amp;(u(r,s,m),Qo(r,s,m))},enqueueReplaceState:function(s,r,f){s=s._reactInternals;var m=Ia(),_=Mr(m);_.tag=1,_.payload=r,f!=null&amp;&amp;(_.callback=f),r=eo(s,_,m),r!==null&amp;&amp;(u(r,s,m),Qo(r,s,m))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var f=Ia(),m=Mr(f);m.tag=2,r!=null&amp;&amp;(m.callback=r),r=eo(s,m,f),r!==null&amp;&amp;(u(r,s,f),Qo(r,s,f))}};function vx(s,r,f,m,_,E,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,E,U):r.prototype&amp;&amp;r.prototype.isPureReactComponent?!xc(f,m)||!xc(_,E):!0}function yx(s,r,f,m){s=r.state,typeof r.componentWillReceiveProps=="function"&amp;&amp;r.componentWillReceiveProps(f,m),typeof r.UNSAFE_componentWillReceiveProps=="function"&amp;&amp;r.UNSAFE_componentWillReceiveProps(f,m),r.state!==s&amp;&amp;ef.enqueueReplaceState(r,r.state,null)}function da(s,r){var f=r;if("ref"in r){f={};for(var m in r)m!=="ref"&amp;&amp;(f[m]=r[m])}if(s=s.defaultProps){f===r&amp;&amp;(f=v({},f));for(var _ in s)f[_]===void 0&amp;&amp;(f[_]=s[_])}return f}function Tm(s){Fo(s)}function _x(s){console.error(s)}function Gh(s){Fo(s)}function jh(s,r){try{var f=s.onUncaughtError;f(r.value,{componentStack:r.stack})}catch(m){setTimeout(function(){throw m})}}function bx(s,r,f){try{var m=s.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Am(s,r,f){return f=Mr(f),f.tag=3,f.payload={element:null},f.callback=function(){jh(s,r)},f}function Lc(s){return s=Mr(s),s.tag=3,s}function Za(s,r,f,m){var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var E=m.value;s.payload=function(){return _(E)},s.callback=function(){bx(r,f,m)}}var U=f.stateNode;U!==null&amp;&amp;typeof U.componentDidCatch=="function"&amp;&amp;(s.callback=function(){bx(r,f,m),typeof _!="function"&amp;&amp;(Nr===null?Nr=new Set([this]):Nr.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})})}function gs(s,r,f,m,_){if(f.flags|=32768,m!==null&amp;&amp;typeof m=="object"&amp;&amp;typeof m.then=="function"){if(r=f.alternate,r!==null&amp;&amp;Xo(r,f,_,!0),f=Wi.current,f!==null){switch(f.tag){case 31:case 13:return Fs===null?rn():f.alternate===null&amp;&amp;Wn===0&amp;&amp;(Wn=3),f.flags&amp;=-257,f.flags|=65536,f.lanes=_,m===ku?f.flags|=16384:(r=f.updateQueue,r===null?f.updateQueue=new Set([m]):r.add(m),e1(s,m,_)),!1;case 22:return f.flags|=65536,m===ku?f.flags|=16384:(r=f.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=r):(f=r.retryQueue,f===null?r.retryQueue=new Set([m]):f.add(m)),e1(s,m,_)),!1}throw Error(i(435,f.tag))}return e1(s,m,_),rn(),!1}if(Dn)return r=Wi.current,r!==null?((r.flags&amp;65536)===0&amp;&amp;(r.flags|=256),r.flags|=65536,r.lanes=_,m!==Mh&amp;&amp;(s=Error(i(422),{cause:m}),Hu(Xa(s,f)))):(m!==Mh&amp;&amp;(r=Error(i(423),{cause:m}),Hu(Xa(r,f))),s=s.current.alternate,s.flags|=65536,_&amp;=-_,s.lanes|=_,m=Xa(m,f),_=Am(s.stateNode,m,_),Rh(s,_),Wn!==4&amp;&amp;(Wn=2)),!1;var E=Error(i(520),{cause:m});if(E=Xa(E,f),lr===null?lr=[E]:lr.push(E),Wn!==4&amp;&amp;(Wn=2),r===null)return!0;m=Xa(m,f),f=r;do{switch(f.tag){case 3:return f.flags|=65536,s=_&amp;-_,f.lanes|=s,s=Am(f.stateNode,m,s),Rh(f,s),!1;case 1:if(r=f.type,E=f.stateNode,(f.flags&amp;128)===0&amp;&amp;(typeof r.getDerivedStateFromError=="function"||E!==null&amp;&amp;typeof E.componentDidCatch=="function"&amp;&amp;(Nr===null||!Nr.has(E))))return f.flags|=65536,_&amp;=-_,f.lanes|=_,_=Lc(_),Za(_,s,f,m),Rh(f,_),!1}f=f.return}while(f!==null);return!1}var kh=Error(i(461)),hi=!1;function bi(s,r,f,m){r.child=s===null?Kg(r,null,f,m):zl(r,s.child,f,m)}function nf(s,r,f,m,_){f=f.render;var E=r.ref;if("ref"in m){var U={};for(var X in m)X!=="ref"&amp;&amp;(U[X]=m[X])}else U=m;return Ul(r),m=im(s,r,f,U,E,_),X=am(),s!==null&amp;&amp;!hi?(sm(s,r,_),rr(s,r,_)):(Dn&amp;&amp;X&amp;&amp;Sh(r),r.flags|=1,bi(s,r,m,_),r.child)}function af(s,r,f,m,_){if(s===null){var E=f.type;return typeof E=="function"&amp;&amp;!Oa(E)&amp;&amp;E.defaultProps===void 0&amp;&amp;f.compare===null?(r.tag=15,r.type=E,xs(s,r,E,m,_)):(s=Pu(f.type,null,m,r,r.mode,_),s.ref=r.ref,s.return=r,r.child=s)}if(E=s.child,!tl(s,_)){var U=E.memoizedProps;if(f=f.compare,f=f!==null?f:xc,f(U,m)&amp;&amp;s.ref===r.ref)return rr(s,r,_)}return r.flags|=1,s=vr(E,m),s.ref=r.ref,s.return=r,r.child=s}function xs(s,r,f,m,_){if(s!==null){var E=s.memoizedProps;if(xc(E,m)&amp;&amp;s.ref===r.ref)if(hi=!1,r.pendingProps=m=E,tl(s,_))(s.flags&amp;131072)!==0&amp;&amp;(hi=!0);else return r.lanes=s.lanes,rr(s,r,_)}return zc(s,r,f,m,_)}function vs(s,r,f,m){var _=m.children,E=s!==null?s.memoizedState:null;if(s===null&amp;&amp;r.stateNode===null&amp;&amp;(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((r.flags&amp;128)!==0){if(E=E!==null?E.baseLanes|f:f,s!==null){for(m=r.child=s.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;m=_&amp;~E}else m=0,r.child=null;return wr(s,r,E,f,m)}if((f&amp;536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&amp;&amp;Cc(r,E!==null?E.cachePool:null),E!==null?$p(r,E):tm(),Qg(r);else return m=r.lanes=536870912,wr(s,r,E!==null?E.baseLanes|f:f,f,m)}else E!==null?(Cc(r,E.cachePool),$p(r,E),no(),r.memoizedState=null):(s!==null&amp;&amp;Cc(r,null),tm(),no());return bi(s,r,_,f),r.child}function ar(s,r){return s!==null&amp;&amp;s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function wr(s,r,f,m,_){var E=Sr();return E=E===null?null:{parent:ke._currentValue,pool:E},r.memoizedState={baseLanes:f,cachePool:E},s!==null&amp;&amp;Cc(r,null),tm(),Qg(r),s!==null&amp;&amp;Xo(s,r,m,!0),r.childLanes=_,null}function Hs(s,r){return r=Bc({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function sa(s,r,f){return zl(r,s.child,null,f),s=Hs(r,r.pendingProps),s.flags|=2,ps(r),r.memoizedState=null,s}function sf(s,r,f){var m=r.pendingProps,_=(r.flags&amp;128)!==0;if(r.flags&amp;=-129,s===null){if(Dn){if(m.mode==="hidden")return s=Hs(r,m),r.lanes=536870912,ar(null,s);if(em(r),(s=si)?(s=a2(s,ia),s=s!==null&amp;&amp;s.data==="&amp;"?s:null,s!==null&amp;&amp;(r.memoizedState={dehydrated:s,treeContext:yr!==null?{id:_r,overflow:br}:null,retryLane:536870912,hydrationErrors:null},f=kg(s),f.return=r,r.child=f,na=r,si=null)):s=null,s===null)throw An(r);return r.lanes=536870912,null}return Hs(r,m)}var E=s.memoizedState;if(E!==null){var U=E.dehydrated;if(em(r),_)if(r.flags&amp;256)r.flags&amp;=-257,r=sa(s,r,f);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(hi||Xo(s,r,f,!1),_=(f&amp;s.childLanes)!==0,hi||_){if(m=Yn,m!==null&amp;&amp;(U=Is(m,f),U!==0&amp;&amp;U!==E.retryLane))throw E.retryLane=U,Go(s,U),u(m,s,U),kh;rn(),r=sa(s,r,f)}else s=E.treeContext,si=Ur(U.nextSibling),na=r,Dn=!0,Kr=null,ia=!1,s!==null&amp;&amp;Fu(r,s),r=Hs(r,m),r.flags|=4096;return r}return s=vr(s.child,{mode:m.mode,children:m.children}),s.ref=r.ref,r.child=s,s.return=r,s}function sr(s,r){var f=r.ref;if(f===null)s!==null&amp;&amp;s.ref!==null&amp;&amp;(r.flags|=4194816);else{if(typeof f!="function"&amp;&amp;typeof f!="object")throw Error(i(284));(s===null||s.ref!==f)&amp;&amp;(r.flags|=4194816)}}function zc(s,r,f,m,_){return Ul(r),f=im(s,r,f,m,void 0,_),m=am(),s!==null&amp;&amp;!hi?(sm(s,r,_),rr(s,r,_)):(Dn&amp;&amp;m&amp;&amp;Sh(r),r.flags|=1,bi(s,r,f,_),r.child)}function Ta(s,r,f,m,_,E){return Ul(r),r.updateQueue=null,f=$g(r,m,f,_),Jg(s),m=am(),s!==null&amp;&amp;!hi?(sm(s,r,E),rr(s,r,E)):(Dn&amp;&amp;m&amp;&amp;Sh(r),r.flags|=1,bi(s,r,f,E),r.child)}function pa(s,r,f,m,_){if(Ul(r),r.stateNode===null){var E=jo,U=f.contextType;typeof U=="object"&amp;&amp;U!==null&amp;&amp;(E=aa(U)),E=new f(m,E),r.memoizedState=E.state!==null&amp;&amp;E.state!==void 0?E.state:null,E.updater=ef,r.stateNode=E,E._reactInternals=r,E=r.stateNode,E.props=m,E.state=r.memoizedState,E.refs={},Kp(r),U=f.contextType,E.context=typeof U=="object"&amp;&amp;U!==null?aa(U):jo,E.state=r.memoizedState,U=f.getDerivedStateFromProps,typeof U=="function"&amp;&amp;(Oc(r,f,U,m),E.state=r.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&amp;&amp;typeof E.componentWillMount!="function"||(U=E.state,typeof E.componentWillMount=="function"&amp;&amp;E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&amp;&amp;E.UNSAFE_componentWillMount(),U!==E.state&amp;&amp;ef.enqueueReplaceState(E,E.state,null),Bl(r,m,E,_),Yu(),E.state=r.memoizedState),typeof E.componentDidMount=="function"&amp;&amp;(r.flags|=4194308),m=!0}else if(s===null){E=r.stateNode;var X=r.memoizedProps,lt=da(f,X);E.props=lt;var Et=E.context,Vt=f.contextType;U=jo,typeof Vt=="object"&amp;&amp;Vt!==null&amp;&amp;(U=aa(Vt));var Yt=f.getDerivedStateFromProps;Vt=typeof Yt=="function"||typeof E.getSnapshotBeforeUpdate=="function",X=r.pendingProps!==X,Vt||typeof E.UNSAFE_componentWillReceiveProps!="function"&amp;&amp;typeof E.componentWillReceiveProps!="function"||(X||Et!==U)&amp;&amp;yx(r,E,m,U),Ko=!1;var wt=r.memoizedState;E.state=wt,Bl(r,m,E,_),Yu(),Et=r.memoizedState,X||wt!==Et||Ko?(typeof Yt=="function"&amp;&amp;(Oc(r,f,Yt,m),Et=r.memoizedState),(lt=Ko||vx(r,f,lt,m,wt,Et,U))?(Vt||typeof E.UNSAFE_componentWillMount!="function"&amp;&amp;typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&amp;&amp;E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&amp;&amp;E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&amp;&amp;(r.flags|=4194308)):(typeof E.componentDidMount=="function"&amp;&amp;(r.flags|=4194308),r.memoizedProps=m,r.memoizedState=Et),E.props=m,E.state=Et,E.context=U,m=lt):(typeof E.componentDidMount=="function"&amp;&amp;(r.flags|=4194308),m=!1)}else{E=r.stateNode,Qp(s,r),U=r.memoizedProps,Vt=da(f,U),E.props=Vt,Yt=r.pendingProps,wt=E.context,Et=f.contextType,lt=jo,typeof Et=="object"&amp;&amp;Et!==null&amp;&amp;(lt=aa(Et)),X=f.getDerivedStateFromProps,(Et=typeof X=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&amp;&amp;typeof E.componentWillReceiveProps!="function"||(U!==Yt||wt!==lt)&amp;&amp;yx(r,E,m,lt),Ko=!1,wt=r.memoizedState,E.state=wt,Bl(r,m,E,_),Yu();var Lt=r.memoizedState;U!==Yt||wt!==Lt||Ko||s!==null&amp;&amp;s.dependencies!==null&amp;&amp;Ac(s.dependencies)?(typeof X=="function"&amp;&amp;(Oc(r,f,X,m),Lt=r.memoizedState),(Vt=Ko||vx(r,f,Vt,m,wt,Lt,lt)||s!==null&amp;&amp;s.dependencies!==null&amp;&amp;Ac(s.dependencies))?(Et||typeof E.UNSAFE_componentWillUpdate!="function"&amp;&amp;typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&amp;&amp;E.componentWillUpdate(m,Lt,lt),typeof E.UNSAFE_componentWillUpdate=="function"&amp;&amp;E.UNSAFE_componentWillUpdate(m,Lt,lt)),typeof E.componentDidUpdate=="function"&amp;&amp;(r.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&amp;&amp;(r.flags|=1024)):(typeof E.componentDidUpdate!="function"||U===s.memoizedProps&amp;&amp;wt===s.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&amp;&amp;wt===s.memoizedState||(r.flags|=1024),r.memoizedProps=m,r.memoizedState=Lt),E.props=m,E.state=Lt,E.context=lt,m=Vt):(typeof E.componentDidUpdate!="function"||U===s.memoizedProps&amp;&amp;wt===s.memoizedState||(r.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&amp;&amp;wt===s.memoizedState||(r.flags|=1024),m=!1)}return E=m,sr(s,r),m=(r.flags&amp;128)!==0,E||m?(E=r.stateNode,f=m&amp;&amp;typeof f.getDerivedStateFromError!="function"?null:E.render(),r.flags|=1,s!==null&amp;&amp;m?(r.child=zl(r,s.child,null,_),r.child=zl(r,null,f,_)):bi(s,r,f,_),r.memoizedState=E.state,s=r.child):s=rr(s,r,_),s}function Pn(s,r,f,m){return Nl(),r.flags|=256,bi(s,r,f,m),r.child}var ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gs(s){return{baseLanes:s,cachePool:Ah()}}function rf(s,r,f){return s=s!==null?s.childLanes&amp;~f:0,r&amp;&amp;(s|=zn),s}function _s(s,r,f){var m=r.pendingProps,_=!1,E=(r.flags&amp;128)!==0,U;if((U=E)||(U=s!==null&amp;&amp;s.memoizedState===null?!1:(yi.current&amp;2)!==0),U&amp;&amp;(_=!0,r.flags&amp;=-129),U=(r.flags&amp;32)!==0,r.flags&amp;=-33,s===null){if(Dn){if(_?Jo(r):no(),(s=si)?(s=a2(s,ia),s=s!==null&amp;&amp;s.data!=="&amp;"?s:null,s!==null&amp;&amp;(r.memoizedState={dehydrated:s,treeContext:yr!==null?{id:_r,overflow:br}:null,retryLane:536870912,hydrationErrors:null},f=kg(s),f.return=r,r.child=f,na=r,si=null)):s=null,s===null)throw An(r);return x1(s)?r.lanes=32:r.lanes=536870912,null}var X=m.children;return m=m.fallback,_?(no(),_=r.mode,X=Bc({mode:"hidden",children:X},_),m=Wr(m,_,f,null),X.return=r,m.return=r,X.sibling=m,r.child=X,m=r.child,m.memoizedState=Gs(f),m.childLanes=rf(s,U,f),r.memoizedState=ys,ar(null,m)):(Jo(r),$o(r,X))}var lt=s.memoizedState;if(lt!==null&amp;&amp;(X=lt.dehydrated,X!==null)){if(E)r.flags&amp;256?(Jo(r),r.flags&amp;=-257,r=Ic(s,r,f)):r.memoizedState!==null?(no(),r.child=s.child,r.flags|=128,r=null):(no(),X=m.fallback,_=r.mode,m=Bc({mode:"visible",children:m.children},_),X=Wr(X,_,f,null),X.flags|=2,m.return=r,X.return=r,m.sibling=X,r.child=m,zl(r,s.child,null,f),m=r.child,m.memoizedState=Gs(f),m.childLanes=rf(s,U,f),r.memoizedState=ys,r=ar(null,m));else if(Jo(r),x1(X)){if(U=X.nextSibling&amp;&amp;X.nextSibling.dataset,U)var Et=U.dgst;U=Et,m=Error(i(419)),m.stack="",m.digest=U,Hu({value:m,source:null,stack:null}),r=Ic(s,r,f)}else if(hi||Xo(s,r,f,!1),U=(f&amp;s.childLanes)!==0,hi||U){if(U=Yn,U!==null&amp;&amp;(m=Is(U,f),m!==0&amp;&amp;m!==lt.retryLane))throw lt.retryLane=m,Go(s,m),u(U,s,m),kh;g1(X)||rn(),r=Ic(s,r,f)}else g1(X)?(r.flags|=192,r.child=s.child,r=null):(s=lt.treeContext,si=Ur(X.nextSibling),na=r,Dn=!0,Kr=null,ia=!1,s!==null&amp;&amp;Fu(r,s),r=$o(r,m.children),r.flags|=4096);return r}return _?(no(),X=m.fallback,_=r.mode,lt=s.child,Et=lt.sibling,m=vr(lt,{mode:"hidden",children:m.children}),m.subtreeFlags=lt.subtreeFlags&amp;65011712,Et!==null?X=vr(Et,X):(X=Wr(X,_,f,null),X.flags|=2),X.return=r,m.return=r,m.sibling=X,r.child=m,ar(null,m),m=r.child,X=s.child.memoizedState,X===null?X=Gs(f):(_=X.cachePool,_!==null?(lt=ke._currentValue,_=_.parent!==lt?{parent:lt,pool:lt}:_):_=Ah(),X={baseLanes:X.baseLanes|f,cachePool:_}),m.memoizedState=X,m.childLanes=rf(s,U,f),r.memoizedState=ys,ar(s.child,m)):(Jo(r),f=s.child,s=f.sibling,f=vr(f,{mode:"visible",children:m.children}),f.return=r,f.sibling=null,s!==null&amp;&amp;(U=r.deletions,U===null?(r.deletions=[s],r.flags|=16):U.push(s)),r.child=f,r.memoizedState=null,f)}function $o(s,r){return r=Bc({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Bc(s,r){return s=Ua(22,s,null,r),s.lanes=0,s}function Ic(s,r,f){return zl(r,s.child,null,f),s=$o(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Vl(s,r,f){s.lanes|=r;var m=s.alternate;m!==null&amp;&amp;(m.lanes|=r),$r(s.return,r,f)}function of(s,r,f,m,_,E){var U=s.memoizedState;U===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:_,treeForkCount:E}:(U.isBackwards=r,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=f,U.tailMode=_,U.treeForkCount=E)}function lf(s,r,f){var m=r.pendingProps,_=m.revealOrder,E=m.tail;m=m.children;var U=yi.current,X=(U&amp;2)!==0;if(X?(U=U&amp;1|2,r.flags|=128):U&amp;=1,Rt(yi,U),bi(s,r,m,f),m=Dn?Tc:0,!X&amp;&amp;s!==null&amp;&amp;(s.flags&amp;128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&amp;&amp;Vl(s,f,r);else if(s.tag===19)Vl(s,f,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(_){case"forwards":for(f=r.child,_=null;f!==null;)s=f.alternate,s!==null&amp;&amp;Dh(s)===null&amp;&amp;(_=f),f=f.sibling;f=_,f===null?(_=r.child,r.child=null):(_=f.sibling,f.sibling=null),of(r,!1,_,f,E,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,_=r.child,r.child=null;_!==null;){if(s=_.alternate,s!==null&amp;&amp;Dh(s)===null){r.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}of(r,!0,f,null,E,m);break;case"together":of(r,!1,null,null,void 0,m);break;default:r.memoizedState=null}return r.child}function rr(s,r,f){if(s!==null&amp;&amp;(r.dependencies=s.dependencies),Ms|=r.lanes,(f&amp;r.childLanes)===0)if(s!==null){if(Xo(s,r,f,!1),(f&amp;r.childLanes)===0)return null}else return null;if(s!==null&amp;&amp;r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,f=vr(s,s.pendingProps),r.child=f,f.return=r;s.sibling!==null;)s=s.sibling,f=f.sibling=vr(s,s.pendingProps),f.return=r;f.sibling=null}return r.child}function tl(s,r){return(s.lanes&amp;r)!==0?!0:(s=s.dependencies,!!(s!==null&amp;&amp;Ac(s)))}function cf(s,r,f){switch(r.tag){case 3:ie(r,r.stateNode.containerInfo),Jr(r,ke,s.memoizedState.cache),Nl();break;case 27:case 5:De(r);break;case 4:ie(r,r.stateNode.containerInfo);break;case 10:Jr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,em(r),null;break;case 13:var m=r.memoizedState;if(m!==null)return m.dehydrated!==null?(Jo(r),r.flags|=128,null):(f&amp;r.child.childLanes)!==0?_s(s,r,f):(Jo(r),s=rr(s,r,f),s!==null?s.sibling:null);Jo(r);break;case 19:var _=(s.flags&amp;128)!==0;if(m=(f&amp;r.childLanes)!==0,m||(Xo(s,r,f,!1),m=(f&amp;r.childLanes)!==0),_){if(m)return lf(s,r,f);r.flags|=128}if(_=r.memoizedState,_!==null&amp;&amp;(_.rendering=null,_.tail=null,_.lastEffect=null),Rt(yi,yi.current),m)break;return null;case 22:return r.lanes=0,vs(s,r,f,r.pendingProps);case 24:Jr(r,ke,s.memoizedState.cache)}return rr(s,r,f)}function Xh(s,r,f){if(s!==null)if(s.memoizedProps!==r.pendingProps)hi=!0;else{if(!tl(s,f)&amp;&amp;(r.flags&amp;128)===0)return hi=!1,cf(s,r,f);hi=(s.flags&amp;131072)!==0}else hi=!1,Dn&amp;&amp;(r.flags&amp;1048576)!==0&amp;&amp;Vp(r,Tc,r.index);switch(r.lanes=0,r.tag){case 16:t:{var m=r.pendingProps;if(s=Ll(r.elementType),r.type=s,typeof s=="function")Oa(s)?(m=da(s,m),r.tag=1,r=pa(null,r,s,m,f)):(r.tag=0,r=zc(null,r,s,m,f));else{if(s!=null){var _=s.$$typeof;if(_===O){r.tag=11,r=nf(null,r,s,m,f);break t}else if(_===G){r.tag=14,r=af(null,r,s,m,f);break t}}throw r=ft(s)||s,Error(i(306,r,""))}}return r;case 0:return zc(s,r,r.type,r.pendingProps,f);case 1:return m=r.type,_=da(m,r.pendingProps),pa(s,r,m,_,f);case 3:t:{if(ie(r,r.stateNode.containerInfo),s===null)throw Error(i(387));m=r.pendingProps;var E=r.memoizedState;_=E.element,Qp(s,r),Bl(r,m,null,f);var U=r.memoizedState;if(m=U.cache,Jr(r,ke,m),m!==E.cache&amp;&amp;Th(r,[ke],f,!0),Yu(),m=U.element,E.isDehydrated)if(E={element:m,isDehydrated:!1,cache:U.cache},r.updateQueue.baseState=E,r.memoizedState=E,r.flags&amp;256){r=Pn(s,r,m,f);break t}else if(m!==_){_=Xa(Error(i(424)),r),Hu(_),r=Pn(s,r,m,f);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(si=Ur(s.firstChild),na=r,Dn=!0,Kr=null,ia=!0,f=Kg(r,null,m,f),r.child=f;f;)f.flags=f.flags&amp;-3|4096,f=f.sibling}else{if(Nl(),m===_){r=rr(s,r,f);break t}bi(s,r,m,f)}r=r.child}return r;case 26:return sr(s,r),s===null?(f=u2(r.type,null,r.pendingProps,null))?r.memoizedState=f:Dn||(f=r.type,s=r.pendingProps,m=Rx(mt.current).createElement(f),m[un]=r,m[P]=s,Pa(m,f,s),gt(m),r.stateNode=m):r.memoizedState=u2(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return De(r),s===null&amp;&amp;Dn&amp;&amp;(m=r.stateNode=o2(r.type,r.pendingProps,mt.current),na=r,ia=!0,_=si,kc(r.type)?(v1=_,si=Ur(m.firstChild)):si=_),bi(s,r,r.pendingProps.children,f),sr(s,r),s===null&amp;&amp;(r.flags|=4194304),r.child;case 5:return s===null&amp;&amp;Dn&amp;&amp;((_=m=si)&amp;&amp;(m=T4(m,r.type,r.pendingProps,ia),m!==null?(r.stateNode=m,na=r,si=Ur(m.firstChild),ia=!1,_=!0):_=!1),_||An(r)),De(r),_=r.type,E=r.pendingProps,U=s!==null?s.memoizedProps:null,m=E.children,d1(_,E)?m=null:U!==null&amp;&amp;d1(_,U)&amp;&amp;(r.flags|=32),r.memoizedState!==null&amp;&amp;(_=im(s,r,Z_,null,null,f),Bm._currentValue=_),sr(s,r),bi(s,r,m,f),r.child;case 6:return s===null&amp;&amp;Dn&amp;&amp;((s=f=si)&amp;&amp;(f=A4(f,r.pendingProps,ia),f!==null?(r.stateNode=f,na=r,si=null,s=!0):s=!1),s||An(r)),null;case 13:return _s(s,r,f);case 4:return ie(r,r.stateNode.containerInfo),m=r.pendingProps,s===null?r.child=zl(r,null,m,f):bi(s,r,m,f),r.child;case 11:return nf(s,r,r.type,r.pendingProps,f);case 7:return bi(s,r,r.pendingProps,f),r.child;case 8:return bi(s,r,r.pendingProps.children,f),r.child;case 12:return bi(s,r,r.pendingProps.children,f),r.child;case 10:return m=r.pendingProps,Jr(r,r.type,m.value),bi(s,r,m.children,f),r.child;case 9:return _=r.type._context,m=r.pendingProps.children,Ul(r),_=aa(_),m=m(_),r.flags|=1,bi(s,r,m,f),r.child;case 14:return af(s,r,r.type,r.pendingProps,f);case 15:return xs(s,r,r.type,r.pendingProps,f);case 19:return lf(s,r,f);case 31:return sf(s,r,f);case 22:return vs(s,r,f,r.pendingProps);case 24:return Ul(r),m=aa(ke),s===null?(_=Sr(),_===null&amp;&amp;(_=Yn,E=kp(),_.pooledCache=E,E.refCount++,E!==null&amp;&amp;(_.pooledCacheLanes|=f),_=E),r.memoizedState={parent:m,cache:_},Kp(r),Jr(r,ke,_)):((s.lanes&amp;f)!==0&amp;&amp;(Qp(s,r),Bl(r,null,null,f),Yu()),_=s.memoizedState,E=r.memoizedState,_.parent!==m?(_={parent:m,cache:m},r.memoizedState=_,r.lanes===0&amp;&amp;(r.memoizedState=r.updateQueue.baseState=_),Jr(r,ke,m)):(m=E.cache,Jr(r,ke,m),m!==_.cache&amp;&amp;Th(r,[ke],f,!0))),bi(s,r,r.pendingProps.children,f),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ka(s){s.flags|=4}function el(s,r,f,m,_){if((r=(s.mode&amp;32)!==0)&amp;&amp;(r=!1),r){if(s.flags|=16777216,(_&amp;335544128)===_)if(s.stateNode.complete)s.flags|=8192;else if(ce())s.flags|=8192;else throw Ze=ku,ju}else s.flags&amp;=-16777217}function so(s,r){if(r.type!=="stylesheet"||(r.state.loading&amp;4)!==0)s.flags&amp;=-16777217;else if(s.flags|=16777216,!m2(r))if(ce())s.flags|=8192;else throw Ze=ku,ju}function Pc(s,r){r!==null&amp;&amp;(s.flags|=4),s.flags&amp;16384&amp;&amp;(r=s.tag!==22?Un():536870912,s.lanes|=r,Es|=r)}function uf(s,r){if(!Dn)switch(s.tailMode){case"hidden":r=s.tail;for(var f=null;r!==null;)r.alternate!==null&amp;&amp;(f=r),r=r.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&amp;&amp;(m=f),f=f.sibling;m===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Qn(s){var r=s.alternate!==null&amp;&amp;s.alternate.child===s.child,f=0,m=0;if(r)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags&amp;65011712,m|=_.flags&amp;65011712,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=f,r}function wm(s,r,f){var m=r.pendingProps;switch(ko(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qn(r),null;case 1:return Qn(r),null;case 3:return f=r.stateNode,m=null,s!==null&amp;&amp;(m=s.memoizedState.cache),r.memoizedState.cache!==m&amp;&amp;(r.flags|=2048),Vs(ke),xe(),f.pendingContext&amp;&amp;(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&amp;&amp;(Dl(r)?Ka(r):s===null||s.memoizedState.isDehydrated&amp;&amp;(r.flags&amp;256)===0||(r.flags|=1024,Fp())),Qn(r),null;case 26:var _=r.type,E=r.memoizedState;return s===null?(Ka(r),E!==null?(Qn(r),so(r,E)):(Qn(r),el(r,_,null,m,f))):E?E!==s.memoizedState?(Ka(r),Qn(r),so(r,E)):(Qn(r),r.flags&amp;=-16777217):(s=s.memoizedProps,s!==m&amp;&amp;Ka(r),Qn(r),el(r,_,s,m,f)),null;case 27:if(Ke(r),f=mt.current,_=r.type,s!==null&amp;&amp;r.stateNode!=null)s.memoizedProps!==m&amp;&amp;Ka(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return Qn(r),null}s=Bt.current,Dl(r)?Eh(r):(s=o2(_,m,f),r.stateNode=s,Ka(r))}return Qn(r),null;case 5:if(Ke(r),_=r.type,s!==null&amp;&amp;r.stateNode!=null)s.memoizedProps!==m&amp;&amp;Ka(r);else{if(!m){if(r.stateNode===null)throw Error(i(166));return Qn(r),null}if(E=Bt.current,Dl(r))Eh(r);else{var U=Rx(mt.current);switch(E){case 1:E=U.createElementNS("http://www.w3.org/2000/svg",_);break;case 2:E=U.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;default:switch(_){case"svg":E=U.createElementNS("http://www.w3.org/2000/svg",_);break;case"math":E=U.createElementNS("http://www.w3.org/1998/Math/MathML",_);break;case"script":E=U.createElement("div"),E.innerHTML="&lt;script&gt;&lt;\/script&gt;",E=E.removeChild(E.firstChild);break;case"select":E=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?E.multiple=!0:m.size&amp;&amp;(E.size=m.size);break;default:E=typeof m.is=="string"?U.createElement(_,{is:m.is}):U.createElement(_)}}E[un]=r,E[P]=m;t:for(U=r.child;U!==null;){if(U.tag===5||U.tag===6)E.appendChild(U.stateNode);else if(U.tag!==4&amp;&amp;U.tag!==27&amp;&amp;U.child!==null){U.child.return=U,U=U.child;continue}if(U===r)break t;for(;U.sibling===null;){if(U.return===null||U.return===r)break t;U=U.return}U.sibling.return=U.return,U=U.sibling}r.stateNode=E;t:switch(Pa(E,_,m),_){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break t;case"img":m=!0;break t;default:m=!1}m&amp;&amp;Ka(r)}}return Qn(r),el(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,f),null;case 6:if(s&amp;&amp;r.stateNode!=null)s.memoizedProps!==m&amp;&amp;Ka(r);else{if(typeof m!="string"&amp;&amp;r.stateNode===null)throw Error(i(166));if(s=mt.current,Dl(r)){if(s=r.stateNode,f=r.memoizedProps,m=null,_=na,_!==null)switch(_.tag){case 27:case 5:m=_.memoizedProps}s[un]=r,s=!!(s.nodeValue===f||m!==null&amp;&amp;m.suppressHydrationWarning===!0||K3(s.nodeValue,f)),s||An(r,!0)}else s=Rx(s).createTextNode(m),s[un]=r,r.stateNode=s}return Qn(r),null;case 31:if(f=r.memoizedState,s===null||s.memoizedState!==null){if(m=Dl(r),f!==null){if(s===null){if(!m)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[un]=r}else Nl(),(r.flags&amp;128)===0&amp;&amp;(r.memoizedState=null),r.flags|=4;Qn(r),s=!1}else f=Fp(),s!==null&amp;&amp;s.memoizedState!==null&amp;&amp;(s.memoizedState.hydrationErrors=f),s=!0;if(!s)return r.flags&amp;256?(ps(r),r):(ps(r),null);if((r.flags&amp;128)!==0)throw Error(i(558))}return Qn(r),null;case 13:if(m=r.memoizedState,s===null||s.memoizedState!==null&amp;&amp;s.memoizedState.dehydrated!==null){if(_=Dl(r),m!==null&amp;&amp;m.dehydrated!==null){if(s===null){if(!_)throw Error(i(318));if(_=r.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[un]=r}else Nl(),(r.flags&amp;128)===0&amp;&amp;(r.memoizedState=null),r.flags|=4;Qn(r),_=!1}else _=Fp(),s!==null&amp;&amp;s.memoizedState!==null&amp;&amp;(s.memoizedState.hydrationErrors=_),_=!0;if(!_)return r.flags&amp;256?(ps(r),r):(ps(r),null)}return ps(r),(r.flags&amp;128)!==0?(r.lanes=f,r):(f=m!==null,s=s!==null&amp;&amp;s.memoizedState!==null,f&amp;&amp;(m=r.child,_=null,m.alternate!==null&amp;&amp;m.alternate.memoizedState!==null&amp;&amp;m.alternate.memoizedState.cachePool!==null&amp;&amp;(_=m.alternate.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&amp;&amp;m.memoizedState.cachePool!==null&amp;&amp;(E=m.memoizedState.cachePool.pool),E!==_&amp;&amp;(m.flags|=2048)),f!==s&amp;&amp;f&amp;&amp;(r.child.flags|=8192),Pc(r,r.updateQueue),Qn(r),null);case 4:return xe(),s===null&amp;&amp;l1(r.stateNode.containerInfo),Qn(r),null;case 10:return Vs(r.type),Qn(r),null;case 19:if(ht(yi),m=r.memoizedState,m===null)return Qn(r),null;if(_=(r.flags&amp;128)!==0,E=m.rendering,E===null)if(_)uf(m,!1);else{if(Wn!==0||s!==null&amp;&amp;(s.flags&amp;128)!==0)for(s=r.child;s!==null;){if(E=Dh(s),E!==null){for(r.flags|=128,uf(m,!1),s=E.updateQueue,r.updateQueue=s,Pc(r,s),r.subtreeFlags=0,s=f,f=r.child;f!==null;)Sa(f,s),f=f.sibling;return Rt(yi,yi.current&amp;1|2),Dn&amp;&amp;Zr(r,m.treeForkCount),r.child}s=s.sibling}m.tail!==null&amp;&amp;j()&gt;Ts&amp;&amp;(r.flags|=128,_=!0,uf(m,!1),r.lanes=4194304)}else{if(!_)if(s=Dh(E),s!==null){if(r.flags|=128,_=!0,s=s.updateQueue,r.updateQueue=s,Pc(r,s),uf(m,!0),m.tail===null&amp;&amp;m.tailMode==="hidden"&amp;&amp;!E.alternate&amp;&amp;!Dn)return Qn(r),null}else 2*j()-m.renderingStartTime&gt;Ts&amp;&amp;f!==536870912&amp;&amp;(r.flags|=128,_=!0,uf(m,!1),r.lanes=4194304);m.isBackwards?(E.sibling=r.child,r.child=E):(s=m.last,s!==null?s.sibling=E:r.child=E,m.last=E)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=j(),s.sibling=null,f=yi.current,Rt(yi,_?f&amp;1|2:f&amp;1),Dn&amp;&amp;Zr(r,m.treeForkCount),s):(Qn(r),null);case 22:case 23:return ps(r),Ea(),m=r.memoizedState!==null,s!==null?s.memoizedState!==null!==m&amp;&amp;(r.flags|=8192):m&amp;&amp;(r.flags|=8192),m?(f&amp;536870912)!==0&amp;&amp;(r.flags&amp;128)===0&amp;&amp;(Qn(r),r.subtreeFlags&amp;6&amp;&amp;(r.flags|=8192)):Qn(r),f=r.updateQueue,f!==null&amp;&amp;Pc(r,f.retryQueue),f=null,s!==null&amp;&amp;s.memoizedState!==null&amp;&amp;s.memoizedState.cachePool!==null&amp;&amp;(f=s.memoizedState.cachePool.pool),m=null,r.memoizedState!==null&amp;&amp;r.memoizedState.cachePool!==null&amp;&amp;(m=r.memoizedState.cachePool.pool),m!==f&amp;&amp;(r.flags|=2048),s!==null&amp;&amp;ht(qo),null;case 24:return f=null,s!==null&amp;&amp;(f=s.memoizedState.cache),r.memoizedState.cache!==f&amp;&amp;(r.flags|=2048),Vs(ke),Qn(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function qh(s,r){switch(ko(r),r.tag){case 1:return s=r.flags,s&amp;65536?(r.flags=s&amp;-65537|128,r):null;case 3:return Vs(ke),xe(),s=r.flags,(s&amp;65536)!==0&amp;&amp;(s&amp;128)===0?(r.flags=s&amp;-65537|128,r):null;case 26:case 27:case 5:return Ke(r),null;case 31:if(r.memoizedState!==null){if(ps(r),r.alternate===null)throw Error(i(340));Nl()}return s=r.flags,s&amp;65536?(r.flags=s&amp;-65537|128,r):null;case 13:if(ps(r),s=r.memoizedState,s!==null&amp;&amp;s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Nl()}return s=r.flags,s&amp;65536?(r.flags=s&amp;-65537|128,r):null;case 19:return ht(yi),null;case 4:return xe(),null;case 10:return Vs(r.type),null;case 22:case 23:return ps(r),Ea(),s!==null&amp;&amp;ht(qo),s=r.flags,s&amp;65536?(r.flags=s&amp;-65537|128,r):null;case 24:return Vs(ke),null;case 25:return null;default:return null}}function Fl(s,r){switch(ko(r),r.tag){case 3:Vs(ke),xe();break;case 26:case 27:case 5:Ke(r);break;case 4:xe();break;case 31:r.memoizedState!==null&amp;&amp;ps(r);break;case 13:ps(r);break;case 19:ht(yi);break;case 10:Vs(r.type);break;case 22:case 23:ps(r),Ea(),s!==null&amp;&amp;ht(qo);break;case 24:Vs(ke)}}function Cr(s,r){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var _=m.next;f=_;do{if((f.tag&amp;s)===s){m=void 0;var E=f.create,U=f.inst;m=E(),U.destroy=m}f=f.next}while(f!==_)}}catch(X){ii(r,r.return,X)}}function js(s,r,f){try{var m=r.updateQueue,_=m!==null?m.lastEffect:null;if(_!==null){var E=_.next;m=E;do{if((m.tag&amp;s)===s){var U=m.inst,X=U.destroy;if(X!==void 0){U.destroy=void 0,_=r;var lt=f,Et=X;try{Et()}catch(Vt){ii(_,lt,Vt)}}}m=m.next}while(m!==E)}}catch(Vt){ii(r,r.return,Vt)}}function nl(s){var r=s.updateQueue;if(r!==null){var f=s.stateNode;try{fa(r,f)}catch(m){ii(s,s.return,m)}}}function Cm(s,r,f){f.props=da(s.type,s.memoizedProps),f.state=s.memoizedState;try{f.componentWillUnmount()}catch(m){ii(s,r,m)}}function Rr(s,r){try{var f=s.ref;if(f!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof f=="function"?s.refCleanup=f(m):f.current=m}}catch(_){ii(s,r,_)}}function bs(s,r){var f=s.ref,m=s.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(_){ii(s,r,_)}finally{s.refCleanup=null,s=s.alternate,s!=null&amp;&amp;(s.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(_){ii(s,r,_)}else f.current=null}function Ss(s){var r=s.type,f=s.memoizedProps,m=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":f.autoFocus&amp;&amp;m.focus();break t;case"img":f.src?m.src=f.src:f.srcSet&amp;&amp;(m.srcset=f.srcSet)}}catch(_){ii(s,s.return,_)}}function ks(s,r,f){try{var m=s.stateNode;y4(m,s.type,f,r),m[P]=r}catch(_){ii(s,s.return,_)}}function Ii(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&amp;&amp;kc(s.type)||s.tag===4}function Dr(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||Ii(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&amp;&amp;s.tag!==6&amp;&amp;s.tag!==18;){if(s.tag===27&amp;&amp;kc(s.type)||s.flags&amp;2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&amp;2))return s.stateNode}}function dn(s,r,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(s,r):(r=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,r.appendChild(s),f=f._reactRootContainer,f!=null||r.onclick!==null||(r.onclick=mr));else if(m!==4&amp;&amp;(m===27&amp;&amp;kc(s.type)&amp;&amp;(f=s.stateNode,r=null),s=s.child,s!==null))for(dn(s,r,f),s=s.sibling;s!==null;)dn(s,r,f),s=s.sibling}function jn(s,r,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,r?f.insertBefore(s,r):f.appendChild(s);else if(m!==4&amp;&amp;(m===27&amp;&amp;kc(s.type)&amp;&amp;(f=s.stateNode),s=s.child,s!==null))for(jn(s,r,f),s=s.sibling;s!==null;)jn(s,r,f),s=s.sibling}function Ci(s){var r=s.stateNode,f=s.memoizedProps;try{for(var m=s.type,_=r.attributes;_.length;)r.removeAttributeNode(_[0]);Pa(r,m,f),r[un]=s,r[P]=f}catch(E){ii(s,s.return,E)}}var Xs=!1,di=!1,ro=!1,ff=typeof WeakSet=="function"?WeakSet:Set,Si=null;function Vc(s,r){if(s=s.containerInfo,f1=Bx,s=ph(s),vc(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else t:{f=(f=s.ownerDocument)&amp;&amp;f.defaultView||window;var m=f.getSelection&amp;&amp;f.getSelection();if(m&amp;&amp;m.rangeCount!==0){f=m.anchorNode;var _=m.anchorOffset,E=m.focusNode;m=m.focusOffset;try{f.nodeType,E.nodeType}catch{f=null;break t}var U=0,X=-1,lt=-1,Et=0,Vt=0,Yt=s,wt=null;e:for(;;){for(var Lt;Yt!==f||_!==0&amp;&amp;Yt.nodeType!==3||(X=U+_),Yt!==E||m!==0&amp;&amp;Yt.nodeType!==3||(lt=U+m),Yt.nodeType===3&amp;&amp;(U+=Yt.nodeValue.length),(Lt=Yt.firstChild)!==null;)wt=Yt,Yt=Lt;for(;;){if(Yt===s)break e;if(wt===f&amp;&amp;++Et===_&amp;&amp;(X=U),wt===E&amp;&amp;++Vt===m&amp;&amp;(lt=U),(Lt=Yt.nextSibling)!==null)break;Yt=wt,wt=Yt.parentNode}Yt=Lt}f=X===-1||lt===-1?null:{start:X,end:lt}}else f=null}f=f||{start:0,end:0}}else f=null;for(h1={focusedElem:s,selectionRange:f},Bx=!1,Si=r;Si!==null;)if(r=Si,s=r.child,(r.subtreeFlags&amp;1028)!==0&amp;&amp;s!==null)s.return=r,Si=s;else for(;Si!==null;){switch(r=Si,E=r.alternate,s=r.flags,r.tag){case 0:if((s&amp;4)!==0&amp;&amp;(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(f=0;f&lt;s.length;f++)_=s[f],_.ref.impl=_.nextImpl;break;case 11:case 15:break;case 1:if((s&amp;1024)!==0&amp;&amp;E!==null){s=void 0,f=r,_=E.memoizedProps,E=E.memoizedState,m=f.stateNode;try{var ze=da(f.type,_);s=m.getSnapshotBeforeUpdate(ze,E),m.__reactInternalSnapshotBeforeUpdate=s}catch($e){ii(f,f.return,$e)}}break;case 3:if((s&amp;1024)!==0){if(s=r.stateNode.containerInfo,f=s.nodeType,f===9)m1(s);else if(f===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":m1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&amp;1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Si=s;break}Si=r.return}}function Sx(s,r,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:oo(s,f),m&amp;4&amp;&amp;Cr(5,f);break;case 1:if(oo(s,f),m&amp;4)if(s=f.stateNode,r===null)try{s.componentDidMount()}catch(U){ii(f,f.return,U)}else{var _=da(f.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(_,r,s.__reactInternalSnapshotBeforeUpdate)}catch(U){ii(f,f.return,U)}}m&amp;64&amp;&amp;nl(f),m&amp;512&amp;&amp;Rr(f,f.return);break;case 3:if(oo(s,f),m&amp;64&amp;&amp;(s=f.updateQueue,s!==null)){if(r=null,f.child!==null)switch(f.child.tag){case 27:case 5:r=f.child.stateNode;break;case 1:r=f.child.stateNode}try{fa(s,r)}catch(U){ii(f,f.return,U)}}break;case 27:r===null&amp;&amp;m&amp;4&amp;&amp;Ci(f);case 26:case 5:oo(s,f),r===null&amp;&amp;m&amp;4&amp;&amp;Ss(f),m&amp;512&amp;&amp;Rr(f,f.return);break;case 12:oo(s,f);break;case 31:oo(s,f),m&amp;4&amp;&amp;Wh(s,f);break;case 13:oo(s,f),m&amp;4&amp;&amp;Rm(s,f),m&amp;64&amp;&amp;(s=f.memoizedState,s!==null&amp;&amp;(s=s.dehydrated,s!==null&amp;&amp;(f=o4.bind(null,f),w4(s,f))));break;case 22:if(m=f.memoizedState!==null||Xs,!m){r=r!==null&amp;&amp;r.memoizedState!==null||di,_=Xs;var E=di;Xs=m,(di=r)&amp;&amp;!E?qn(s,f,(f.subtreeFlags&amp;8772)!==0):oo(s,f),Xs=_,di=E}break;case 30:break;default:oo(s,f)}}function Yh(s){var r=s.alternate;r!==null&amp;&amp;(s.alternate=null,Yh(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&amp;&amp;(r=s.stateNode,r!==null&amp;&amp;$t(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Vn=null,Pi=!1;function Aa(s,r,f){for(f=f.child;f!==null;)il(s,r,f),f=f.sibling}function il(s,r,f){if(jt&amp;&amp;typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Gt,f)}catch{}switch(f.tag){case 26:di||bs(f,r),Aa(s,r,f),f.memoizedState?f.memoizedState.count--:f.stateNode&amp;&amp;(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:di||bs(f,r);var m=Vn,_=Pi;kc(f.type)&amp;&amp;(Vn=f.stateNode,Pi=!1),Aa(s,r,f),Om(f.stateNode),Vn=m,Pi=_;break;case 5:di||bs(f,r);case 6:if(m=Vn,_=Pi,Vn=null,Aa(s,r,f),Vn=m,Pi=_,Vn!==null)if(Pi)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(f.stateNode)}catch(E){ii(f,r,E)}else try{Vn.removeChild(f.stateNode)}catch(E){ii(f,r,E)}break;case 18:Vn!==null&amp;&amp;(Pi?(s=Vn,n2(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,f.stateNode),sd(s)):n2(Vn,f.stateNode));break;case 4:m=Vn,_=Pi,Vn=f.stateNode.containerInfo,Pi=!0,Aa(s,r,f),Vn=m,Pi=_;break;case 0:case 11:case 14:case 15:js(2,f,r),di||js(4,f,r),Aa(s,r,f);break;case 1:di||(bs(f,r),m=f.stateNode,typeof m.componentWillUnmount=="function"&amp;&amp;Cm(f,r,m)),Aa(s,r,f);break;case 21:Aa(s,r,f);break;case 22:di=(m=di)||f.memoizedState!==null,Aa(s,r,f),di=m;break;default:Aa(s,r,f)}}function Wh(s,r){if(r.memoizedState===null&amp;&amp;(s=r.alternate,s!==null&amp;&amp;(s=s.memoizedState,s!==null))){s=s.dehydrated;try{sd(s)}catch(f){ii(r,r.return,f)}}}function Rm(s,r){if(r.memoizedState===null&amp;&amp;(s=r.alternate,s!==null&amp;&amp;(s=s.memoizedState,s!==null&amp;&amp;(s=s.dehydrated,s!==null))))try{sd(s)}catch(f){ii(r,r.return,f)}}function Mx(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&amp;&amp;(r=s.stateNode=new ff),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&amp;&amp;(r=s._retryCache=new ff),r;default:throw Error(i(435,s.tag))}}function Ri(s,r){var f=Mx(s);r.forEach(function(m){if(!f.has(m)){f.add(m);var _=l4.bind(null,s,m);m.then(_,_)}})}function wa(s,r){var f=r.deletions;if(f!==null)for(var m=0;m&lt;f.length;m++){var _=f[m],E=s,U=r,X=U;t:for(;X!==null;){switch(X.tag){case 27:if(kc(X.type)){Vn=X.stateNode,Pi=!1;break t}break;case 5:Vn=X.stateNode,Pi=!1;break t;case 3:case 4:Vn=X.stateNode.containerInfo,Pi=!0;break t}X=X.return}if(Vn===null)throw Error(i(160));il(E,U,_),Vn=null,Pi=!1,E=_.alternate,E!==null&amp;&amp;(E.return=null),_.return=null}if(r.subtreeFlags&amp;13886)for(r=r.child;r!==null;)al(r,s),r=r.sibling}var Qa=null;function al(s,r){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:wa(r,s),Mi(s),m&amp;4&amp;&amp;(js(3,s,s.return),Cr(3,s),js(5,s,s.return));break;case 1:wa(r,s),Mi(s),m&amp;512&amp;&amp;(di||f===null||bs(f,f.return)),m&amp;64&amp;&amp;Xs&amp;&amp;(s=s.updateQueue,s!==null&amp;&amp;(m=s.callbacks,m!==null&amp;&amp;(f=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var _=Qa;if(wa(r,s),Mi(s),m&amp;512&amp;&amp;(di||f===null||bs(f,f.return)),m&amp;4){var E=f!==null?f.memoizedState:null;if(m=s.memoizedState,f===null)if(m===null)if(s.stateNode===null){t:{m=s.type,f=s.memoizedProps,_=_.ownerDocument||_;e:switch(m){case"title":E=_.getElementsByTagName("title")[0],(!E||E[ae]||E[un]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&amp;&amp;(E=_.createElement(m),_.head.insertBefore(E,_.querySelector("head &gt; title"))),Pa(E,m,f),E[un]=s,gt(E),m=E;break t;case"link":var U=d2("link","href",_).get(m+(f.href||""));if(U){for(var X=0;X&lt;U.length;X++)if(E=U[X],E.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&amp;&amp;E.getAttribute("rel")===(f.rel==null?null:f.rel)&amp;&amp;E.getAttribute("title")===(f.title==null?null:f.title)&amp;&amp;E.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){U.splice(X,1);break e}}E=_.createElement(m),Pa(E,m,f),_.head.appendChild(E);break;case"meta":if(U=d2("meta","content",_).get(m+(f.content||""))){for(X=0;X&lt;U.length;X++)if(E=U[X],E.getAttribute("content")===(f.content==null?null:""+f.content)&amp;&amp;E.getAttribute("name")===(f.name==null?null:f.name)&amp;&amp;E.getAttribute("property")===(f.property==null?null:f.property)&amp;&amp;E.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&amp;&amp;E.getAttribute("charset")===(f.charSet==null?null:f.charSet)){U.splice(X,1);break e}}E=_.createElement(m),Pa(E,m,f),_.head.appendChild(E);break;default:throw Error(i(468,m))}E[un]=s,gt(E),m=E}s.stateNode=m}else p2(_,s.type,s.stateNode);else s.stateNode=h2(_,m,s.memoizedProps);else E!==m?(E===null?f.stateNode!==null&amp;&amp;(f=f.stateNode,f.parentNode.removeChild(f)):E.count--,m===null?p2(_,s.type,s.stateNode):h2(_,m,s.memoizedProps)):m===null&amp;&amp;s.stateNode!==null&amp;&amp;ks(s,s.memoizedProps,f.memoizedProps)}break;case 27:wa(r,s),Mi(s),m&amp;512&amp;&amp;(di||f===null||bs(f,f.return)),f!==null&amp;&amp;m&amp;4&amp;&amp;ks(s,s.memoizedProps,f.memoizedProps);break;case 5:if(wa(r,s),Mi(s),m&amp;512&amp;&amp;(di||f===null||bs(f,f.return)),s.flags&amp;32){_=s.stateNode;try{Js(_,"")}catch(ze){ii(s,s.return,ze)}}m&amp;4&amp;&amp;s.stateNode!=null&amp;&amp;(_=s.memoizedProps,ks(s,_,f!==null?f.memoizedProps:_)),m&amp;1024&amp;&amp;(ro=!0);break;case 6:if(wa(r,s),Mi(s),m&amp;4){if(s.stateNode===null)throw Error(i(162));m=s.memoizedProps,f=s.stateNode;try{f.nodeValue=m}catch(ze){ii(s,s.return,ze)}}break;case 3:if(Ux=null,_=Qa,Qa=Dx(r.containerInfo),wa(r,s),Qa=_,Mi(s),m&amp;4&amp;&amp;f!==null&amp;&amp;f.memoizedState.isDehydrated)try{sd(r.containerInfo)}catch(ze){ii(s,s.return,ze)}ro&amp;&amp;(ro=!1,Ex(s));break;case 4:m=Qa,Qa=Dx(s.stateNode.containerInfo),wa(r,s),Mi(s),Qa=m;break;case 12:wa(r,s),Mi(s);break;case 31:wa(r,s),Mi(s),m&amp;4&amp;&amp;(m=s.updateQueue,m!==null&amp;&amp;(s.updateQueue=null,Ri(s,m)));break;case 13:wa(r,s),Mi(s),s.child.flags&amp;8192&amp;&amp;s.memoizedState!==null!=(f!==null&amp;&amp;f.memoizedState!==null)&amp;&amp;(uo=j()),m&amp;4&amp;&amp;(m=s.updateQueue,m!==null&amp;&amp;(s.updateQueue=null,Ri(s,m)));break;case 22:_=s.memoizedState!==null;var lt=f!==null&amp;&amp;f.memoizedState!==null,Et=Xs,Vt=di;if(Xs=Et||_,di=Vt||lt,wa(r,s),di=Vt,Xs=Et,Mi(s),m&amp;8192)t:for(r=s.stateNode,r._visibility=_?r._visibility&amp;-2:r._visibility|1,_&amp;&amp;(f===null||lt||Xs||di||Hl(s)),f=null,r=s;;){if(r.tag===5||r.tag===26){if(f===null){lt=f=r;try{if(E=lt.stateNode,_)U=E.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{X=lt.stateNode;var Yt=lt.memoizedProps.style,wt=Yt!=null&amp;&amp;Yt.hasOwnProperty("display")?Yt.display:null;X.style.display=wt==null||typeof wt=="boolean"?"":(""+wt).trim()}}catch(ze){ii(lt,lt.return,ze)}}}else if(r.tag===6){if(f===null){lt=r;try{lt.stateNode.nodeValue=_?"":lt.memoizedProps}catch(ze){ii(lt,lt.return,ze)}}}else if(r.tag===18){if(f===null){lt=r;try{var Lt=lt.stateNode;_?i2(Lt,!0):i2(lt.stateNode,!1)}catch(ze){ii(lt,lt.return,ze)}}}else if((r.tag!==22&amp;&amp;r.tag!==23||r.memoizedState===null||r===s)&amp;&amp;r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;f===r&amp;&amp;(f=null),r=r.return}f===r&amp;&amp;(f=null),r.sibling.return=r.return,r=r.sibling}m&amp;4&amp;&amp;(m=s.updateQueue,m!==null&amp;&amp;(f=m.retryQueue,f!==null&amp;&amp;(m.retryQueue=null,Ri(s,f))));break;case 19:wa(r,s),Mi(s),m&amp;4&amp;&amp;(m=s.updateQueue,m!==null&amp;&amp;(s.updateQueue=null,Ri(s,m)));break;case 30:break;case 21:break;default:wa(r,s),Mi(s)}}function Mi(s){var r=s.flags;if(r&amp;2){try{for(var f,m=s.return;m!==null;){if(Ii(m)){f=m;break}m=m.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var _=f.stateNode,E=Dr(s);jn(s,E,_);break;case 5:var U=f.stateNode;f.flags&amp;32&amp;&amp;(Js(U,""),f.flags&amp;=-33);var X=Dr(s);jn(s,X,U);break;case 3:case 4:var lt=f.stateNode.containerInfo,Et=Dr(s);dn(s,Et,lt);break;default:throw Error(i(161))}}catch(Vt){ii(s,s.return,Vt)}s.flags&amp;=-3}r&amp;4096&amp;&amp;(s.flags&amp;=-4097)}function Ex(s){if(s.subtreeFlags&amp;1024)for(s=s.child;s!==null;){var r=s;Ex(r),r.tag===5&amp;&amp;r.flags&amp;1024&amp;&amp;r.stateNode.reset(),s=s.sibling}}function oo(s,r){if(r.subtreeFlags&amp;8772)for(r=r.child;r!==null;)Sx(s,r.alternate,r),r=r.sibling}function Hl(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:js(4,r,r.return),Hl(r);break;case 1:bs(r,r.return);var f=r.stateNode;typeof f.componentWillUnmount=="function"&amp;&amp;Cm(r,r.return,f),Hl(r);break;case 27:Om(r.stateNode);case 26:case 5:bs(r,r.return),Hl(r);break;case 22:r.memoizedState===null&amp;&amp;Hl(r);break;case 30:Hl(r);break;default:Hl(r)}s=s.sibling}}function qn(s,r,f){for(f=f&amp;&amp;(r.subtreeFlags&amp;8772)!==0,r=r.child;r!==null;){var m=r.alternate,_=s,E=r,U=E.flags;switch(E.tag){case 0:case 11:case 15:qn(_,E,f),Cr(4,E);break;case 1:if(qn(_,E,f),m=E,_=m.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(Et){ii(m,m.return,Et)}if(m=E,_=m.updateQueue,_!==null){var X=m.stateNode;try{var lt=_.shared.hiddenCallbacks;if(lt!==null)for(_.shared.hiddenCallbacks=null,_=0;_&lt;lt.length;_++)Er(lt[_],X)}catch(Et){ii(m,m.return,Et)}}f&amp;&amp;U&amp;64&amp;&amp;nl(E),Rr(E,E.return);break;case 27:Ci(E);case 26:case 5:qn(_,E,f),f&amp;&amp;m===null&amp;&amp;U&amp;4&amp;&amp;Ss(E),Rr(E,E.return);break;case 12:qn(_,E,f);break;case 31:qn(_,E,f),f&amp;&amp;U&amp;4&amp;&amp;Wh(_,E);break;case 13:qn(_,E,f),f&amp;&amp;U&amp;4&amp;&amp;Rm(_,E);break;case 22:E.memoizedState===null&amp;&amp;qn(_,E,f),Rr(E,E.return);break;case 30:break;default:qn(_,E,f)}r=r.sibling}}function Zh(s,r){var f=null;s!==null&amp;&amp;s.memoizedState!==null&amp;&amp;s.memoizedState.cachePool!==null&amp;&amp;(f=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&amp;&amp;r.memoizedState.cachePool!==null&amp;&amp;(s=r.memoizedState.cachePool.pool),s!==f&amp;&amp;(s!=null&amp;&amp;s.refCount++,f!=null&amp;&amp;ua(f))}function lo(s,r){s=null,r.alternate!==null&amp;&amp;(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&amp;&amp;(r.refCount++,s!=null&amp;&amp;ua(s))}function Zi(s,r,f,m){if(r.subtreeFlags&amp;10256)for(r=r.child;r!==null;)mi(s,r,f,m),r=r.sibling}function mi(s,r,f,m){var _=r.flags;switch(r.tag){case 0:case 11:case 15:Zi(s,r,f,m),_&amp;2048&amp;&amp;Cr(9,r);break;case 1:Zi(s,r,f,m);break;case 3:Zi(s,r,f,m),_&amp;2048&amp;&amp;(s=null,r.alternate!==null&amp;&amp;(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&amp;&amp;(r.refCount++,s!=null&amp;&amp;ua(s)));break;case 12:if(_&amp;2048){Zi(s,r,f,m),s=r.stateNode;try{var E=r.memoizedProps,U=E.id,X=E.onPostCommit;typeof X=="function"&amp;&amp;X(U,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(lt){ii(r,r.return,lt)}}else Zi(s,r,f,m);break;case 31:Zi(s,r,f,m);break;case 13:Zi(s,r,f,m);break;case 23:break;case 22:E=r.stateNode,U=r.alternate,r.memoizedState!==null?E._visibility&amp;2?Zi(s,r,f,m):Fc(s,r):E._visibility&amp;2?Zi(s,r,f,m):(E._visibility|=2,sl(s,r,f,m,(r.subtreeFlags&amp;10256)!==0||!1)),_&amp;2048&amp;&amp;Zh(U,r);break;case 24:Zi(s,r,f,m),_&amp;2048&amp;&amp;lo(r.alternate,r);break;default:Zi(s,r,f,m)}}function sl(s,r,f,m,_){for(_=_&amp;&amp;((r.subtreeFlags&amp;10256)!==0||!1),r=r.child;r!==null;){var E=s,U=r,X=f,lt=m,Et=U.flags;switch(U.tag){case 0:case 11:case 15:sl(E,U,X,lt,_),Cr(8,U);break;case 23:break;case 22:var Vt=U.stateNode;U.memoizedState!==null?Vt._visibility&amp;2?sl(E,U,X,lt,_):Fc(E,U):(Vt._visibility|=2,sl(E,U,X,lt,_)),_&amp;&amp;Et&amp;2048&amp;&amp;Zh(U.alternate,U);break;case 24:sl(E,U,X,lt,_),_&amp;&amp;Et&amp;2048&amp;&amp;lo(U.alternate,U);break;default:sl(E,U,X,lt,_)}r=r.sibling}}function Fc(s,r){if(r.subtreeFlags&amp;10256)for(r=r.child;r!==null;){var f=s,m=r,_=m.flags;switch(m.tag){case 22:Fc(f,m),_&amp;2048&amp;&amp;Zh(m.alternate,m);break;case 24:Fc(f,m),_&amp;2048&amp;&amp;lo(m.alternate,m);break;default:Fc(f,m)}r=r.sibling}}var Ei=8192;function Gl(s,r,f){if(s.subtreeFlags&amp;Ei)for(s=s.child;s!==null;)Di(s,r,f),s=s.sibling}function Di(s,r,f){switch(s.tag){case 26:Gl(s,r,f),s.flags&amp;Ei&amp;&amp;s.memoizedState!==null&amp;&amp;V4(f,Qa,s.memoizedState,s.memoizedProps);break;case 5:Gl(s,r,f);break;case 3:case 4:var m=Qa;Qa=Dx(s.stateNode.containerInfo),Gl(s,r,f),Qa=m;break;case 22:s.memoizedState===null&amp;&amp;(m=s.alternate,m!==null&amp;&amp;m.memoizedState!==null?(m=Ei,Ei=16777216,Gl(s,r,f),Ei=m):Gl(s,r,f));break;default:Gl(s,r,f)}}function Ja(s){var r=s.alternate;if(r!==null&amp;&amp;(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ba(s){var r=s.deletions;if((s.flags&amp;16)!==0){if(r!==null)for(var f=0;f&lt;r.length;f++){var m=r[f];Si=m,hf(m,s)}Ja(s)}if(s.subtreeFlags&amp;10256)for(s=s.child;s!==null;)jl(s),s=s.sibling}function jl(s){switch(s.tag){case 0:case 11:case 15:Ba(s),s.flags&amp;2048&amp;&amp;js(9,s,s.return);break;case 3:Ba(s);break;case 12:Ba(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&amp;&amp;r._visibility&amp;2&amp;&amp;(s.return===null||s.return.tag!==13)?(r._visibility&amp;=-3,Kh(s)):Ba(s);break;default:Ba(s)}}function Kh(s){var r=s.deletions;if((s.flags&amp;16)!==0){if(r!==null)for(var f=0;f&lt;r.length;f++){var m=r[f];Si=m,hf(m,s)}Ja(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:js(8,r,r.return),Kh(r);break;case 22:f=r.stateNode,f._visibility&amp;2&amp;&amp;(f._visibility&amp;=-3,Kh(r));break;default:Kh(r)}s=s.sibling}}function hf(s,r){for(;Si!==null;){var f=Si;switch(f.tag){case 0:case 11:case 15:js(8,f,r);break;case 23:case 22:if(f.memoizedState!==null&amp;&amp;f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&amp;&amp;m.refCount++}break;case 24:ua(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Si=m;else t:for(f=s;Si!==null;){m=Si;var _=m.sibling,E=m.return;if(Yh(m),m===f){Si=null;break t}if(_!==null){_.return=E,Si=_;break t}Si=E}}}var Qh={getCacheForType:function(s){var r=aa(ke),f=r.data.get(s);return f===void 0&amp;&amp;(f=s(),r.data.set(s,f)),f},cacheSignal:function(){return aa(ke).controller.signal}},Jh=typeof WeakMap=="function"?WeakMap:Map,Ln=0,Yn=null,pn=null,wn=0,Xe=0,Sn=null,ln=!1,yn=!1,ei=!1,Ni=0,Wn=0,Ms=0,co=0,or=0,zn=0,Es=0,lr=null,Ca=null,$a=!1,uo=0,Hc=0,Ts=1/0,Gc=null,Nr=null,gi=0,cr=null,As=null,qs=0,fo=0,kl=null,$h=null,Xl=0,ql=null;function Ia(){return(Ln&amp;2)!==0&amp;&amp;wn!==0?wn&amp;-wn:k.T!==null?a1():ta()}function c(){if(zn===0)if((wn&amp;536870912)===0||Dn){var s=oe;oe&lt;&lt;=1,(oe&amp;3932160)===0&amp;&amp;(oe=262144),zn=s}else zn=536870912;return s=Wi.current,s!==null&amp;&amp;(s.flags|=32),zn}function u(s,r,f){(s===Yn&amp;&amp;(Xe===2||Xe===9)||s.cancelPendingCommit!==null)&amp;&amp;(_t(s,0),N(s,wn,zn,!1)),Xi(s,f),((Ln&amp;2)===0||s!==Yn)&amp;&amp;(s===Yn&amp;&amp;((Ln&amp;2)===0&amp;&amp;(co|=f),Wn===4&amp;&amp;N(s,wn,zn,!1)),rl(s))}function g(s,r,f){if((Ln&amp;6)!==0)throw Error(i(327));var m=!f&amp;&amp;(r&amp;127)===0&amp;&amp;(r&amp;s.expiredLanes)===0||we(s,r),_=m?Yl(s,r):ts(s,r,!0),E=m;do{if(_===0){yn&amp;&amp;!m&amp;&amp;N(s,r,0,!1);break}else{if(f=s.current.alternate,E&amp;&amp;!A(f)){_=ts(s,r,!1),E=!1;continue}if(_===2){if(E=r,s.errorRecoveryDisabledLanes&amp;E)var U=0;else U=s.pendingLanes&amp;-536870913,U=U!==0?U:U&amp;536870912?536870912:0;if(U!==0){r=U;t:{var X=s;_=lr;var lt=X.current.memoizedState.isDehydrated;if(lt&amp;&amp;(_t(X,U).flags|=256),U=ts(X,U,!1),U!==2){if(ei&amp;&amp;!lt){X.errorRecoveryDisabledLanes|=E,co|=E,_=4;break t}E=Ca,Ca=_,E!==null&amp;&amp;(Ca===null?Ca=E:Ca.push.apply(Ca,E))}_=U}if(E=!1,_!==2)continue}}if(_===1){_t(s,0),N(s,r,0,!0);break}t:{switch(m=s,E=_,E){case 0:case 1:throw Error(i(345));case 4:if((r&amp;4194048)!==r)break;case 6:N(m,r,zn,!ln);break t;case 2:Ca=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&amp;62914560)===r&amp;&amp;(_=uo+300-j(),10&lt;_)){if(N(m,r,zn,!ln),Xt(m,0,!0)!==0)break t;qs=r,m.timeoutHandle=t2(b.bind(null,m,f,Ca,Gc,$a,r,zn,co,Es,ln,E,"Throttled",-0,0),_);break t}b(m,f,Ca,Gc,$a,r,zn,co,Es,ln,E,null,-0,0)}}break}while(!0);rl(s)}function b(s,r,f,m,_,E,U,X,lt,Et,Vt,Yt,wt,Lt){if(s.timeoutHandle=-1,Yt=r.subtreeFlags,Yt&amp;8192||(Yt&amp;16785408)===16785408){Yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mr},Di(r,E,Yt);var ze=(E&amp;62914560)===E?uo-j():(E&amp;4194048)===E?Hc-j():0;if(ze=F4(Yt,ze),ze!==null){qs=E,s.cancelPendingCommit=ze(en.bind(null,s,r,E,f,m,_,U,X,lt,Vt,Yt,null,wt,Lt)),N(s,E,U,!Et);return}}en(s,r,E,f,m,_,U,X,lt)}function A(s){for(var r=s;;){var f=r.tag;if((f===0||f===11||f===15)&amp;&amp;r.flags&amp;16384&amp;&amp;(f=r.updateQueue,f!==null&amp;&amp;(f=f.stores,f!==null)))for(var m=0;m&lt;f.length;m++){var _=f[m],E=_.getSnapshot;_=_.value;try{if(!fi(E(),_))return!1}catch{return!1}}if(f=r.child,r.subtreeFlags&amp;16384&amp;&amp;f!==null)f.return=r,r=f;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function N(s,r,f,m){r&amp;=~or,r&amp;=~co,s.suspendedLanes|=r,s.pingedLanes&amp;=~r,m&amp;&amp;(s.warmLanes|=r),m=s.expirationTimes;for(var _=r;0&lt;_;){var E=31-be(_),U=1&lt;&lt;E;m[E]=-1,_&amp;=~U}f!==0&amp;&amp;_l(s,f,r)}function q(){return(Ln&amp;6)===0?(Dm(0),!1):!0}function ot(){if(pn!==null){if(Xe===0)var s=pn.return;else s=pn,Ma=Qr=null,rm(s),Wo=null,Zo=0,s=pn;for(;s!==null;)Fl(s.alternate,s),s=s.return;pn=null}}function _t(s,r){var f=s.timeoutHandle;f!==-1&amp;&amp;(s.timeoutHandle=-1,S4(f)),f=s.cancelPendingCommit,f!==null&amp;&amp;(s.cancelPendingCommit=null,f()),qs=0,ot(),Yn=s,pn=f=vr(s.current,null),wn=r,Xe=0,Sn=null,ln=!1,yn=we(s,r),ei=!1,Es=zn=or=co=Ms=Wn=0,Ca=lr=null,$a=!1,(r&amp;8)!==0&amp;&amp;(r|=r&amp;32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&amp;=r;0&lt;m;){var _=31-be(m),E=1&lt;&lt;_;r|=s[_],m&amp;=~E}return Ni=r,Ho(),f}function Ht(s,r){tn=null,k.H=$u,r===Yo||r===ir?(r=wh(),Xe=3):r===ju?(r=wh(),Xe=4):Xe=r===kh?8:r!==null&amp;&amp;typeof r=="object"&amp;&amp;typeof r.then=="function"?6:1,Sn=r,pn===null&amp;&amp;(Wn=1,jh(s,Xa(r,s.current)))}function ce(){var s=Wi.current;return s===null?!0:(wn&amp;4194048)===wn?Fs===null:(wn&amp;62914560)===wn||(wn&amp;536870912)!==0?s===Fs:!1}function ve(){var s=k.H;return k.H=$u,s===null?$u:s}function Ae(){var s=k.A;return k.A=Qh,s}function rn(){Wn=4,ln||(wn&amp;4194048)!==wn&amp;&amp;Wi.current!==null||(yn=!0),(Ms&amp;134217727)===0&amp;&amp;(co&amp;134217727)===0||Yn===null||N(Yn,wn,zn,!1)}function ts(s,r,f){var m=Ln;Ln|=2;var _=ve(),E=Ae();(Yn!==s||wn!==r)&amp;&amp;(Gc=null,_t(s,r)),r=!1;var U=Wn;t:do try{if(Xe!==0&amp;&amp;pn!==null){var X=pn,lt=Sn;switch(Xe){case 8:ot(),U=6;break t;case 3:case 2:case 9:case 6:Wi.current===null&amp;&amp;(r=!0);var Et=Xe;if(Xe=0,Sn=null,se(s,X,lt,Et),f&amp;&amp;yn){U=0;break t}break;default:Et=Xe,Xe=0,Sn=null,se(s,X,lt,Et)}}df(),U=Wn;break}catch(Vt){Ht(s,Vt)}while(!0);return r&amp;&amp;s.shellSuspendCounter++,Ma=Qr=null,Ln=m,k.H=_,k.A=E,pn===null&amp;&amp;(Yn=null,wn=0,Ho()),U}function df(){for(;pn!==null;)vt(pn)}function Yl(s,r){var f=Ln;Ln|=2;var m=ve(),_=Ae();Yn!==s||wn!==r?(Gc=null,Ts=j()+500,_t(s,r)):yn=we(s,r);t:do try{if(Xe!==0&amp;&amp;pn!==null){r=pn;var E=Sn;e:switch(Xe){case 1:Xe=0,Sn=null,se(s,r,E,1);break;case 2:case 9:if(Zg(E)){Xe=0,Sn=null,Nt(r);break}r=function(){Xe!==2&amp;&amp;Xe!==9||Yn!==s||(Xe=7),rl(s)},E.then(r,r);break t;case 3:Xe=7;break t;case 4:Xe=5;break t;case 7:Zg(E)?(Xe=0,Sn=null,Nt(r)):(Xe=0,Sn=null,se(s,r,E,7));break;case 5:var U=null;switch(pn.tag){case 26:U=pn.memoizedState;case 5:case 27:var X=pn;if(U?m2(U):X.stateNode.complete){Xe=0,Sn=null;var lt=X.sibling;if(lt!==null)pn=lt;else{var Et=X.return;Et!==null?(pn=Et,He(Et)):pn=null}break e}}Xe=0,Sn=null,se(s,r,E,5);break;case 6:Xe=0,Sn=null,se(s,r,E,6);break;case 8:ot(),Wn=6;break t;default:throw Error(i(462))}}Tt();break}catch(Vt){Ht(s,Vt)}while(!0);return Ma=Qr=null,k.H=m,k.A=_,Ln=f,pn!==null?0:(Yn=null,wn=0,Ho(),Wn)}function Tt(){for(;pn!==null&amp;&amp;!Ee();)vt(pn)}function vt(s){var r=Xh(s.alternate,s,Ni);s.memoizedProps=s.pendingProps,r===null?He(s):pn=r}function Nt(s){var r=s,f=r.alternate;switch(r.tag){case 15:case 0:r=Ta(f,r,r.pendingProps,r.type,void 0,wn);break;case 11:r=Ta(f,r,r.pendingProps,r.type.render,r.ref,wn);break;case 5:rm(r);default:Fl(f,r),r=pn=Sa(r,Ni),r=Xh(f,r,Ni)}s.memoizedProps=s.pendingProps,r===null?He(s):pn=r}function se(s,r,f,m){Ma=Qr=null,rm(r),Wo=null,Zo=0;var _=r.return;try{if(gs(s,_,r,f,wn)){Wn=1,jh(s,Xa(f,s.current)),pn=null;return}}catch(E){if(_!==null)throw pn=_,E;Wn=1,jh(s,Xa(f,s.current)),pn=null;return}r.flags&amp;32768?(Dn||m===1?s=!0:yn||(wn&amp;536870912)!==0?s=!1:(ln=s=!0,(m===2||m===9||m===3||m===6)&amp;&amp;(m=Wi.current,m!==null&amp;&amp;m.tag===13&amp;&amp;(m.flags|=16384))),ri(r,s)):He(r)}function He(s){var r=s;do{if((r.flags&amp;32768)!==0){ri(r,ln);return}s=r.return;var f=wm(r.alternate,r,Ni);if(f!==null){pn=f;return}if(r=r.sibling,r!==null){pn=r;return}pn=r=s}while(r!==null);Wn===0&amp;&amp;(Wn=5)}function ri(s,r){do{var f=qh(s.alternate,s);if(f!==null){f.flags&amp;=32767,pn=f;return}if(f=s.return,f!==null&amp;&amp;(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!r&amp;&amp;(s=s.sibling,s!==null)){pn=s;return}pn=s=f}while(s!==null);Wn=6,pn=null}function en(s,r,f,m,_,E,U,X,lt){s.cancelPendingCommit=null;do td();while(gi!==0);if((Ln&amp;6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(E=r.lanes|r.childLanes,E|=yh,ya(s,f,E,U,X,lt),s===Yn&amp;&amp;(pn=Yn=null,wn=0),As=r,cr=s,qs=f,fo=E,kl=_,$h=m,(r.subtreeFlags&amp;10256)!==0||(r.flags&amp;10256)!==0?(s.callbackNode=null,s.callbackPriority=0,c4(Ot,function(){return I3(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(r.flags&amp;13878)!==0,(r.subtreeFlags&amp;13878)!==0||m){m=k.T,k.T=null,_=tt.p,tt.p=2,U=Ln,Ln|=4;try{Vc(s,r,f)}finally{Ln=U,tt.p=_,k.T=m}}gi=1,Fn(),Ki(),Hn()}}function Fn(){if(gi===1){gi=0;var s=cr,r=As,f=(r.flags&amp;13878)!==0;if((r.subtreeFlags&amp;13878)!==0||f){f=k.T,k.T=null;var m=tt.p;tt.p=2;var _=Ln;Ln|=4;try{al(r,s);var E=h1,U=ph(s.containerInfo),X=E.focusedElem,lt=E.selectionRange;if(U!==X&amp;&amp;X&amp;&amp;X.ownerDocument&amp;&amp;dh(X.ownerDocument.documentElement,X)){if(lt!==null&amp;&amp;vc(X)){var Et=lt.start,Vt=lt.end;if(Vt===void 0&amp;&amp;(Vt=Et),"selectionStart"in X)X.selectionStart=Et,X.selectionEnd=Math.min(Vt,X.value.length);else{var Yt=X.ownerDocument||document,wt=Yt&amp;&amp;Yt.defaultView||window;if(wt.getSelection){var Lt=wt.getSelection(),ze=X.textContent.length,$e=Math.min(lt.start,ze),li=lt.end===void 0?$e:Math.min(lt.end,ze);!Lt.extend&amp;&amp;$e&gt;li&amp;&amp;(U=li,li=$e,$e=U);var yt=zp(X,$e),dt=zp(X,li);if(yt&amp;&amp;dt&amp;&amp;(Lt.rangeCount!==1||Lt.anchorNode!==yt.node||Lt.anchorOffset!==yt.offset||Lt.focusNode!==dt.node||Lt.focusOffset!==dt.offset)){var Mt=Yt.createRange();Mt.setStart(yt.node,yt.offset),Lt.removeAllRanges(),$e&gt;li?(Lt.addRange(Mt),Lt.extend(dt.node,dt.offset)):(Mt.setEnd(dt.node,dt.offset),Lt.addRange(Mt))}}}}for(Yt=[],Lt=X;Lt=Lt.parentNode;)Lt.nodeType===1&amp;&amp;Yt.push({element:Lt,left:Lt.scrollLeft,top:Lt.scrollTop});for(typeof X.focus=="function"&amp;&amp;X.focus(),X=0;X&lt;Yt.length;X++){var kt=Yt[X];kt.element.scrollLeft=kt.left,kt.element.scrollTop=kt.top}}Bx=!!f1,h1=f1=null}finally{Ln=_,tt.p=m,k.T=f}}s.current=r,gi=2}}function Ki(){if(gi===2){gi=0;var s=cr,r=As,f=(r.flags&amp;8772)!==0;if((r.subtreeFlags&amp;8772)!==0||f){f=k.T,k.T=null;var m=tt.p;tt.p=2;var _=Ln;Ln|=4;try{Sx(s,r.alternate,r)}finally{Ln=_,tt.p=m,k.T=f}}gi=3}}function Hn(){if(gi===4||gi===3){gi=0,J();var s=cr,r=As,f=qs,m=$h;(r.subtreeFlags&amp;10256)!==0||(r.flags&amp;10256)!==0?gi=5:(gi=0,As=cr=null,ho(s,s.pendingLanes));var _=s.pendingLanes;if(_===0&amp;&amp;(Nr=null),ja(f),r=r.stateNode,jt&amp;&amp;typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Gt,r,void 0,(r.current.flags&amp;128)===128)}catch{}if(m!==null){r=k.T,_=tt.p,tt.p=2,k.T=null;try{for(var E=s.onRecoverableError,U=0;U&lt;m.length;U++){var X=m[U];E(X.value,{componentStack:X.stack})}}finally{k.T=r,tt.p=_}}(qs&amp;3)!==0&amp;&amp;td(),rl(s),_=s.pendingLanes,(f&amp;261930)!==0&amp;&amp;(_&amp;42)!==0?s===ql?Xl++:(Xl=0,ql=s):Xl=0,Dm(0)}}function ho(s,r){(s.pooledCacheLanes&amp;=r)===0&amp;&amp;(r=s.pooledCache,r!=null&amp;&amp;(s.pooledCache=null,ua(r)))}function td(){return Fn(),Ki(),Hn(),I3()}function I3(){if(gi!==5)return!1;var s=cr,r=fo;fo=0;var f=ja(qs),m=k.T,_=tt.p;try{tt.p=32&gt;f?32:f,k.T=null,f=kl,kl=null;var E=cr,U=qs;if(gi=0,As=cr=null,qs=0,(Ln&amp;6)!==0)throw Error(i(331));var X=Ln;if(Ln|=4,jl(E.current),mi(E,E.current,U,f),Ln=X,Dm(0,!1),jt&amp;&amp;typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Gt,E)}catch{}return!0}finally{tt.p=_,k.T=m,ho(s,r)}}function P3(s,r,f){r=Xa(f,r),r=Am(s.stateNode,r,2),s=eo(s,r,2),s!==null&amp;&amp;(Xi(s,2),rl(s))}function ii(s,r,f){if(s.tag===3)P3(s,s,f);else for(;r!==null;){if(r.tag===3){P3(r,s,f);break}else if(r.tag===1){var m=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&amp;&amp;(Nr===null||!Nr.has(m))){s=Xa(f,s),f=Lc(2),m=eo(r,f,2),m!==null&amp;&amp;(Za(f,m,r,s),Xi(m,2),rl(m));break}}r=r.return}}function e1(s,r,f){var m=s.pingCache;if(m===null){m=s.pingCache=new Jh;var _=new Set;m.set(r,_)}else _=m.get(r),_===void 0&amp;&amp;(_=new Set,m.set(r,_));_.has(f)||(ei=!0,_.add(f),s=r4.bind(null,s,r,f),r.then(s,s))}function r4(s,r,f){var m=s.pingCache;m!==null&amp;&amp;m.delete(r),s.pingedLanes|=s.suspendedLanes&amp;f,s.warmLanes&amp;=~f,Yn===s&amp;&amp;(wn&amp;f)===f&amp;&amp;(Wn===4||Wn===3&amp;&amp;(wn&amp;62914560)===wn&amp;&amp;300&gt;j()-uo?(Ln&amp;2)===0&amp;&amp;_t(s,0):or|=f,Es===wn&amp;&amp;(Es=0)),rl(s)}function V3(s,r){r===0&amp;&amp;(r=Un()),s=Go(s,r),s!==null&amp;&amp;(Xi(s,r),rl(s))}function o4(s){var r=s.memoizedState,f=0;r!==null&amp;&amp;(f=r.retryLane),V3(s,f)}function l4(s,r){var f=0;switch(s.tag){case 31:case 13:var m=s.stateNode,_=s.memoizedState;_!==null&amp;&amp;(f=_.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&amp;&amp;m.delete(r),V3(s,f)}function c4(s,r){return ge(s,r)}var Tx=null,ed=null,n1=!1,Ax=!1,i1=!1,jc=0;function rl(s){s!==ed&amp;&amp;s.next===null&amp;&amp;(ed===null?Tx=ed=s:ed=ed.next=s),Ax=!0,n1||(n1=!0,f4())}function Dm(s,r){if(!i1&amp;&amp;Ax){i1=!0;do for(var f=!1,m=Tx;m!==null;){if(s!==0){var _=m.pendingLanes;if(_===0)var E=0;else{var U=m.suspendedLanes,X=m.pingedLanes;E=(1&lt;&lt;31-be(42|s)+1)-1,E&amp;=_&amp;~(U&amp;~X),E=E&amp;201326741?E&amp;201326741|1:E?E|2:0}E!==0&amp;&amp;(f=!0,j3(m,E))}else E=wn,E=Xt(m,m===Yn?E:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(E&amp;3)===0||we(m,E)||(f=!0,j3(m,E));m=m.next}while(f);i1=!1}}function u4(){F3()}function F3(){Ax=n1=!1;var s=0;jc!==0&amp;&amp;b4()&amp;&amp;(s=jc);for(var r=j(),f=null,m=Tx;m!==null;){var _=m.next,E=H3(m,r);E===0?(m.next=null,f===null?Tx=_:f.next=_,_===null&amp;&amp;(ed=f)):(f=m,(s!==0||(E&amp;3)!==0)&amp;&amp;(Ax=!0)),m=_}gi!==0&amp;&amp;gi!==5||Dm(s),jc!==0&amp;&amp;(jc=0)}function H3(s,r){for(var f=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,E=s.pendingLanes&amp;-62914561;0&lt;E;){var U=31-be(E),X=1&lt;&lt;U,lt=_[U];lt===-1?((X&amp;f)===0||(X&amp;m)!==0)&amp;&amp;(_[U]=We(X,r)):lt&lt;=r&amp;&amp;(s.expiredLanes|=X),E&amp;=~X}if(r=Yn,f=wn,f=Xt(s,s===r?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,f===0||s===r&amp;&amp;(Xe===2||Xe===9)||s.cancelPendingCommit!==null)return m!==null&amp;&amp;m!==null&amp;&amp;fe(m),s.callbackNode=null,s.callbackPriority=0;if((f&amp;3)===0||we(s,f)){if(r=f&amp;-f,r===s.callbackPriority)return r;switch(m!==null&amp;&amp;fe(m),ja(f)){case 2:case 8:f=Wt;break;case 32:f=Ot;break;case 268435456:f=pe;break;default:f=Ot}return m=G3.bind(null,s),f=ge(f,m),s.callbackPriority=r,s.callbackNode=f,r}return m!==null&amp;&amp;m!==null&amp;&amp;fe(m),s.callbackPriority=2,s.callbackNode=null,2}function G3(s,r){if(gi!==0&amp;&amp;gi!==5)return s.callbackNode=null,s.callbackPriority=0,null;var f=s.callbackNode;if(td()&amp;&amp;s.callbackNode!==f)return null;var m=wn;return m=Xt(s,s===Yn?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(g(s,m,r),H3(s,j()),s.callbackNode!=null&amp;&amp;s.callbackNode===f?G3.bind(null,s):null)}function j3(s,r){if(td())return null;g(s,r,!0)}function f4(){M4(function(){(Ln&amp;6)!==0?ge(Pt,u4):F3()})}function a1(){if(jc===0){var s=to;s===0&amp;&amp;(s=Ct,Ct&lt;&lt;=1,(Ct&amp;261888)===0&amp;&amp;(Ct=256)),jc=s}return jc}function k3(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Eu(""+s)}function X3(s,r){var f=r.ownerDocument.createElement("input");return f.name=r.name,f.value=r.value,s.id&amp;&amp;f.setAttribute("form",s.id),r.parentNode.insertBefore(f,r),s=new FormData(s),f.parentNode.removeChild(f),s}function h4(s,r,f,m,_){if(r==="submit"&amp;&amp;f&amp;&amp;f.stateNode===_){var E=k3((_[P]||null).action),U=m.submitter;U&amp;&amp;(r=(r=U[P]||null)?k3(r.formAction):U.getAttribute("formAction"),r!==null&amp;&amp;(E=r,U=null));var X=new Cu("action","action",null,m,_);s.push({event:X,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(jc!==0){var lt=U?X3(_,U):new FormData(_);bm(f,{pending:!0,data:lt,method:_.method,action:E},null,lt)}}else typeof E=="function"&amp;&amp;(X.preventDefault(),lt=U?X3(_,U):new FormData(_),bm(f,{pending:!0,data:lt,method:_.method,action:E},E,lt))},currentTarget:_}]})}}for(var s1=0;s1&lt;vh.length;s1++){var r1=vh[s1],d4=r1.toLowerCase(),p4=r1[0].toUpperCase()+r1.slice(1);ba(d4,"on"+p4)}ba(ka,"onAnimationEnd"),ba(Bp,"onAnimationIteration"),ba(xr,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(Sc,"onTransitionRun"),ba(Vo,"onTransitionStart"),ba(Ip,"onTransitionCancel"),ba(xh,"onTransitionEnd"),Qt("onMouseEnter",["mouseout","mouseover"]),Qt("onMouseLeave",["mouseout","mouseover"]),Qt("onPointerEnter",["pointerout","pointerover"]),Qt("onPointerLeave",["pointerout","pointerover"]),Ft("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ft("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ft("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ft("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ft("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nm));function q3(s,r){r=(r&amp;4)!==0;for(var f=0;f&lt;s.length;f++){var m=s[f],_=m.event;m=m.listeners;t:{var E=void 0;if(r)for(var U=m.length-1;0&lt;=U;U--){var X=m[U],lt=X.instance,Et=X.currentTarget;if(X=X.listener,lt!==E&amp;&amp;_.isPropagationStopped())break t;E=X,_.currentTarget=Et;try{E(_)}catch(Vt){Fo(Vt)}_.currentTarget=null,E=lt}else for(U=0;U&lt;m.length;U++){if(X=m[U],lt=X.instance,Et=X.currentTarget,X=X.listener,lt!==E&amp;&amp;_.isPropagationStopped())break t;E=X,_.currentTarget=Et;try{E(_)}catch(Vt){Fo(Vt)}_.currentTarget=null,E=lt}}}}function Nn(s,r){var f=r[ct];f===void 0&amp;&amp;(f=r[ct]=new Set);var m=s+"__bubble";f.has(m)||(Y3(r,s,2,!1),f.add(m))}function o1(s,r,f){var m=0;r&amp;&amp;(m|=4),Y3(f,s,m,r)}var wx="_reactListening"+Math.random().toString(36).slice(2);function l1(s){if(!s[wx]){s[wx]=!0,at.forEach(function(f){f!=="selectionchange"&amp;&amp;(m4.has(f)||o1(f,!1,s),o1(f,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[wx]||(r[wx]=!0,o1("selectionchange",!1,r))}}function Y3(s,r,f,m){switch(S2(r)){case 2:var _=j4;break;case 8:_=k4;break;default:_=M1}f=_.bind(null,r,f,s),_=void 0,!ih||r!=="touchstart"&amp;&amp;r!=="touchmove"&amp;&amp;r!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(r,f,{capture:!0,passive:_}):s.addEventListener(r,f,!0):_!==void 0?s.addEventListener(r,f,{passive:_}):s.addEventListener(r,f,!1)}function c1(s,r,f,m,_){var E=m;if((r&amp;1)===0&amp;&amp;(r&amp;2)===0&amp;&amp;m!==null)t:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var X=m.stateNode.containerInfo;if(X===_)break;if(U===4)for(U=m.return;U!==null;){var lt=U.tag;if((lt===3||lt===4)&amp;&amp;U.stateNode.containerInfo===_)return;U=U.return}for(;X!==null;){if(U=ee(X),U===null)return;if(lt=U.tag,lt===5||lt===6||lt===26||lt===27){m=E=U;continue t}X=X.parentNode}}m=m.return}vp(function(){var Et=E,Vt=eh(f),Yt=[];t:{var wt=Yr.get(s);if(wt!==void 0){var Lt=Cu,ze=s;switch(s){case"keypress":if(Ml(f)===0)break t;case"keydown":case"keyup":Lt=Tp;break;case"focusin":ze="focus",Lt=lh;break;case"focusout":ze="blur",Lt=lh;break;case"beforeblur":case"afterblur":Lt=lh;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Lt=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Lt=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Lt=Xr;break;case ka:case Bp:case xr:Lt=Dg;break;case xh:Lt=Y_;break;case"scroll":case"scrollend":Lt=rh;break;case"wheel":Lt=Oo;break;case"copy":case"cut":case"paste":Lt=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Lt=ch;break;case"toggle":case"beforetoggle":Lt=wp}var $e=(r&amp;4)!==0,li=!$e&amp;&amp;(s==="scroll"||s==="scrollend"),yt=$e?wt!==null?wt+"Capture":null:wt;$e=[];for(var dt=Et,Mt;dt!==null;){var kt=dt;if(Mt=kt.stateNode,kt=kt.tag,kt!==5&amp;&amp;kt!==26&amp;&amp;kt!==27||Mt===null||yt===null||(kt=Sl(dt,yt),kt!=null&amp;&amp;$e.push(Um(dt,kt,Mt))),li)break;dt=dt.return}0&lt;$e.length&amp;&amp;(wt=new Lt(wt,ze,null,f,Vt),Yt.push({event:wt,listeners:$e}))}}if((r&amp;7)===0){t:{if(wt=s==="mouseover"||s==="pointerover",Lt=s==="mouseout"||s==="pointerout",wt&amp;&amp;f!==Tu&amp;&amp;(ze=f.relatedTarget||f.fromElement)&amp;&amp;(ee(ze)||ze[W]))break t;if((Lt||wt)&amp;&amp;(wt=Vt.window===Vt?Vt:(wt=Vt.ownerDocument)?wt.defaultView||wt.parentWindow:window,Lt?(ze=f.relatedTarget||f.toElement,Lt=Et,ze=ze?ee(ze):null,ze!==null&amp;&amp;(li=o(ze),$e=ze.tag,ze!==li||$e!==5&amp;&amp;$e!==27&amp;&amp;$e!==6)&amp;&amp;(ze=null)):(Lt=null,ze=Et),Lt!==ze)){if($e=Ag,kt="onMouseLeave",yt="onMouseEnter",dt="mouse",(s==="pointerout"||s==="pointerover")&amp;&amp;($e=ch,kt="onPointerLeave",yt="onPointerEnter",dt="pointer"),li=Lt==null?wt:$(Lt),Mt=ze==null?wt:$(ze),wt=new $e(kt,dt+"leave",Lt,f,Vt),wt.target=li,wt.relatedTarget=Mt,kt=null,ee(Vt)===Et&amp;&amp;($e=new $e(yt,dt+"enter",ze,f,Vt),$e.target=Mt,$e.relatedTarget=li,kt=$e),li=kt,Lt&amp;&amp;ze)e:{for($e=g4,yt=Lt,dt=ze,Mt=0,kt=yt;kt;kt=$e(kt))Mt++;kt=0;for(var Ye=dt;Ye;Ye=$e(Ye))kt++;for(;0&lt;Mt-kt;)yt=$e(yt),Mt--;for(;0&lt;kt-Mt;)dt=$e(dt),kt--;for(;Mt--;){if(yt===dt||dt!==null&amp;&amp;yt===dt.alternate){$e=yt;break e}yt=$e(yt),dt=$e(dt)}$e=null}else $e=null;Lt!==null&amp;&amp;W3(Yt,wt,Lt,$e,!1),ze!==null&amp;&amp;li!==null&amp;&amp;W3(Yt,li,ze,$e,!0)}}t:{if(wt=Et?$(Et):window,Lt=wt.nodeName&amp;&amp;wt.nodeName.toLowerCase(),Lt==="select"||Lt==="input"&amp;&amp;wt.type==="file")var Zn=Up;else if(Dp(wt))if(Lu)Zn=Hg;else{Zn=Bo;var Fe=zu}else Lt=wt.nodeName,!Lt||Lt.toLowerCase()!=="input"||wt.type!=="checkbox"&amp;&amp;wt.type!=="radio"?Et&amp;&amp;Mu(Et.elementType)&amp;&amp;(Zn=Up):Zn=Fg;if(Zn&amp;&amp;(Zn=Zn(s,Et))){hh(Yt,Zn,f,Vt);break t}Fe&amp;&amp;Fe(s,wt,Et),s==="focusout"&amp;&amp;Et&amp;&amp;wt.type==="number"&amp;&amp;Et.memoizedProps.value!=null&amp;&amp;In(wt,"number",wt.value)}switch(Fe=Et?$(Et):window,s){case"focusin":(Dp(Fe)||Fe.contentEditable==="true")&amp;&amp;(yc=Fe,mh=Et,_c=null);break;case"focusout":_c=mh=yc=null;break;case"mousedown":fs=!0;break;case"contextmenu":case"mouseup":case"dragend":fs=!1,gh(Yt,f,Vt);break;case"selectionchange":if(Gg)break;case"keydown":case"keyup":gh(Yt,f,Vt)}var _n;if(El)t:{switch(s){case"compositionstart":var Bn="onCompositionStart";break t;case"compositionend":Bn="onCompositionEnd";break t;case"compositionupdate":Bn="onCompositionUpdate";break t}Bn=void 0}else zo?uh(s,f)&amp;&amp;(Bn="onCompositionEnd"):s==="keydown"&amp;&amp;f.keyCode===229&amp;&amp;(Bn="onCompositionStart");Bn&amp;&amp;(ca&amp;&amp;f.locale!=="ko"&amp;&amp;(zo||Bn!=="onCompositionStart"?Bn==="onCompositionEnd"&amp;&amp;zo&amp;&amp;(_n=sh()):(Do=Vt,ah="value"in Do?Do.value:Do.textContent,zo=!0)),Fe=Cx(Et,Bn),0&lt;Fe.length&amp;&amp;(Bn=new bp(Bn,s,null,f,Vt),Yt.push({event:Bn,listeners:Fe}),_n?Bn.data=_n:(_n=dc(f),_n!==null&amp;&amp;(Bn.data=_n)))),(_n=Tl?fh(s,f):Ig(s,f))&amp;&amp;(Bn=Cx(Et,"onBeforeInput"),0&lt;Bn.length&amp;&amp;(Fe=new bp("onBeforeInput","beforeinput",null,f,Vt),Yt.push({event:Fe,listeners:Bn}),Fe.data=_n)),h4(Yt,s,Et,f,Vt)}q3(Yt,r)})}function Um(s,r,f){return{instance:s,listener:r,currentTarget:f}}function Cx(s,r){for(var f=r+"Capture",m=[];s!==null;){var _=s,E=_.stateNode;if(_=_.tag,_!==5&amp;&amp;_!==26&amp;&amp;_!==27||E===null||(_=Sl(s,f),_!=null&amp;&amp;m.unshift(Um(s,_,E)),_=Sl(s,r),_!=null&amp;&amp;m.push(Um(s,_,E))),s.tag===3)return m;s=s.return}return[]}function g4(s){if(s===null)return null;do s=s.return;while(s&amp;&amp;s.tag!==5&amp;&amp;s.tag!==27);return s||null}function W3(s,r,f,m,_){for(var E=r._reactName,U=[];f!==null&amp;&amp;f!==m;){var X=f,lt=X.alternate,Et=X.stateNode;if(X=X.tag,lt!==null&amp;&amp;lt===m)break;X!==5&amp;&amp;X!==26&amp;&amp;X!==27||Et===null||(lt=Et,_?(Et=Sl(f,E),Et!=null&amp;&amp;U.unshift(Um(f,Et,lt))):_||(Et=Sl(f,E),Et!=null&amp;&amp;U.push(Um(f,Et,lt)))),f=f.return}U.length!==0&amp;&amp;s.push({event:r,listeners:U})}var x4=/\r\n?/g,v4=/\u0000|\uFFFD/g;function Z3(s){return(typeof s=="string"?s:""+s).replace(x4,`
-`).replace(v4,"")}function K3(s,r){return r=Z3(r),Z3(s)===r}function oi(s,r,f,m,_,E){switch(f){case"children":typeof m=="string"?r==="body"||r==="textarea"&amp;&amp;m===""||Js(s,m):(typeof m=="number"||typeof m=="bigint")&amp;&amp;r!=="body"&amp;&amp;Js(s,""+m);break;case"className":sn(s,"class",m);break;case"tabIndex":sn(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":sn(s,f,m);break;case"style":gp(s,m,E);break;case"data":if(r!=="object"){sn(s,"data",m);break}case"src":case"href":if(m===""&amp;&amp;(r!=="a"||f!=="href")){s.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=Eu(""+m),s.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&amp;&amp;(f==="formAction"?(r!=="input"&amp;&amp;oi(s,r,"name",_.name,_,null),oi(s,r,"formEncType",_.formEncType,_,null),oi(s,r,"formMethod",_.formMethod,_,null),oi(s,r,"formTarget",_.formTarget,_,null)):(oi(s,r,"encType",_.encType,_,null),oi(s,r,"method",_.method,_,null),oi(s,r,"target",_.target,_,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(f);break}m=Eu(""+m),s.setAttribute(f,m);break;case"onClick":m!=null&amp;&amp;(s.onclick=mr);break;case"onScroll":m!=null&amp;&amp;Nn("scroll",s);break;case"onScrollEnd":m!=null&amp;&amp;Nn("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"multiple":s.multiple=m&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol";break;case"muted":s.muted=m&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}f=Eu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol"?s.setAttribute(f,""+m):s.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol"?s.setAttribute(f,""):s.removeAttribute(f);break;case"capture":case"download":m===!0?s.setAttribute(f,""):m!==!1&amp;&amp;m!=null&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol"?s.setAttribute(f,m):s.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol"&amp;&amp;!isNaN(m)&amp;&amp;1&lt;=m?s.setAttribute(f,m):s.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(f):s.setAttribute(f,m);break;case"popover":Nn("beforetoggle",s),Nn("toggle",s),Re(s,"popover",m);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Re(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2&lt;f.length)||f[0]!=="o"&amp;&amp;f[0]!=="O"||f[1]!=="n"&amp;&amp;f[1]!=="N")&amp;&amp;(f=Eg.get(f)||f,Re(s,f,m))}}function u1(s,r,f,m,_,E){switch(f){case"style":gp(s,m,E);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(f=m.__html,f!=null){if(_.children!=null)throw Error(i(60));s.innerHTML=f}}break;case"children":typeof m=="string"?Js(s,m):(typeof m=="number"||typeof m=="bigint")&amp;&amp;Js(s,""+m);break;case"onScroll":m!=null&amp;&amp;Nn("scroll",s);break;case"onScrollEnd":m!=null&amp;&amp;Nn("scrollend",s);break;case"onClick":m!=null&amp;&amp;(s.onclick=mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ut.hasOwnProperty(f))t:{if(f[0]==="o"&amp;&amp;f[1]==="n"&amp;&amp;(_=f.endsWith("Capture"),r=f.slice(2,_?f.length-7:void 0),E=s[P]||null,E=E!=null?E[f]:null,typeof E=="function"&amp;&amp;s.removeEventListener(r,E,_),typeof m=="function")){typeof E!="function"&amp;&amp;E!==null&amp;&amp;(f in s?s[f]=null:s.hasAttribute(f)&amp;&amp;s.removeAttribute(f)),s.addEventListener(r,m,_);break t}f in s?s[f]=m:m===!0?s.setAttribute(f,""):Re(s,f,m)}}}function Pa(s,r,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nn("error",s),Nn("load",s);var m=!1,_=!1,E;for(E in f)if(f.hasOwnProperty(E)){var U=f[E];if(U!=null)switch(E){case"src":m=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:oi(s,r,E,U,f,null)}}_&amp;&amp;oi(s,r,"srcSet",f.srcSet,f,null),m&amp;&amp;oi(s,r,"src",f.src,f,null);return;case"input":Nn("invalid",s);var X=E=U=_=null,lt=null,Et=null;for(m in f)if(f.hasOwnProperty(m)){var Vt=f[m];if(Vt!=null)switch(m){case"name":_=Vt;break;case"type":U=Vt;break;case"checked":lt=Vt;break;case"defaultChecked":Et=Vt;break;case"value":E=Vt;break;case"defaultValue":X=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,r));break;default:oi(s,r,m,Vt,f,null)}}Rn(s,E,X,lt,Et,U,_,!1);return;case"select":Nn("invalid",s),m=U=E=null;for(_ in f)if(f.hasOwnProperty(_)&amp;&amp;(X=f[_],X!=null))switch(_){case"value":E=X;break;case"defaultValue":U=X;break;case"multiple":m=X;default:oi(s,r,_,X,f,null)}r=E,f=U,s.multiple=!!m,r!=null?$n(s,!!m,r,!1):f!=null&amp;&amp;$n(s,!!m,f,!0);return;case"textarea":Nn("invalid",s),E=_=m=null;for(U in f)if(f.hasOwnProperty(U)&amp;&amp;(X=f[U],X!=null))switch(U){case"value":m=X;break;case"defaultValue":_=X;break;case"children":E=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(91));break;default:oi(s,r,U,X,f,null)}vi(s,m,_,E);return;case"option":for(lt in f)if(f.hasOwnProperty(lt)&amp;&amp;(m=f[lt],m!=null))switch(lt){case"selected":s.selected=m&amp;&amp;typeof m!="function"&amp;&amp;typeof m!="symbol";break;default:oi(s,r,lt,m,f,null)}return;case"dialog":Nn("beforetoggle",s),Nn("toggle",s),Nn("cancel",s),Nn("close",s);break;case"iframe":case"object":Nn("load",s);break;case"video":case"audio":for(m=0;m&lt;Nm.length;m++)Nn(Nm[m],s);break;case"image":Nn("error",s),Nn("load",s);break;case"details":Nn("toggle",s);break;case"embed":case"source":case"link":Nn("error",s),Nn("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Et in f)if(f.hasOwnProperty(Et)&amp;&amp;(m=f[Et],m!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:oi(s,r,Et,m,f,null)}return;default:if(Mu(r)){for(Vt in f)f.hasOwnProperty(Vt)&amp;&amp;(m=f[Vt],m!==void 0&amp;&amp;u1(s,r,Vt,m,f,void 0));return}}for(X in f)f.hasOwnProperty(X)&amp;&amp;(m=f[X],m!=null&amp;&amp;oi(s,r,X,m,f,null))}function y4(s,r,f,m){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,E=null,U=null,X=null,lt=null,Et=null,Vt=null;for(Lt in f){var Yt=f[Lt];if(f.hasOwnProperty(Lt)&amp;&amp;Yt!=null)switch(Lt){case"checked":break;case"value":break;case"defaultValue":lt=Yt;default:m.hasOwnProperty(Lt)||oi(s,r,Lt,null,m,Yt)}}for(var wt in m){var Lt=m[wt];if(Yt=f[wt],m.hasOwnProperty(wt)&amp;&amp;(Lt!=null||Yt!=null))switch(wt){case"type":E=Lt;break;case"name":_=Lt;break;case"checked":Et=Lt;break;case"defaultChecked":Vt=Lt;break;case"value":U=Lt;break;case"defaultValue":X=Lt;break;case"children":case"dangerouslySetInnerHTML":if(Lt!=null)throw Error(i(137,r));break;default:Lt!==Yt&amp;&amp;oi(s,r,wt,Lt,m,Yt)}}pi(s,U,X,lt,Et,Vt,E,_);return;case"select":Lt=U=X=wt=null;for(E in f)if(lt=f[E],f.hasOwnProperty(E)&amp;&amp;lt!=null)switch(E){case"value":break;case"multiple":Lt=lt;default:m.hasOwnProperty(E)||oi(s,r,E,null,m,lt)}for(_ in m)if(E=m[_],lt=f[_],m.hasOwnProperty(_)&amp;&amp;(E!=null||lt!=null))switch(_){case"value":wt=E;break;case"defaultValue":X=E;break;case"multiple":U=E;default:E!==lt&amp;&amp;oi(s,r,_,E,m,lt)}r=X,f=U,m=Lt,wt!=null?$n(s,!!f,wt,!1):!!m!=!!f&amp;&amp;(r!=null?$n(s,!!f,r,!0):$n(s,!!f,f?[]:"",!1));return;case"textarea":Lt=wt=null;for(X in f)if(_=f[X],f.hasOwnProperty(X)&amp;&amp;_!=null&amp;&amp;!m.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:oi(s,r,X,null,m,_)}for(U in m)if(_=m[U],E=f[U],m.hasOwnProperty(U)&amp;&amp;(_!=null||E!=null))switch(U){case"value":wt=_;break;case"defaultValue":Lt=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==E&amp;&amp;oi(s,r,U,_,m,E)}Yi(s,wt,Lt);return;case"option":for(var ze in f)if(wt=f[ze],f.hasOwnProperty(ze)&amp;&amp;wt!=null&amp;&amp;!m.hasOwnProperty(ze))switch(ze){case"selected":s.selected=!1;break;default:oi(s,r,ze,null,m,wt)}for(lt in m)if(wt=m[lt],Lt=f[lt],m.hasOwnProperty(lt)&amp;&amp;wt!==Lt&amp;&amp;(wt!=null||Lt!=null))switch(lt){case"selected":s.selected=wt&amp;&amp;typeof wt!="function"&amp;&amp;typeof wt!="symbol";break;default:oi(s,r,lt,wt,m,Lt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in f)wt=f[$e],f.hasOwnProperty($e)&amp;&amp;wt!=null&amp;&amp;!m.hasOwnProperty($e)&amp;&amp;oi(s,r,$e,null,m,wt);for(Et in m)if(wt=m[Et],Lt=f[Et],m.hasOwnProperty(Et)&amp;&amp;wt!==Lt&amp;&amp;(wt!=null||Lt!=null))switch(Et){case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(i(137,r));break;default:oi(s,r,Et,wt,m,Lt)}return;default:if(Mu(r)){for(var li in f)wt=f[li],f.hasOwnProperty(li)&amp;&amp;wt!==void 0&amp;&amp;!m.hasOwnProperty(li)&amp;&amp;u1(s,r,li,void 0,m,wt);for(Vt in m)wt=m[Vt],Lt=f[Vt],!m.hasOwnProperty(Vt)||wt===Lt||wt===void 0&amp;&amp;Lt===void 0||u1(s,r,Vt,wt,m,Lt);return}}for(var yt in f)wt=f[yt],f.hasOwnProperty(yt)&amp;&amp;wt!=null&amp;&amp;!m.hasOwnProperty(yt)&amp;&amp;oi(s,r,yt,null,m,wt);for(Yt in m)wt=m[Yt],Lt=f[Yt],!m.hasOwnProperty(Yt)||wt===Lt||wt==null&amp;&amp;Lt==null||oi(s,r,Yt,wt,m,Lt)}function Q3(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _4(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,f=performance.getEntriesByType("resource"),m=0;m&lt;f.length;m++){var _=f[m],E=_.transferSize,U=_.initiatorType,X=_.duration;if(E&amp;&amp;X&amp;&amp;Q3(U)){for(U=0,X=_.responseEnd,m+=1;m&lt;f.length;m++){var lt=f[m],Et=lt.startTime;if(Et&gt;X)break;var Vt=lt.transferSize,Yt=lt.initiatorType;Vt&amp;&amp;Q3(Yt)&amp;&amp;(lt=lt.responseEnd,U+=Vt*(lt&lt;X?1:(X-Et)/(lt-Et)))}if(--m,r+=8*(E+U)/(_.duration/1e3),s++,10&lt;s)break}}if(0&lt;s)return r/s/1e6}return navigator.connection&amp;&amp;(s=navigator.connection.downlink,typeof s=="number")?s:5}var f1=null,h1=null;function Rx(s){return s.nodeType===9?s:s.ownerDocument}function J3(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $3(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&amp;&amp;r==="foreignObject"?0:s}function d1(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&amp;&amp;r.dangerouslySetInnerHTML!==null&amp;&amp;r.dangerouslySetInnerHTML.__html!=null}var p1=null;function b4(){var s=window.event;return s&amp;&amp;s.type==="popstate"?s===p1?!1:(p1=s,!0):(p1=null,!1)}var t2=typeof setTimeout=="function"?setTimeout:void 0,S4=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,M4=typeof queueMicrotask=="function"?queueMicrotask:typeof e2&lt;"u"?function(s){return e2.resolve(null).then(s).catch(E4)}:t2;function E4(s){setTimeout(function(){throw s})}function kc(s){return s==="head"}function n2(s,r){var f=r,m=0;do{var _=f.nextSibling;if(s.removeChild(f),_&amp;&amp;_.nodeType===8)if(f=_.data,f==="/$"||f==="/&amp;"){if(m===0){s.removeChild(_),sd(r);return}m--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&amp;")m++;else if(f==="html")Om(s.ownerDocument.documentElement);else if(f==="head"){f=s.ownerDocument.head,Om(f);for(var E=f.firstChild;E;){var U=E.nextSibling,X=E.nodeName;E[ae]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&amp;&amp;E.rel.toLowerCase()==="stylesheet"||f.removeChild(E),E=U}}else f==="body"&amp;&amp;Om(s.ownerDocument.body);f=_}while(f);sd(r)}function i2(s,r){var f=s;s=0;do{var m=f.nextSibling;if(f.nodeType===1?r?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&amp;&amp;f.removeAttribute("style")):f.nodeType===3&amp;&amp;(r?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),m&amp;&amp;m.nodeType===8)if(f=m.data,f==="/$"){if(s===0)break;s--}else f!=="$"&amp;&amp;f!=="$?"&amp;&amp;f!=="$~"&amp;&amp;f!=="$!"||s++;f=m}while(f)}function m1(s){var r=s.firstChild;for(r&amp;&amp;r.nodeType===10&amp;&amp;(r=r.nextSibling);r;){var f=r;switch(r=r.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":m1(f),$t(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}s.removeChild(f)}}function T4(s,r,f,m){for(;s.nodeType===1;){var _=f;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!m&amp;&amp;(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ae])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(E=s.getAttribute("rel"),E==="stylesheet"&amp;&amp;s.hasAttribute("data-precedence"))break;if(E!==_.rel||s.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||s.getAttribute("title")!==(_.title==null?null:_.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(E=s.getAttribute("src"),(E!==(_.src==null?null:_.src)||s.getAttribute("type")!==(_.type==null?null:_.type)||s.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&amp;&amp;E&amp;&amp;s.hasAttribute("async")&amp;&amp;!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&amp;&amp;s.type==="hidden"){var E=_.name==null?null:""+_.name;if(_.type==="hidden"&amp;&amp;s.getAttribute("name")===E)return s}else return s;if(s=Ur(s.nextSibling),s===null)break}return null}function A4(s,r,f){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&amp;&amp;!f||(s=Ur(s.nextSibling),s===null))return null;return s}function a2(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&amp;&amp;!r||(s=Ur(s.nextSibling),s===null))return null;return s}function g1(s){return s.data==="$?"||s.data==="$~"}function x1(s){return s.data==="$!"||s.data==="$?"&amp;&amp;s.ownerDocument.readyState!=="loading"}function w4(s,r){var f=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||f.readyState!=="loading")r();else{var m=function(){r(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Ur(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&amp;"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&amp;")return null}}return s}var v1=null;function s2(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"||f==="/&amp;"){if(r===0)return Ur(s.nextSibling);r--}else f!=="$"&amp;&amp;f!=="$!"&amp;&amp;f!=="$?"&amp;&amp;f!=="$~"&amp;&amp;f!=="&amp;"||r++}s=s.nextSibling}return null}function r2(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&amp;"){if(r===0)return s;r--}else f!=="/$"&amp;&amp;f!=="/&amp;"||r++}s=s.previousSibling}return null}function o2(s,r,f){switch(r=Rx(f),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Om(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);$t(s)}var Or=new Map,l2=new Set;function Dx(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Wl=tt.d;tt.d={f:C4,r:R4,D:D4,C:N4,L:U4,m:O4,X:z4,S:L4,M:B4};function C4(){var s=Wl.f(),r=q();return s||r}function R4(s){var r=V(s);r!==null&amp;&amp;r.tag===5&amp;&amp;r.type==="form"?Sm(r):Wl.r(s)}var nd=typeof document&gt;"u"?null:document;function c2(s,r,f){var m=nd;if(m&amp;&amp;typeof r=="string"&amp;&amp;r){var _=je(r);_='link[rel="'+s+'"][href="'+_+'"]',typeof f=="string"&amp;&amp;(_+='[crossorigin="'+f+'"]'),l2.has(_)||(l2.add(_),s={rel:s,crossOrigin:f,href:r},m.querySelector(_)===null&amp;&amp;(r=m.createElement("link"),Pa(r,"link",s),gt(r),m.head.appendChild(r)))}}function D4(s){Wl.D(s),c2("dns-prefetch",s,null)}function N4(s,r){Wl.C(s,r),c2("preconnect",s,r)}function U4(s,r,f){Wl.L(s,r,f);var m=nd;if(m&amp;&amp;s&amp;&amp;r){var _='link[rel="preload"][as="'+je(r)+'"]';r==="image"&amp;&amp;f&amp;&amp;f.imageSrcSet?(_+='[imagesrcset="'+je(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&amp;&amp;(_+='[imagesizes="'+je(f.imageSizes)+'"]')):_+='[href="'+je(s)+'"]';var E=_;switch(r){case"style":E=id(s);break;case"script":E=ad(s)}Or.has(E)||(s=v({rel:"preload",href:r==="image"&amp;&amp;f&amp;&amp;f.imageSrcSet?void 0:s,as:r},f),Or.set(E,s),m.querySelector(_)!==null||r==="style"&amp;&amp;m.querySelector(Lm(E))||r==="script"&amp;&amp;m.querySelector(zm(E))||(r=m.createElement("link"),Pa(r,"link",s),gt(r),m.head.appendChild(r)))}}function O4(s,r){Wl.m(s,r);var f=nd;if(f&amp;&amp;s){var m=r&amp;&amp;typeof r.as=="string"?r.as:"script",_='link[rel="modulepreload"][as="'+je(m)+'"][href="'+je(s)+'"]',E=_;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ad(s)}if(!Or.has(E)&amp;&amp;(s=v({rel:"modulepreload",href:s},r),Or.set(E,s),f.querySelector(_)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(zm(E)))return}m=f.createElement("link"),Pa(m,"link",s),gt(m),f.head.appendChild(m)}}}function L4(s,r,f){Wl.S(s,r,f);var m=nd;if(m&amp;&amp;s){var _=st(m).hoistableStyles,E=id(s);r=r||"default";var U=_.get(E);if(!U){var X={loading:0,preload:null};if(U=m.querySelector(Lm(E)))X.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":r},f),(f=Or.get(E))&amp;&amp;y1(s,f);var lt=U=m.createElement("link");gt(lt),Pa(lt,"link",s),lt._p=new Promise(function(Et,Vt){lt.onload=Et,lt.onerror=Vt}),lt.addEventListener("load",function(){X.loading|=1}),lt.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Nx(U,r,m)}U={type:"stylesheet",instance:U,count:1,state:X},_.set(E,U)}}}function z4(s,r){Wl.X(s,r);var f=nd;if(f&amp;&amp;s){var m=st(f).hoistableScripts,_=ad(s),E=m.get(_);E||(E=f.querySelector(zm(_)),E||(s=v({src:s,async:!0},r),(r=Or.get(_))&amp;&amp;_1(s,r),E=f.createElement("script"),gt(E),Pa(E,"link",s),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(_,E))}}function B4(s,r){Wl.M(s,r);var f=nd;if(f&amp;&amp;s){var m=st(f).hoistableScripts,_=ad(s),E=m.get(_);E||(E=f.querySelector(zm(_)),E||(s=v({src:s,async:!0,type:"module"},r),(r=Or.get(_))&amp;&amp;_1(s,r),E=f.createElement("script"),gt(E),Pa(E,"link",s),f.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},m.set(_,E))}}function u2(s,r,f,m){var _=(_=mt.current)?Dx(_):null;if(!_)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&amp;&amp;typeof f.href=="string"?(r=id(f.href),f=st(_).hoistableStyles,m=f.get(r),m||(m={type:"style",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&amp;&amp;typeof f.href=="string"&amp;&amp;typeof f.precedence=="string"){s=id(f.href);var E=st(_).hoistableStyles,U=E.get(s);if(U||(_=_.ownerDocument||_,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(s,U),(E=_.querySelector(Lm(s)))&amp;&amp;!E._p&amp;&amp;(U.instance=E,U.state.loading=5),Or.has(s)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Or.set(s,f),E||I4(_,s,f,U.state))),r&amp;&amp;m===null)throw Error(i(528,""));return U}if(r&amp;&amp;m!==null)throw Error(i(529,""));return null;case"script":return r=f.async,f=f.src,typeof f=="string"&amp;&amp;r&amp;&amp;typeof r!="function"&amp;&amp;typeof r!="symbol"?(r=ad(f),f=st(_).hoistableScripts,m=f.get(r),m||(m={type:"script",instance:null,count:0,state:null},f.set(r,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function id(s){return'href="'+je(s)+'"'}function Lm(s){return'link[rel="stylesheet"]['+s+"]"}function f2(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function I4(s,r,f,m){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?m.loading=1:(r=s.createElement("link"),m.preload=r,r.addEventListener("load",function(){return m.loading|=1}),r.addEventListener("error",function(){return m.loading|=2}),Pa(r,"link",f),gt(r),s.head.appendChild(r))}function ad(s){return'[src="'+je(s)+'"]'}function zm(s){return"script[async]"+s}function h2(s,r,f){if(r.count++,r.instance===null)switch(r.type){case"style":var m=s.querySelector('style[data-href~="'+je(f.href)+'"]');if(m)return r.instance=m,gt(m),m;var _=v({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),gt(m),Pa(m,"style",_),Nx(m,f.precedence,s),r.instance=m;case"stylesheet":_=id(f.href);var E=s.querySelector(Lm(_));if(E)return r.state.loading|=4,r.instance=E,gt(E),E;m=f2(f),(_=Or.get(_))&amp;&amp;y1(m,_),E=(s.ownerDocument||s).createElement("link"),gt(E);var U=E;return U._p=new Promise(function(X,lt){U.onload=X,U.onerror=lt}),Pa(E,"link",m),r.state.loading|=4,Nx(E,f.precedence,s),r.instance=E;case"script":return E=ad(f.src),(_=s.querySelector(zm(E)))?(r.instance=_,gt(_),_):(m=f,(_=Or.get(E))&amp;&amp;(m=v({},f),_1(m,_)),s=s.ownerDocument||s,_=s.createElement("script"),gt(_),Pa(_,"link",m),s.head.appendChild(_),r.instance=_);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&amp;&amp;(r.state.loading&amp;4)===0&amp;&amp;(m=r.instance,r.state.loading|=4,Nx(m,f.precedence,s));return r.instance}function Nx(s,r,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=m.length?m[m.length-1]:null,E=_,U=0;U&lt;m.length;U++){var X=m[U];if(X.dataset.precedence===r)E=X;else if(E!==_)break}E?E.parentNode.insertBefore(s,E.nextSibling):(r=f.nodeType===9?f.head:f,r.insertBefore(s,r.firstChild))}function y1(s,r){s.crossOrigin==null&amp;&amp;(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&amp;&amp;(s.referrerPolicy=r.referrerPolicy),s.title==null&amp;&amp;(s.title=r.title)}function _1(s,r){s.crossOrigin==null&amp;&amp;(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&amp;&amp;(s.referrerPolicy=r.referrerPolicy),s.integrity==null&amp;&amp;(s.integrity=r.integrity)}var Ux=null;function d2(s,r,f){if(Ux===null){var m=new Map,_=Ux=new Map;_.set(f,m)}else _=Ux,m=_.get(f),m||(m=new Map,_.set(f,m));if(m.has(s))return m;for(m.set(s,null),f=f.getElementsByTagName(s),_=0;_&lt;f.length;_++){var E=f[_];if(!(E[ae]||E[un]||s==="link"&amp;&amp;E.getAttribute("rel")==="stylesheet")&amp;&amp;E.namespaceURI!=="http://www.w3.org/2000/svg"){var U=E.getAttribute(r)||"";U=s+U;var X=m.get(U);X?X.push(E):m.set(U,[E])}}return m}function p2(s,r,f){s=s.ownerDocument||s,s.head.insertBefore(f,r==="title"?s.querySelector("head &gt; title"):null)}function P4(s,r,f){if(f===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&amp;&amp;s==null;default:return!0}case"script":if(r.async&amp;&amp;typeof r.async!="function"&amp;&amp;typeof r.async!="symbol"&amp;&amp;!r.onLoad&amp;&amp;!r.onError&amp;&amp;r.src&amp;&amp;typeof r.src=="string")return!0}return!1}function m2(s){return!(s.type==="stylesheet"&amp;&amp;(s.state.loading&amp;3)===0)}function V4(s,r,f,m){if(f.type==="stylesheet"&amp;&amp;(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&amp;&amp;(f.state.loading&amp;4)===0){if(f.instance===null){var _=id(m.href),E=r.querySelector(Lm(_));if(E){r=E._p,r!==null&amp;&amp;typeof r=="object"&amp;&amp;typeof r.then=="function"&amp;&amp;(s.count++,s=Ox.bind(s),r.then(s,s)),f.state.loading|=4,f.instance=E,gt(E);return}E=r.ownerDocument||r,m=f2(m),(_=Or.get(_))&amp;&amp;y1(m,_),E=E.createElement("link"),gt(E);var U=E;U._p=new Promise(function(X,lt){U.onload=X,U.onerror=lt}),Pa(E,"link",m),f.instance=E}s.stylesheets===null&amp;&amp;(s.stylesheets=new Map),s.stylesheets.set(f,r),(r=f.state.preload)&amp;&amp;(f.state.loading&amp;3)===0&amp;&amp;(s.count++,f=Ox.bind(s),r.addEventListener("load",f),r.addEventListener("error",f))}}var b1=0;function F4(s,r){return s.stylesheets&amp;&amp;s.count===0&amp;&amp;zx(s,s.stylesheets),0&lt;s.count||0&lt;s.imgCount?function(f){var m=setTimeout(function(){if(s.stylesheets&amp;&amp;zx(s,s.stylesheets),s.unsuspend){var E=s.unsuspend;s.unsuspend=null,E()}},6e4+r);0&lt;s.imgBytes&amp;&amp;b1===0&amp;&amp;(b1=62500*_4());var _=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&amp;&amp;(s.stylesheets&amp;&amp;zx(s,s.stylesheets),s.unsuspend)){var E=s.unsuspend;s.unsuspend=null,E()}},(s.imgBytes&gt;b1?50:800)+r);return s.unsuspend=f,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(_)}}:null}function Ox(){if(this.count--,this.count===0&amp;&amp;(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zx(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Lx=null;function zx(s,r){s.stylesheets=null,s.unsuspend!==null&amp;&amp;(s.count++,Lx=new Map,r.forEach(H4,s),Lx=null,Ox.call(s))}function H4(s,r){if(!(r.state.loading&amp;4)){var f=Lx.get(s);if(f)var m=f.get(null);else{f=new Map,Lx.set(s,f);for(var _=s.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E&lt;_.length;E++){var U=_[E];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&amp;&amp;(f.set(U.dataset.precedence,U),m=U)}m&amp;&amp;f.set(null,m)}_=r.instance,U=_.getAttribute("data-precedence"),E=f.get(U)||m,E===m&amp;&amp;f.set(null,_),f.set(U,_),this.count++,m=Ox.bind(this),_.addEventListener("load",m),_.addEventListener("error",m),E?E.parentNode.insertBefore(_,E.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(_,s.firstChild)),r.state.loading|=4}}var Bm={$$typeof:D,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function G4(s,r,f,m,_,E,U,X,lt){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=En(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=En(0),this.hiddenUpdates=En(null),this.identifierPrefix=m,this.onUncaughtError=_,this.onCaughtError=E,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=lt,this.incompleteTransitions=new Map}function g2(s,r,f,m,_,E,U,X,lt,Et,Vt,Yt){return s=new G4(s,r,f,U,lt,Et,Vt,Yt,X),r=1,E===!0&amp;&amp;(r|=24),E=Ua(3,null,null,r),s.current=E,E.stateNode=s,r=kp(),r.refCount++,s.pooledCache=r,r.refCount++,E.memoizedState={element:m,isDehydrated:f,cache:r},Kp(E),s}function x2(s){return s?(s=jo,s):jo}function v2(s,r,f,m,_,E){_=x2(_),m.context===null?m.context=_:m.pendingContext=_,m=Mr(r),m.payload={element:f},E=E===void 0?null:E,E!==null&amp;&amp;(m.callback=E),f=eo(s,m,r),f!==null&amp;&amp;(u(f,s,r),Qo(f,s,r))}function y2(s,r){if(s=s.memoizedState,s!==null&amp;&amp;s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&amp;&amp;f&lt;r?f:r}}function S1(s,r){y2(s,r),(s=s.alternate)&amp;&amp;y2(s,r)}function _2(s){if(s.tag===13||s.tag===31){var r=Go(s,67108864);r!==null&amp;&amp;u(r,s,67108864),S1(s,67108864)}}function b2(s){if(s.tag===13||s.tag===31){var r=Ia();r=zi(r);var f=Go(s,r);f!==null&amp;&amp;u(f,s,r),S1(s,r)}}var Bx=!0;function j4(s,r,f,m){var _=k.T;k.T=null;var E=tt.p;try{tt.p=2,M1(s,r,f,m)}finally{tt.p=E,k.T=_}}function k4(s,r,f,m){var _=k.T;k.T=null;var E=tt.p;try{tt.p=8,M1(s,r,f,m)}finally{tt.p=E,k.T=_}}function M1(s,r,f,m){if(Bx){var _=E1(m);if(_===null)c1(s,r,m,Ix,f),M2(s,m);else if(q4(_,s,r,f,m))m.stopPropagation();else if(M2(s,m),r&amp;4&amp;&amp;-1&lt;X4.indexOf(s)){for(;_!==null;){var E=V(_);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var U=Jt(E.pendingLanes);if(U!==0){var X=E;for(X.pendingLanes|=2,X.entangledLanes|=2;U;){var lt=1&lt;&lt;31-be(U);X.entanglements[1]|=lt,U&amp;=~lt}rl(E),(Ln&amp;6)===0&amp;&amp;(Ts=j()+500,Dm(0))}}break;case 31:case 13:X=Go(E,2),X!==null&amp;&amp;u(X,E,2),q(),S1(E,2)}if(E=E1(m),E===null&amp;&amp;c1(s,r,m,Ix,f),E===_)break;_=E}_!==null&amp;&amp;m.stopPropagation()}else c1(s,r,m,null,f)}}function E1(s){return s=eh(s),T1(s)}var Ix=null;function T1(s){if(Ix=null,s=ee(s),s!==null){var r=o(s);if(r===null)s=null;else{var f=r.tag;if(f===13){if(s=l(r),s!==null)return s;s=null}else if(f===31){if(s=h(r),s!==null)return s;s=null}else if(f===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&amp;&amp;(s=null)}}return Ix=s,null}function S2(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(St()){case Pt:return 2;case Wt:return 8;case Ot:case Ne:return 32;case pe:return 268435456;default:return 32}default:return 32}}var A1=!1,Xc=null,qc=null,Yc=null,Im=new Map,Pm=new Map,Wc=[],X4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M2(s,r){switch(s){case"focusin":case"focusout":Xc=null;break;case"dragenter":case"dragleave":qc=null;break;case"mouseover":case"mouseout":Yc=null;break;case"pointerover":case"pointerout":Im.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pm.delete(r.pointerId)}}function Vm(s,r,f,m,_,E){return s===null||s.nativeEvent!==E?(s={blockedOn:r,domEventName:f,eventSystemFlags:m,nativeEvent:E,targetContainers:[_]},r!==null&amp;&amp;(r=V(r),r!==null&amp;&amp;_2(r)),s):(s.eventSystemFlags|=m,r=s.targetContainers,_!==null&amp;&amp;r.indexOf(_)===-1&amp;&amp;r.push(_),s)}function q4(s,r,f,m,_){switch(r){case"focusin":return Xc=Vm(Xc,s,r,f,m,_),!0;case"dragenter":return qc=Vm(qc,s,r,f,m,_),!0;case"mouseover":return Yc=Vm(Yc,s,r,f,m,_),!0;case"pointerover":var E=_.pointerId;return Im.set(E,Vm(Im.get(E)||null,s,r,f,m,_)),!0;case"gotpointercapture":return E=_.pointerId,Pm.set(E,Vm(Pm.get(E)||null,s,r,f,m,_)),!0}return!1}function E2(s){var r=ee(s.target);if(r!==null){var f=o(r);if(f!==null){if(r=f.tag,r===13){if(r=l(f),r!==null){s.blockedOn=r,Je(s.priority,function(){b2(f)});return}}else if(r===31){if(r=h(f),r!==null){s.blockedOn=r,Je(s.priority,function(){b2(f)});return}}else if(r===3&amp;&amp;f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Px(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0&lt;r.length;){var f=E1(s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Tu=m,f.target.dispatchEvent(m),Tu=null}else return r=V(f),r!==null&amp;&amp;_2(r),s.blockedOn=f,!1;r.shift()}return!0}function T2(s,r,f){Px(s)&amp;&amp;f.delete(r)}function Y4(){A1=!1,Xc!==null&amp;&amp;Px(Xc)&amp;&amp;(Xc=null),qc!==null&amp;&amp;Px(qc)&amp;&amp;(qc=null),Yc!==null&amp;&amp;Px(Yc)&amp;&amp;(Yc=null),Im.forEach(T2),Pm.forEach(T2)}function Vx(s,r){s.blockedOn===r&amp;&amp;(s.blockedOn=null,A1||(A1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y4)))}var Fx=null;function A2(s){Fx!==s&amp;&amp;(Fx=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Fx===s&amp;&amp;(Fx=null);for(var r=0;r&lt;s.length;r+=3){var f=s[r],m=s[r+1],_=s[r+2];if(typeof m!="function"){if(T1(m||f)===null)continue;break}var E=V(f);E!==null&amp;&amp;(s.splice(r,3),r-=3,bm(E,{pending:!0,data:_,method:f.method,action:m},m,_))}}))}function sd(s){function r(lt){return Vx(lt,s)}Xc!==null&amp;&amp;Vx(Xc,s),qc!==null&amp;&amp;Vx(qc,s),Yc!==null&amp;&amp;Vx(Yc,s),Im.forEach(r),Pm.forEach(r);for(var f=0;f&lt;Wc.length;f++){var m=Wc[f];m.blockedOn===s&amp;&amp;(m.blockedOn=null)}for(;0&lt;Wc.length&amp;&amp;(f=Wc[0],f.blockedOn===null);)E2(f),f.blockedOn===null&amp;&amp;Wc.shift();if(f=(s.ownerDocument||s).$$reactFormReplay,f!=null)for(m=0;m&lt;f.length;m+=3){var _=f[m],E=f[m+1],U=_[P]||null;if(typeof E=="function")U||A2(f);else if(U){var X=null;if(E&amp;&amp;E.hasAttribute("formAction")){if(_=E,U=E[P]||null)X=U.formAction;else if(T1(_)!==null)continue}else X=U.action;typeof X=="function"?f[m+1]=X:(f.splice(m,3),m-=3),A2(f)}}}function w2(){function s(E){E.canIntercept&amp;&amp;E.info==="react-transition"&amp;&amp;E.intercept({handler:function(){return new Promise(function(U){return _=U})},focusReset:"manual",scroll:"manual"})}function r(){_!==null&amp;&amp;(_(),_=null),m||setTimeout(f,20)}function f(){if(!m&amp;&amp;!navigation.transition){var E=navigation.currentEntry;E&amp;&amp;E.url!=null&amp;&amp;navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,_=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(f,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),_!==null&amp;&amp;(_(),_=null)}}}function w1(s){this._internalRoot=s}Hx.prototype.render=w1.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var f=r.current,m=Ia();v2(f,m,s,r,null,null)},Hx.prototype.unmount=w1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;v2(s.current,2,null,s,null,null),q(),r[W]=null}};function Hx(s){this._internalRoot=s}Hx.prototype.unstable_scheduleHydration=function(s){if(s){var r=ta();s={blockedOn:null,target:s,priority:r};for(var f=0;f&lt;Wc.length&amp;&amp;r!==0&amp;&amp;r&lt;Wc[f].priority;f++);Wc.splice(f,0,s),f===0&amp;&amp;E2(s)}};var C2=t.version;if(C2!=="19.2.0")throw Error(i(527,C2,"19.2.0"));tt.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=p(r),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var W4={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&lt;"u"){var Gx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gx.isDisabled&amp;&amp;Gx.supportsFiber)try{Gt=Gx.inject(W4),jt=Gx}catch{}}return Hm.createRoot=function(s,r){if(!a(s))throw Error(i(299));var f=!1,m="",_=Tm,E=_x,U=Gh;return r!=null&amp;&amp;(r.unstable_strictMode===!0&amp;&amp;(f=!0),r.identifierPrefix!==void 0&amp;&amp;(m=r.identifierPrefix),r.onUncaughtError!==void 0&amp;&amp;(_=r.onUncaughtError),r.onCaughtError!==void 0&amp;&amp;(E=r.onCaughtError),r.onRecoverableError!==void 0&amp;&amp;(U=r.onRecoverableError)),r=g2(s,1,!1,null,null,f,m,null,_,E,U,w2),s[W]=r.current,l1(s),new w1(r)},Hm.hydrateRoot=function(s,r,f){if(!a(s))throw Error(i(299));var m=!1,_="",E=Tm,U=_x,X=Gh,lt=null;return f!=null&amp;&amp;(f.unstable_strictMode===!0&amp;&amp;(m=!0),f.identifierPrefix!==void 0&amp;&amp;(_=f.identifierPrefix),f.onUncaughtError!==void 0&amp;&amp;(E=f.onUncaughtError),f.onCaughtError!==void 0&amp;&amp;(U=f.onCaughtError),f.onRecoverableError!==void 0&amp;&amp;(X=f.onRecoverableError),f.formState!==void 0&amp;&amp;(lt=f.formState)),r=g2(s,1,!0,r,f??null,m,_,lt,E,U,X,w2),r.context=x2(null),f=r.current,m=Ia(),m=zi(m),_=Mr(m),_.callback=null,eo(f,_,m),f=m,r.current.lanes=f,Xi(r,f),rl(r),s[W]=r.current,l1(s),new Hx(r)},Hm.version="19.2.0",Hm}var P2;function rU(){if(P2)return D1.exports;P2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&gt;"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),D1.exports=sU(),D1.exports}var Vw=rU();const oU=i_(Vw);var L1={exports:{}},Zl={};/**
- * @license React
- * react-reconciler-constants.production.js
- *
- * Copyright (c) Meta Platforms, Inc. and affiliates.
- *
- * This source code is licensed under the MIT license found in the
- * LICENSE file in the root directory of this source tree.
- */var V2;function lU(){return V2||(V2=1,Zl.ConcurrentRoot=1,Zl.ContinuousEventPriority=8,Zl.DefaultEventPriority=32,Zl.DiscreteEventPriority=2,Zl.IdleEventPriority=268435456,Zl.LegacyRoot=0,Zl.NoEventPriority=0),Zl}var F2;function cU(){return F2||(F2=1,L1.exports=lU()),L1.exports}var Zv=cU();/**
- * @license
- * Copyright 2010-2025 Three.js Authors
- * SPDX-License-Identifier: MIT
- */const Qf="181",uU={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},fU={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Fw=0,sS=1,Hw=2,hU=3,Gw=0,a_=1,x0=2,_o=3,oc=0,Os=1,So=2,To=0,Gf=1,rS=2,oS=3,lS=4,jw=5,ru=100,kw=101,Xw=102,qw=103,Yw=104,Ww=200,Zw=201,Kw=202,Qw=203,ay=204,sy=205,Jw=206,$w=207,tC=208,eC=209,nC=210,iC=211,aC=212,sC=213,rC=214,ry=0,oy=1,ly=2,Yf=3,cy=4,uy=5,fy=6,hy=7,sg=0,oC=1,lC=2,fl=0,cC=1,uC=2,fC=3,$S=4,hC=5,dC=6,pC=7,cS="attached",mC="detached",fu=300,pl=301,hu=302,Xd=303,L0=304,op=306,z0=1e3,Gi=1001,B0=1002,Ha=1003,tM=1004,dU=1004,Ud=1005,pU=1005,Jn=1006,v0=1007,mU=1007,cl=1008,uS=1008,Ls=1009,s_=1010,r_=1011,qd=1012,rg=1013,ml=1014,Li=1015,ma=1016,o_=1017,l_=1018,Yd=1020,eM=35902,nM=35899,iM=1021,aM=1022,$i=1023,Wd=1026,Zd=1027,og=1028,lg=1029,c_=1030,u_=1031,gU=1032,f_=1033,y0=33776,_0=33777,b0=33778,S0=33779,dy=35840,py=35841,my=35842,gy=35843,xy=36196,vy=37492,yy=37496,_y=37808,by=37809,Sy=37810,My=37811,Ey=37812,Ty=37813,Ay=37814,wy=37815,Cy=37816,Ry=37817,Dy=37818,Ny=37819,Uy=37820,Oy=37821,Ly=36492,zy=36494,By=36495,Iy=36283,Py=36284,Vy=36285,Fy=36286,gC=2200,xC=2201,vC=2202,I0=2300,Hy=2301,Kv=2302,Lf=2400,zf=2401,P0=2402,h_=2500,sM=2501,xU=0,vU=1,yU=2,yC=3200,_C=3201,_U=3202,bU=3203,xu=0,bC=1,ac="",Fa="srgb",Ao="srgb-linear",V0="linear",ai="srgb",SU=0,Df=7680,MU=7681,EU=7682,TU=7683,AU=34055,wU=34056,CU=5386,RU=512,DU=513,NU=514,UU=515,OU=516,LU=517,zU=518,fS=519,SC=512,MC=513,EC=514,rM=515,TC=516,AC=517,wC=518,CC=519,F0=35044,hS=35048,BU=35040,IU=35045,PU=35049,VU=35041,FU=35046,HU=35050,GU=35042,jU="100",dS="300 es",hr=2e3,Kd=2001,kU={COMPUTE:"compute",RENDER:"render"},XU={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},qU={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function RC(n){for(let t=n.length-1;t&gt;=0;--t)if(n[t]&gt;=65535)return!0;return!1}const YU={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Od(n,t){return new YU[n](t)}function H0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function DC(){const n=H0("canvas");return n.style.display="block",n}const H2={};let du=null;function WU(n){du=n}function ZU(){return du}function G0(...n){const t="THREE."+n.shift();du?du("log",t,...n):console.log(t,...n)}function _e(...n){const t="THREE."+n.shift();du?du("warn",t,...n):console.warn(t,...n)}function on(...n){const t="THREE."+n.shift();du?du("error",t,...n):console.error(t,...n)}function Qd(...n){const t=n.join(" ");t in H2||(H2[t]=!0,_e(...n))}function KU(n,t,e){return new Promise(function(i,a){function o(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:i()}}setTimeout(o,e)})}class xl{addEventListener(t,e){this._listeners===void 0&amp;&amp;(this._listeners={});const i=this._listeners;i[t]===void 0&amp;&amp;(i[t]=[]),i[t].indexOf(e)===-1&amp;&amp;i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&amp;&amp;i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const a=i[t];if(a!==void 0){const o=a.indexOf(e);o!==-1&amp;&amp;a.splice(o,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const a=i.slice(0);for(let o=0,l=a.length;o&lt;l;o++)a[o].call(this,t);t.target=null}}}const ns=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let G2=1234567;const jf=Math.PI/180,Jd=180/Math.PI;function dr(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(ns[n&amp;255]+ns[n&gt;&gt;8&amp;255]+ns[n&gt;&gt;16&amp;255]+ns[n&gt;&gt;24&amp;255]+"-"+ns[t&amp;255]+ns[t&gt;&gt;8&amp;255]+"-"+ns[t&gt;&gt;16&amp;15|64]+ns[t&gt;&gt;24&amp;255]+"-"+ns[e&amp;63|128]+ns[e&gt;&gt;8&amp;255]+"-"+ns[e&gt;&gt;16&amp;255]+ns[e&gt;&gt;24&amp;255]+ns[i&amp;255]+ns[i&gt;&gt;8&amp;255]+ns[i&gt;&gt;16&amp;255]+ns[i&gt;&gt;24&amp;255]).toLowerCase()}function nn(n,t,e){return Math.max(t,Math.min(e,n))}function oM(n,t){return(n%t+t)%t}function QU(n,t,e,i,a){return i+(n-t)*(a-i)/(e-t)}function JU(n,t,e){return n!==t?(e-n)/(t-n):0}function M0(n,t,e){return(1-e)*n+e*t}function $U(n,t,e,i){return M0(n,t,1-Math.exp(-e*i))}function tO(n,t=1){return t-Math.abs(oM(n,t*2)-t)}function eO(n,t,e){return n&lt;=t?0:n&gt;=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function nO(n,t,e){return n&lt;=t?0:n&gt;=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function iO(n,t){return n+Math.floor(Math.random()*(t-n+1))}function aO(n,t){return n+Math.random()*(t-n)}function sO(n){return n*(.5-Math.random())}function rO(n){n!==void 0&amp;&amp;(G2=n);let t=G2+=1831565813;return t=Math.imul(t^t&gt;&gt;&gt;15,t|1),t^=t+Math.imul(t^t&gt;&gt;&gt;7,t|61),((t^t&gt;&gt;&gt;14)&gt;&gt;&gt;0)/4294967296}function oO(n){return n*jf}function lO(n){return n*Jd}function cO(n){return(n&amp;n-1)===0&amp;&amp;n!==0}function uO(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function fO(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function hO(n,t,e,i,a){const o=Math.cos,l=Math.sin,h=o(e/2),d=l(e/2),p=o((t+i)/2),x=l((t+i)/2),v=o((t-i)/2),y=l((t-i)/2),S=o((i-t)/2),T=l((i-t)/2);switch(a){case"XYX":n.set(h*x,d*v,d*y,h*p);break;case"YZY":n.set(d*y,h*x,d*v,h*p);break;case"ZXZ":n.set(d*v,d*y,h*x,h*p);break;case"XZX":n.set(h*x,d*T,d*S,h*p);break;case"YXY":n.set(d*S,h*x,d*T,h*p);break;case"ZYZ":n.set(d*T,d*S,h*x,h*p);break;default:_e("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Ns(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function vn(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const Bf={DEG2RAD:jf,RAD2DEG:Jd,generateUUID:dr,clamp:nn,euclideanModulo:oM,mapLinear:QU,inverseLerp:JU,lerp:M0,damp:$U,pingpong:tO,smoothstep:eO,smootherstep:nO,randInt:iO,randFloat:aO,randFloatSpread:sO,seededRandom:rO,degToRad:oO,radToDeg:lO,isPowerOfTwo:cO,ceilPowerOfTwo:uO,floorPowerOfTwo:fO,setQuaternionFromProperEuler:hO,normalize:vn,denormalize:Ns};class Zt{constructor(t=0,e=0){Zt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6],this.y=a[1]*e+a[4]*i+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=nn(this.x,t.x,e.x),this.y=nn(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=nn(this.x,t,e),this.y=nn(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(nn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(nn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&amp;&amp;t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),a=Math.sin(e),o=this.x-t.x,l=this.y-t.y;return this.x=o*i-l*a+t.x,this.y=o*a+l*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ji{constructor(t=0,e=0,i=0,a=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=a}static slerpFlat(t,e,i,a,o,l,h){let d=i[a+0],p=i[a+1],x=i[a+2],v=i[a+3],y=o[l+0],S=o[l+1],T=o[l+2],C=o[l+3];if(h&lt;=0){t[e+0]=d,t[e+1]=p,t[e+2]=x,t[e+3]=v;return}if(h&gt;=1){t[e+0]=y,t[e+1]=S,t[e+2]=T,t[e+3]=C;return}if(v!==C||d!==y||p!==S||x!==T){let w=d*y+p*S+x*T+v*C;w&lt;0&amp;&amp;(y=-y,S=-S,T=-T,C=-C,w=-w);let M=1-h;if(w&lt;.9995){const R=Math.acos(w),D=Math.sin(R);M=Math.sin(M*R)/D,h=Math.sin(h*R)/D,d=d*M+y*h,p=p*M+S*h,x=x*M+T*h,v=v*M+C*h}else{d=d*M+y*h,p=p*M+S*h,x=x*M+T*h,v=v*M+C*h;const R=1/Math.sqrt(d*d+p*p+x*x+v*v);d*=R,p*=R,x*=R,v*=R}}t[e]=d,t[e+1]=p,t[e+2]=x,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,a,o,l){const h=i[a],d=i[a+1],p=i[a+2],x=i[a+3],v=o[l],y=o[l+1],S=o[l+2],T=o[l+3];return t[e]=h*T+x*v+d*S-p*y,t[e+1]=d*T+x*y+p*v-h*S,t[e+2]=p*T+x*S+h*y-d*v,t[e+3]=x*T-h*v-d*y-p*S,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,a){return this._x=t,this._y=e,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,a=t._y,o=t._z,l=t._order,h=Math.cos,d=Math.sin,p=h(i/2),x=h(a/2),v=h(o/2),y=d(i/2),S=d(a/2),T=d(o/2);switch(l){case"XYZ":this._x=y*x*v+p*S*T,this._y=p*S*v-y*x*T,this._z=p*x*T+y*S*v,this._w=p*x*v-y*S*T;break;case"YXZ":this._x=y*x*v+p*S*T,this._y=p*S*v-y*x*T,this._z=p*x*T-y*S*v,this._w=p*x*v+y*S*T;break;case"ZXY":this._x=y*x*v-p*S*T,this._y=p*S*v+y*x*T,this._z=p*x*T+y*S*v,this._w=p*x*v-y*S*T;break;case"ZYX":this._x=y*x*v-p*S*T,this._y=p*S*v+y*x*T,this._z=p*x*T-y*S*v,this._w=p*x*v+y*S*T;break;case"YZX":this._x=y*x*v+p*S*T,this._y=p*S*v+y*x*T,this._z=p*x*T-y*S*v,this._w=p*x*v-y*S*T;break;case"XZY":this._x=y*x*v-p*S*T,this._y=p*S*v-y*x*T,this._z=p*x*T+y*S*v,this._w=p*x*v+y*S*T;break;default:_e("Quaternion: .setFromEuler() encountered an unknown order: "+l)}return e===!0&amp;&amp;this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,a=Math.sin(i);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],a=e[4],o=e[8],l=e[1],h=e[5],d=e[9],p=e[2],x=e[6],v=e[10],y=i+h+v;if(y&gt;0){const S=.5/Math.sqrt(y+1);this._w=.25/S,this._x=(x-d)*S,this._y=(o-p)*S,this._z=(l-a)*S}else if(i&gt;h&amp;&amp;i&gt;v){const S=2*Math.sqrt(1+i-h-v);this._w=(x-d)/S,this._x=.25*S,this._y=(a+l)/S,this._z=(o+p)/S}else if(h&gt;v){const S=2*Math.sqrt(1+h-i-v);this._w=(o-p)/S,this._x=(a+l)/S,this._y=.25*S,this._z=(d+x)/S}else{const S=2*Math.sqrt(1+v-i-h);this._w=(l-a)/S,this._x=(o+p)/S,this._y=(d+x)/S,this._z=.25*S}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i&lt;1e-8?(i=0,Math.abs(t.x)&gt;Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(nn(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const a=Math.min(1,e/i);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,a=t._y,o=t._z,l=t._w,h=e._x,d=e._y,p=e._z,x=e._w;return this._x=i*x+l*h+a*p-o*d,this._y=a*x+l*d+o*h-i*p,this._z=o*x+l*p+i*d-a*h,this._w=l*x-i*h-a*d-o*p,this._onChangeCallback(),this}slerp(t,e){if(e&lt;=0)return this;if(e&gt;=1)return this.copy(t);let i=t._x,a=t._y,o=t._z,l=t._w,h=this.dot(t);h&lt;0&amp;&amp;(i=-i,a=-a,o=-o,l=-l,h=-h);let d=1-e;if(h&lt;.9995){const p=Math.acos(h),x=Math.sin(p);d=Math.sin(d*p)/x,e=Math.sin(e*p)/x,this._x=this._x*d+i*e,this._y=this._y*d+a*e,this._z=this._z*d+o*e,this._w=this._w*d+l*e,this._onChangeCallback()}else this._x=this._x*d+i*e,this._y=this._y*d+a*e,this._z=this._z*d+o*e,this._w=this._w*d+l*e,this.normalize();return this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(a*Math.sin(t),a*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&amp;&amp;t._y===this._y&amp;&amp;t._z===this._z&amp;&amp;t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class K{constructor(t=0,e=0,i=0){K.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&amp;&amp;(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(j2.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(j2.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*a,this.y=o[1]*e+o[4]*i+o[7]*a,this.z=o[2]*e+o[5]*i+o[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,a=this.z,o=t.elements,l=1/(o[3]*e+o[7]*i+o[11]*a+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*a+o[12])*l,this.y=(o[1]*e+o[5]*i+o[9]*a+o[13])*l,this.z=(o[2]*e+o[6]*i+o[10]*a+o[14])*l,this}applyQuaternion(t){const e=this.x,i=this.y,a=this.z,o=t.x,l=t.y,h=t.z,d=t.w,p=2*(l*a-h*i),x=2*(h*e-o*a),v=2*(o*i-l*e);return this.x=e+d*p+l*v-h*x,this.y=i+d*x+h*p-o*v,this.z=a+d*v+o*x-l*p,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*a,this.y=o[1]*e+o[5]*i+o[9]*a,this.z=o[2]*e+o[6]*i+o[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=nn(this.x,t.x,e.x),this.y=nn(this.y,t.y,e.y),this.z=nn(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=nn(this.x,t,e),this.y=nn(this.y,t,e),this.z=nn(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(nn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,a=t.y,o=t.z,l=e.x,h=e.y,d=e.z;return this.x=a*d-o*h,this.y=o*l-i*d,this.z=i*h-a*l,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return z1.copy(this).projectOnVector(t),this.sub(z1)}reflect(t){return this.sub(z1.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(nn(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,a=this.z-t.z;return e*e+i*i+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const a=Math.sin(e)*t;return this.x=a*Math.sin(i),this.y=Math.cos(e)*t,this.z=a*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=a,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&amp;&amp;t.y===this.y&amp;&amp;t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const z1=new K,j2=new ji;class mn{constructor(t,e,i,a,o,l,h,d,p){mn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&amp;&amp;this.set(t,e,i,a,o,l,h,d,p)}set(t,e,i,a,o,l,h,d,p){const x=this.elements;return x[0]=t,x[1]=a,x[2]=h,x[3]=e,x[4]=o,x[5]=d,x[6]=i,x[7]=l,x[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,a=e.elements,o=this.elements,l=i[0],h=i[3],d=i[6],p=i[1],x=i[4],v=i[7],y=i[2],S=i[5],T=i[8],C=a[0],w=a[3],M=a[6],R=a[1],D=a[4],O=a[7],I=a[2],z=a[5],G=a[8];return o[0]=l*C+h*R+d*I,o[3]=l*w+h*D+d*z,o[6]=l*M+h*O+d*G,o[1]=p*C+x*R+v*I,o[4]=p*w+x*D+v*z,o[7]=p*M+x*O+v*G,o[2]=y*C+S*R+T*I,o[5]=y*w+S*D+T*z,o[8]=y*M+S*O+T*G,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],x=t[8];return e*l*x-e*h*p-i*o*x+i*h*d+a*o*p-a*l*d}invert(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],x=t[8],v=x*l-h*p,y=h*d-x*o,S=p*o-l*d,T=e*v+i*y+a*S;if(T===0)return this.set(0,0,0,0,0,0,0,0,0);const C=1/T;return t[0]=v*C,t[1]=(a*p-x*i)*C,t[2]=(h*i-a*l)*C,t[3]=y*C,t[4]=(x*e-a*d)*C,t[5]=(a*o-h*e)*C,t[6]=S*C,t[7]=(i*d-p*e)*C,t[8]=(l*e-i*o)*C,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,a,o,l,h){const d=Math.cos(o),p=Math.sin(o);return this.set(i*d,i*p,-i*(d*l+p*h)+l+t,-a*p,a*d,-a*(-p*l+d*h)+h+e,0,0,1),this}scale(t,e){return this.premultiply(B1.makeScale(t,e)),this}rotate(t){return this.premultiply(B1.makeRotation(-t)),this}translate(t,e){return this.premultiply(B1.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let a=0;a&lt;9;a++)if(e[a]!==i[a])return!1;return!0}fromArray(t,e=0){for(let i=0;i&lt;9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const B1=new mn,k2=new mn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),X2=new mn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function dO(){const n={enabled:!0,workingColorSpace:Ao,spaces:{},convert:function(a,o,l){return this.enabled===!1||o===l||!o||!l||(this.spaces[o].transfer===ai&amp;&amp;(a.r=rc(a.r),a.g=rc(a.g),a.b=rc(a.b)),this.spaces[o].primaries!==this.spaces[l].primaries&amp;&amp;(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[l].fromXYZ)),this.spaces[l].transfer===ai&amp;&amp;(a.r=Hd(a.r),a.g=Hd(a.g),a.b=Hd(a.b))),a},workingToColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},colorSpaceToWorking:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===ac?V0:this.spaces[a].transfer},getToneMappingMode:function(a){return this.spaces[a].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,l){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[l].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(a,o){return Qd("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(a,o)},toWorkingColorSpace:function(a,o){return Qd("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(a,o)}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Ao]:{primaries:t,whitePoint:i,transfer:V0,toXYZ:k2,fromXYZ:X2,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Fa},outputColorSpaceConfig:{drawingBufferColorSpace:Fa}},[Fa]:{primaries:t,whitePoint:i,transfer:ai,toXYZ:k2,fromXYZ:X2,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Fa}}}),n}const Gn=dO();function rc(n){return n&lt;.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Hd(n){return n&lt;.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let rd;class NC{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement&gt;"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{rd===void 0&amp;&amp;(rd=H0("canvas")),rd.width=t.width,rd.height=t.height;const a=rd.getContext("2d");t instanceof ImageData?a.putImageData(t,0,0):a.drawImage(t,0,0,t.width,t.height),i=rd}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement&lt;"u"&amp;&amp;t instanceof HTMLImageElement||typeof HTMLCanvasElement&lt;"u"&amp;&amp;t instanceof HTMLCanvasElement||typeof ImageBitmap&lt;"u"&amp;&amp;t instanceof ImageBitmap){const e=H0("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const a=i.getImageData(0,0,t.width,t.height),o=a.data;for(let l=0;l&lt;o.length;l++)o[l]=rc(o[l]/255)*255;return i.putImageData(a,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i&lt;e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(rc(e[i]/255)*255):e[i]=rc(e[i]);return{data:e,width:t.width,height:t.height}}else return _e("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let pO=0;class lu{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:pO++}),this.uuid=dr(),this.data=t,this.dataReady=!0,this.version=0}getSize(t){const e=this.data;return typeof HTMLVideoElement&lt;"u"&amp;&amp;e instanceof HTMLVideoElement?t.set(e.videoWidth,e.videoHeight,0):e instanceof VideoFrame?t.set(e.displayHeight,e.displayWidth,0):e!==null?t.set(e.width,e.height,e.depth||0):t.set(0,0,0),t}set needsUpdate(t){t===!0&amp;&amp;this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&amp;&amp;t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let l=0,h=a.length;l&lt;h;l++)a[l].isDataTexture?o.push(I1(a[l].image)):o.push(I1(a[l]))}else o=I1(a);i.url=o}return e||(t.images[this.uuid]=i),i}}function I1(n){return typeof HTMLImageElement&lt;"u"&amp;&amp;n instanceof HTMLImageElement||typeof HTMLCanvasElement&lt;"u"&amp;&amp;n instanceof HTMLCanvasElement||typeof ImageBitmap&lt;"u"&amp;&amp;n instanceof ImageBitmap?NC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(_e("Texture: Unable to serialize Texture."),{})}let mO=0;const P1=new K;class ni extends xl{constructor(t=ni.DEFAULT_IMAGE,e=ni.DEFAULT_MAPPING,i=Gi,a=Gi,o=Jn,l=cl,h=$i,d=Ls,p=ni.DEFAULT_ANISOTROPY,x=ac){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mO++}),this.uuid=dr(),this.name="",this.source=new lu(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=o,this.minFilter=l,this.anisotropy=p,this.format=h,this.internalFormat=null,this.type=d,this.offset=new Zt(0,0),this.repeat=new Zt(1,1),this.center=new Zt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new mn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(t&amp;&amp;t.depth&amp;&amp;t.depth&gt;1),this.pmremVersion=0}get width(){return this.source.getSize(P1).x}get height(){return this.source.getSize(P1).y}get depth(){return this.source.getSize(P1).z}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.isArrayTexture=t.isArrayTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}setValues(t){for(const e in t){const i=t[e];if(i===void 0){_e(`Texture.setValues(): parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){_e(`Texture.setValues(): property '${e}' does not exist.`);continue}a&amp;&amp;i&amp;&amp;a.isVector2&amp;&amp;i.isVector2||a&amp;&amp;i&amp;&amp;a.isVector3&amp;&amp;i.isVector3||a&amp;&amp;i&amp;&amp;a.isMatrix3&amp;&amp;i.isMatrix3?a.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&amp;&amp;t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length&gt;0&amp;&amp;(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==fu)return t;if(t.applyMatrix3(this.matrix),t.x&lt;0||t.x&gt;1)switch(this.wrapS){case z0:t.x=t.x-Math.floor(t.x);break;case Gi:t.x=t.x&lt;0?0:1;break;case B0:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y&lt;0||t.y&gt;1)switch(this.wrapT){case z0:t.y=t.y-Math.floor(t.y);break;case Gi:t.y=t.y&lt;0?0:1;break;case B0:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&amp;&amp;(t.y=1-t.y),t}set needsUpdate(t){t===!0&amp;&amp;(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&amp;&amp;this.pmremVersion++}}ni.DEFAULT_IMAGE=null;ni.DEFAULT_MAPPING=fu;ni.DEFAULT_ANISOTROPY=1;class Cn{constructor(t=0,e=0,i=0,a=1){Cn.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,a){return this.x=t,this.y=e,this.z=i,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,a=this.z,o=this.w,l=t.elements;return this.x=l[0]*e+l[4]*i+l[8]*a+l[12]*o,this.y=l[1]*e+l[5]*i+l[9]*a+l[13]*o,this.z=l[2]*e+l[6]*i+l[10]*a+l[14]*o,this.w=l[3]*e+l[7]*i+l[11]*a+l[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e&lt;1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,a,o;const d=t.elements,p=d[0],x=d[4],v=d[8],y=d[1],S=d[5],T=d[9],C=d[2],w=d[6],M=d[10];if(Math.abs(x-y)&lt;.01&amp;&amp;Math.abs(v-C)&lt;.01&amp;&amp;Math.abs(T-w)&lt;.01){if(Math.abs(x+y)&lt;.1&amp;&amp;Math.abs(v+C)&lt;.1&amp;&amp;Math.abs(T+w)&lt;.1&amp;&amp;Math.abs(p+S+M-3)&lt;.1)return this.set(1,0,0,0),this;e=Math.PI;const D=(p+1)/2,O=(S+1)/2,I=(M+1)/2,z=(x+y)/4,G=(v+C)/4,H=(T+w)/4;return D&gt;O&amp;&amp;D&gt;I?D&lt;.01?(i=0,a=.707106781,o=.707106781):(i=Math.sqrt(D),a=z/i,o=G/i):O&gt;I?O&lt;.01?(i=.707106781,a=0,o=.707106781):(a=Math.sqrt(O),i=z/a,o=H/a):I&lt;.01?(i=.707106781,a=.707106781,o=0):(o=Math.sqrt(I),i=G/o,a=H/o),this.set(i,a,o,e),this}let R=Math.sqrt((w-T)*(w-T)+(v-C)*(v-C)+(y-x)*(y-x));return Math.abs(R)&lt;.001&amp;&amp;(R=1),this.x=(w-T)/R,this.y=(v-C)/R,this.z=(y-x)/R,this.w=Math.acos((p+S+M-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=nn(this.x,t.x,e.x),this.y=nn(this.y,t.y,e.y),this.z=nn(this.z,t.z,e.z),this.w=nn(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=nn(this.x,t,e),this.y=nn(this.y,t,e),this.z=nn(this.z,t,e),this.w=nn(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(nn(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&amp;&amp;t.y===this.y&amp;&amp;t.z===this.z&amp;&amp;t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class lM extends xl{constructor(t=1,e=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=i.depth,this.scissor=new Cn(0,0,t,e),this.scissorTest=!1,this.viewport=new Cn(0,0,t,e);const a={width:t,height:e,depth:i.depth},o=new ni(a);this.textures=[];const l=i.count;for(let h=0;h&lt;l;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0,this.textures[h].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(t={}){const e={minFilter:Jn,generateMipmaps:!1,flipY:!1,internalFormat:null};t.mapping!==void 0&amp;&amp;(e.mapping=t.mapping),t.wrapS!==void 0&amp;&amp;(e.wrapS=t.wrapS),t.wrapT!==void 0&amp;&amp;(e.wrapT=t.wrapT),t.wrapR!==void 0&amp;&amp;(e.wrapR=t.wrapR),t.magFilter!==void 0&amp;&amp;(e.magFilter=t.magFilter),t.minFilter!==void 0&amp;&amp;(e.minFilter=t.minFilter),t.format!==void 0&amp;&amp;(e.format=t.format),t.type!==void 0&amp;&amp;(e.type=t.type),t.anisotropy!==void 0&amp;&amp;(e.anisotropy=t.anisotropy),t.colorSpace!==void 0&amp;&amp;(e.colorSpace=t.colorSpace),t.flipY!==void 0&amp;&amp;(e.flipY=t.flipY),t.generateMipmaps!==void 0&amp;&amp;(e.generateMipmaps=t.generateMipmaps),t.internalFormat!==void 0&amp;&amp;(e.internalFormat=t.internalFormat);for(let i=0;i&lt;this.textures.length;i++)this.textures[i].setValues(e)}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&amp;&amp;(this._depthTexture.renderTarget=null),t!==null&amp;&amp;(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let a=0,o=this.textures.length;a&lt;o;a++)this.textures[a].image.width=t,this.textures[a].image.height=e,this.textures[a].image.depth=i,this.textures[a].isData3DTexture!==!0&amp;&amp;(this.textures[a].isArrayTexture=this.textures[a].image.depth&gt;1);this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e&lt;i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const a=Object.assign({},t.textures[e].image);this.textures[e].source=new lu(a)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&amp;&amp;(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Gr extends lM{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class d_ extends ni{constructor(t=null,e=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:a},this.magFilter=Ha,this.minFilter=Ha,this.wrapR=Gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class gO extends Gr{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new d_(null,t,e,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class p_ extends ni{constructor(t=null,e=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:a},this.magFilter=Ha,this.minFilter=Ha,this.wrapR=Gi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class xO extends Gr{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new p_(null,t,e,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class os{constructor(t=new K(1/0,1/0,1/0),e=new K(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e&lt;i;e+=3)this.expandByPoint(po.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e&lt;i;e++)this.expandByPoint(po.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e&lt;i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=po.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x&lt;this.min.x||this.max.y&lt;this.min.y||this.max.z&lt;this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const o=i.getAttribute("position");if(e===!0&amp;&amp;o!==void 0&amp;&amp;t.isInstancedMesh!==!0)for(let l=0,h=o.count;l&lt;h;l++)t.isMesh===!0?t.getVertexPosition(l,po):po.fromBufferAttribute(o,l),po.applyMatrix4(t.matrixWorld),this.expandByPoint(po);else t.boundingBox!==void 0?(t.boundingBox===null&amp;&amp;t.computeBoundingBox(),jx.copy(t.boundingBox)):(i.boundingBox===null&amp;&amp;i.computeBoundingBox(),jx.copy(i.boundingBox)),jx.applyMatrix4(t.matrixWorld),this.union(jx)}const a=t.children;for(let o=0,l=a.length;o&lt;l;o++)this.expandByObject(a[o],e);return this}containsPoint(t){return t.x&gt;=this.min.x&amp;&amp;t.x&lt;=this.max.x&amp;&amp;t.y&gt;=this.min.y&amp;&amp;t.y&lt;=this.max.y&amp;&amp;t.z&gt;=this.min.z&amp;&amp;t.z&lt;=this.max.z}containsBox(t){return this.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=this.max.x&amp;&amp;this.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=this.max.y&amp;&amp;this.min.z&lt;=t.min.z&amp;&amp;t.max.z&lt;=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x&gt;=this.min.x&amp;&amp;t.min.x&lt;=this.max.x&amp;&amp;t.max.y&gt;=this.min.y&amp;&amp;t.min.y&lt;=this.max.y&amp;&amp;t.max.z&gt;=this.min.z&amp;&amp;t.min.z&lt;=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,po),po.distanceToSquared(t.center)&lt;=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x&gt;0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y&gt;0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z&gt;0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e&lt;=-t.constant&amp;&amp;i&gt;=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Gm),kx.subVectors(this.max,Gm),od.subVectors(t.a,Gm),ld.subVectors(t.b,Gm),cd.subVectors(t.c,Gm),Kc.subVectors(ld,od),Qc.subVectors(cd,ld),pf.subVectors(od,cd);let e=[0,-Kc.z,Kc.y,0,-Qc.z,Qc.y,0,-pf.z,pf.y,Kc.z,0,-Kc.x,Qc.z,0,-Qc.x,pf.z,0,-pf.x,-Kc.y,Kc.x,0,-Qc.y,Qc.x,0,-pf.y,pf.x,0];return!V1(e,od,ld,cd,kx)||(e=[1,0,0,0,1,0,0,0,1],!V1(e,od,ld,cd,kx))?!1:(Xx.crossVectors(Kc,Qc),e=[Xx.x,Xx.y,Xx.z],V1(e,od,ld,cd,kx))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,po).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(po).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&amp;&amp;this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(Kl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Kl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Kl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Kl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Kl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Kl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Kl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Kl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Kl),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&amp;&amp;t.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(t){return this.min.fromArray(t.min),this.max.fromArray(t.max),this}}const Kl=[new K,new K,new K,new K,new K,new K,new K,new K],po=new K,jx=new os,od=new K,ld=new K,cd=new K,Kc=new K,Qc=new K,pf=new K,Gm=new K,kx=new K,Xx=new K,mf=new K;function V1(n,t,e,i,a){for(let o=0,l=n.length-3;o&lt;=l;o+=3){mf.fromArray(n,o);const h=a.x*Math.abs(mf.x)+a.y*Math.abs(mf.y)+a.z*Math.abs(mf.z),d=t.dot(mf),p=e.dot(mf),x=i.dot(mf);if(Math.max(-Math.max(d,p,x),Math.min(d,p,x))&gt;h)return!1}return!0}const vO=new os,jm=new K,F1=new K;class Ga{constructor(t=new K,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):vO.setFromPoints(t).getCenter(i);let a=0;for(let o=0,l=t.length;o&lt;l;o++)a=Math.max(a,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius&lt;0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)&lt;=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)&lt;=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))&lt;=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i&gt;this.radius*this.radius&amp;&amp;(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;jm.subVectors(t,this.center);const e=jm.lengthSq();if(e&gt;this.radius*this.radius){const i=Math.sqrt(e),a=(i-this.radius)*.5;this.center.addScaledVector(jm,a/i),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(F1.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(jm.copy(t.center).add(F1)),this.expandByPoint(jm.copy(t.center).sub(F1))),this)}equals(t){return t.center.equals(this.center)&amp;&amp;t.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(t){return this.radius=t.radius,this.center.fromArray(t.center),this}}const Ql=new K,H1=new K,qx=new K,Jc=new K,G1=new K,Yx=new K,j1=new K;class lp{constructor(t=new K,e=new K(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,Ql)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i&lt;0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=Ql.subVectors(t,this.origin).dot(this.direction);return e&lt;0?this.origin.distanceToSquared(t):(Ql.copy(this.origin).addScaledVector(this.direction,e),Ql.distanceToSquared(t))}distanceSqToSegment(t,e,i,a){H1.copy(t).add(e).multiplyScalar(.5),qx.copy(e).sub(t).normalize(),Jc.copy(this.origin).sub(H1);const o=t.distanceTo(e)*.5,l=-this.direction.dot(qx),h=Jc.dot(this.direction),d=-Jc.dot(qx),p=Jc.lengthSq(),x=Math.abs(1-l*l);let v,y,S,T;if(x&gt;0)if(v=l*d-h,y=l*h-d,T=o*x,v&gt;=0)if(y&gt;=-T)if(y&lt;=T){const C=1/x;v*=C,y*=C,S=v*(v+l*y+2*h)+y*(l*v+y+2*d)+p}else y=o,v=Math.max(0,-(l*y+h)),S=-v*v+y*(y+2*d)+p;else y=-o,v=Math.max(0,-(l*y+h)),S=-v*v+y*(y+2*d)+p;else y&lt;=-T?(v=Math.max(0,-(-l*o+h)),y=v&gt;0?-o:Math.min(Math.max(-o,-d),o),S=-v*v+y*(y+2*d)+p):y&lt;=T?(v=0,y=Math.min(Math.max(-o,-d),o),S=y*(y+2*d)+p):(v=Math.max(0,-(l*o+h)),y=v&gt;0?o:Math.min(Math.max(-o,-d),o),S=-v*v+y*(y+2*d)+p);else y=l&gt;0?-o:o,v=Math.max(0,-(l*y+h)),S=-v*v+y*(y+2*d)+p;return i&amp;&amp;i.copy(this.origin).addScaledVector(this.direction,v),a&amp;&amp;a.copy(H1).addScaledVector(qx,y),S}intersectSphere(t,e){Ql.subVectors(t.center,this.origin);const i=Ql.dot(this.direction),a=Ql.dot(Ql)-i*i,o=t.radius*t.radius;if(a&gt;o)return null;const l=Math.sqrt(o-a),h=i-l,d=i+l;return d&lt;0?null:h&lt;0?this.at(d,e):this.at(h,e)}intersectsSphere(t){return t.radius&lt;0?!1:this.distanceSqToPoint(t.center)&lt;=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i&gt;=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e&lt;0}intersectBox(t,e){let i,a,o,l,h,d;const p=1/this.direction.x,x=1/this.direction.y,v=1/this.direction.z,y=this.origin;return p&gt;=0?(i=(t.min.x-y.x)*p,a=(t.max.x-y.x)*p):(i=(t.max.x-y.x)*p,a=(t.min.x-y.x)*p),x&gt;=0?(o=(t.min.y-y.y)*x,l=(t.max.y-y.y)*x):(o=(t.max.y-y.y)*x,l=(t.min.y-y.y)*x),i&gt;l||o&gt;a||((o&gt;i||isNaN(i))&amp;&amp;(i=o),(l&lt;a||isNaN(a))&amp;&amp;(a=l),v&gt;=0?(h=(t.min.z-y.z)*v,d=(t.max.z-y.z)*v):(h=(t.max.z-y.z)*v,d=(t.min.z-y.z)*v),i&gt;d||h&gt;a)||((h&gt;i||i!==i)&amp;&amp;(i=h),(d&lt;a||a!==a)&amp;&amp;(a=d),a&lt;0)?null:this.at(i&gt;=0?i:a,e)}intersectsBox(t){return this.intersectBox(t,Ql)!==null}intersectTriangle(t,e,i,a,o){G1.subVectors(e,t),Yx.subVectors(i,t),j1.crossVectors(G1,Yx);let l=this.direction.dot(j1),h;if(l&gt;0){if(a)return null;h=1}else if(l&lt;0)h=-1,l=-l;else return null;Jc.subVectors(this.origin,t);const d=h*this.direction.dot(Yx.crossVectors(Jc,Yx));if(d&lt;0)return null;const p=h*this.direction.dot(G1.cross(Jc));if(p&lt;0||d+p&gt;l)return null;const x=-h*Jc.dot(j1);return x&lt;0?null:this.at(x/l,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&amp;&amp;t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qe{constructor(t,e,i,a,o,l,h,d,p,x,v,y,S,T,C,w){Qe.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&amp;&amp;this.set(t,e,i,a,o,l,h,d,p,x,v,y,S,T,C,w)}set(t,e,i,a,o,l,h,d,p,x,v,y,S,T,C,w){const M=this.elements;return M[0]=t,M[4]=e,M[8]=i,M[12]=a,M[1]=o,M[5]=l,M[9]=h,M[13]=d,M[2]=p,M[6]=x,M[10]=v,M[14]=y,M[3]=S,M[7]=T,M[11]=C,M[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qe().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,a=1/ud.setFromMatrixColumn(t,0).length(),o=1/ud.setFromMatrixColumn(t,1).length(),l=1/ud.setFromMatrixColumn(t,2).length();return e[0]=i[0]*a,e[1]=i[1]*a,e[2]=i[2]*a,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*l,e[9]=i[9]*l,e[10]=i[10]*l,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,a=t.y,o=t.z,l=Math.cos(i),h=Math.sin(i),d=Math.cos(a),p=Math.sin(a),x=Math.cos(o),v=Math.sin(o);if(t.order==="XYZ"){const y=l*x,S=l*v,T=h*x,C=h*v;e[0]=d*x,e[4]=-d*v,e[8]=p,e[1]=S+T*p,e[5]=y-C*p,e[9]=-h*d,e[2]=C-y*p,e[6]=T+S*p,e[10]=l*d}else if(t.order==="YXZ"){const y=d*x,S=d*v,T=p*x,C=p*v;e[0]=y+C*h,e[4]=T*h-S,e[8]=l*p,e[1]=l*v,e[5]=l*x,e[9]=-h,e[2]=S*h-T,e[6]=C+y*h,e[10]=l*d}else if(t.order==="ZXY"){const y=d*x,S=d*v,T=p*x,C=p*v;e[0]=y-C*h,e[4]=-l*v,e[8]=T+S*h,e[1]=S+T*h,e[5]=l*x,e[9]=C-y*h,e[2]=-l*p,e[6]=h,e[10]=l*d}else if(t.order==="ZYX"){const y=l*x,S=l*v,T=h*x,C=h*v;e[0]=d*x,e[4]=T*p-S,e[8]=y*p+C,e[1]=d*v,e[5]=C*p+y,e[9]=S*p-T,e[2]=-p,e[6]=h*d,e[10]=l*d}else if(t.order==="YZX"){const y=l*d,S=l*p,T=h*d,C=h*p;e[0]=d*x,e[4]=C-y*v,e[8]=T*v+S,e[1]=v,e[5]=l*x,e[9]=-h*x,e[2]=-p*x,e[6]=S*v+T,e[10]=y-C*v}else if(t.order==="XZY"){const y=l*d,S=l*p,T=h*d,C=h*p;e[0]=d*x,e[4]=-v,e[8]=p*x,e[1]=y*v+C,e[5]=l*x,e[9]=S*v-T,e[2]=T*v-S,e[6]=h*x,e[10]=C*v+y}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(yO,t,_O)}lookAt(t,e,i){const a=this.elements;return ur.subVectors(t,e),ur.lengthSq()===0&amp;&amp;(ur.z=1),ur.normalize(),$c.crossVectors(i,ur),$c.lengthSq()===0&amp;&amp;(Math.abs(i.z)===1?ur.x+=1e-4:ur.z+=1e-4,ur.normalize(),$c.crossVectors(i,ur)),$c.normalize(),Wx.crossVectors(ur,$c),a[0]=$c.x,a[4]=Wx.x,a[8]=ur.x,a[1]=$c.y,a[5]=Wx.y,a[9]=ur.y,a[2]=$c.z,a[6]=Wx.z,a[10]=ur.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,a=e.elements,o=this.elements,l=i[0],h=i[4],d=i[8],p=i[12],x=i[1],v=i[5],y=i[9],S=i[13],T=i[2],C=i[6],w=i[10],M=i[14],R=i[3],D=i[7],O=i[11],I=i[15],z=a[0],G=a[4],H=a[8],L=a[12],B=a[1],Y=a[5],nt=a[9],rt=a[13],ft=a[2],pt=a[6],k=a[10],tt=a[14],it=a[3],xt=a[7],bt=a[11],Z=a[15];return o[0]=l*z+h*B+d*ft+p*it,o[4]=l*G+h*Y+d*pt+p*xt,o[8]=l*H+h*nt+d*k+p*bt,o[12]=l*L+h*rt+d*tt+p*Z,o[1]=x*z+v*B+y*ft+S*it,o[5]=x*G+v*Y+y*pt+S*xt,o[9]=x*H+v*nt+y*k+S*bt,o[13]=x*L+v*rt+y*tt+S*Z,o[2]=T*z+C*B+w*ft+M*it,o[6]=T*G+C*Y+w*pt+M*xt,o[10]=T*H+C*nt+w*k+M*bt,o[14]=T*L+C*rt+w*tt+M*Z,o[3]=R*z+D*B+O*ft+I*it,o[7]=R*G+D*Y+O*pt+I*xt,o[11]=R*H+D*nt+O*k+I*bt,o[15]=R*L+D*rt+O*tt+I*Z,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],a=t[8],o=t[12],l=t[1],h=t[5],d=t[9],p=t[13],x=t[2],v=t[6],y=t[10],S=t[14],T=t[3],C=t[7],w=t[11],M=t[15];return T*(+o*d*v-a*p*v-o*h*y+i*p*y+a*h*S-i*d*S)+C*(+e*d*S-e*p*y+o*l*y-a*l*S+a*p*x-o*d*x)+w*(+e*p*v-e*h*S-o*l*v+i*l*S+o*h*x-i*p*x)+M*(-a*h*x-e*d*v+e*h*y+a*l*v-i*l*y+i*d*x)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=e,a[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],l=t[4],h=t[5],d=t[6],p=t[7],x=t[8],v=t[9],y=t[10],S=t[11],T=t[12],C=t[13],w=t[14],M=t[15],R=v*w*p-C*y*p+C*d*S-h*w*S-v*d*M+h*y*M,D=T*y*p-x*w*p-T*d*S+l*w*S+x*d*M-l*y*M,O=x*C*p-T*v*p+T*h*S-l*C*S-x*h*M+l*v*M,I=T*v*d-x*C*d-T*h*y+l*C*y+x*h*w-l*v*w,z=e*R+i*D+a*O+o*I;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const G=1/z;return t[0]=R*G,t[1]=(C*y*o-v*w*o-C*a*S+i*w*S+v*a*M-i*y*M)*G,t[2]=(h*w*o-C*d*o+C*a*p-i*w*p-h*a*M+i*d*M)*G,t[3]=(v*d*o-h*y*o-v*a*p+i*y*p+h*a*S-i*d*S)*G,t[4]=D*G,t[5]=(x*w*o-T*y*o+T*a*S-e*w*S-x*a*M+e*y*M)*G,t[6]=(T*d*o-l*w*o-T*a*p+e*w*p+l*a*M-e*d*M)*G,t[7]=(l*y*o-x*d*o+x*a*p-e*y*p-l*a*S+e*d*S)*G,t[8]=O*G,t[9]=(T*v*o-x*C*o-T*i*S+e*C*S+x*i*M-e*v*M)*G,t[10]=(l*C*o-T*h*o+T*i*p-e*C*p-l*i*M+e*h*M)*G,t[11]=(x*h*o-l*v*o-x*i*p+e*v*p+l*i*S-e*h*S)*G,t[12]=I*G,t[13]=(x*C*a-T*v*a+T*i*y-e*C*y-x*i*w+e*v*w)*G,t[14]=(T*h*a-l*C*a-T*i*d+e*C*d+l*i*w-e*h*w)*G,t[15]=(l*v*a-x*h*a+x*i*d-e*v*d-l*i*y+e*h*y)*G,this}scale(t){const e=this.elements,i=t.x,a=t.y,o=t.z;return e[0]*=i,e[4]*=a,e[8]*=o,e[1]*=i,e[5]*=a,e[9]*=o,e[2]*=i,e[6]*=a,e[10]*=o,e[3]*=i,e[7]*=a,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,a))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),a=Math.sin(e),o=1-i,l=t.x,h=t.y,d=t.z,p=o*l,x=o*h;return this.set(p*l+i,p*h-a*d,p*d+a*h,0,p*h+a*d,x*h+i,x*d-a*l,0,p*d-a*h,x*d+a*l,o*d*d+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,a,o,l){return this.set(1,i,o,0,t,1,l,0,e,a,1,0,0,0,0,1),this}compose(t,e,i){const a=this.elements,o=e._x,l=e._y,h=e._z,d=e._w,p=o+o,x=l+l,v=h+h,y=o*p,S=o*x,T=o*v,C=l*x,w=l*v,M=h*v,R=d*p,D=d*x,O=d*v,I=i.x,z=i.y,G=i.z;return a[0]=(1-(C+M))*I,a[1]=(S+O)*I,a[2]=(T-D)*I,a[3]=0,a[4]=(S-O)*z,a[5]=(1-(y+M))*z,a[6]=(w+R)*z,a[7]=0,a[8]=(T+D)*G,a[9]=(w-R)*G,a[10]=(1-(y+C))*G,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,e,i){const a=this.elements;let o=ud.set(a[0],a[1],a[2]).length();const l=ud.set(a[4],a[5],a[6]).length(),h=ud.set(a[8],a[9],a[10]).length();this.determinant()&lt;0&amp;&amp;(o=-o),t.x=a[12],t.y=a[13],t.z=a[14],mo.copy(this);const p=1/o,x=1/l,v=1/h;return mo.elements[0]*=p,mo.elements[1]*=p,mo.elements[2]*=p,mo.elements[4]*=x,mo.elements[5]*=x,mo.elements[6]*=x,mo.elements[8]*=v,mo.elements[9]*=v,mo.elements[10]*=v,e.setFromRotationMatrix(mo),i.x=o,i.y=l,i.z=h,this}makePerspective(t,e,i,a,o,l,h=hr,d=!1){const p=this.elements,x=2*o/(e-t),v=2*o/(i-a),y=(e+t)/(e-t),S=(i+a)/(i-a);let T,C;if(d)T=o/(l-o),C=l*o/(l-o);else if(h===hr)T=-(l+o)/(l-o),C=-2*l*o/(l-o);else if(h===Kd)T=-l/(l-o),C=-l*o/(l-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return p[0]=x,p[4]=0,p[8]=y,p[12]=0,p[1]=0,p[5]=v,p[9]=S,p[13]=0,p[2]=0,p[6]=0,p[10]=T,p[14]=C,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(t,e,i,a,o,l,h=hr,d=!1){const p=this.elements,x=2/(e-t),v=2/(i-a),y=-(e+t)/(e-t),S=-(i+a)/(i-a);let T,C;if(d)T=1/(l-o),C=l/(l-o);else if(h===hr)T=-2/(l-o),C=-(l+o)/(l-o);else if(h===Kd)T=-1/(l-o),C=-o/(l-o);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return p[0]=x,p[4]=0,p[8]=0,p[12]=y,p[1]=0,p[5]=v,p[9]=0,p[13]=S,p[2]=0,p[6]=0,p[10]=T,p[14]=C,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let a=0;a&lt;16;a++)if(e[a]!==i[a])return!1;return!0}fromArray(t,e=0){for(let i=0;i&lt;16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const ud=new K,mo=new Qe,yO=new K(0,0,0),_O=new K(1,1,1),$c=new K,Wx=new K,ur=new K,q2=new Qe,Y2=new ji;class Qs{constructor(t=0,e=0,i=0,a=Qs.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,a=this._order){return this._x=t,this._y=e,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const a=t.elements,o=a[0],l=a[4],h=a[8],d=a[1],p=a[5],x=a[9],v=a[2],y=a[6],S=a[10];switch(e){case"XYZ":this._y=Math.asin(nn(h,-1,1)),Math.abs(h)&lt;.9999999?(this._x=Math.atan2(-x,S),this._z=Math.atan2(-l,o)):(this._x=Math.atan2(y,p),this._z=0);break;case"YXZ":this._x=Math.asin(-nn(x,-1,1)),Math.abs(x)&lt;.9999999?(this._y=Math.atan2(h,S),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(nn(y,-1,1)),Math.abs(y)&lt;.9999999?(this._y=Math.atan2(-v,S),this._z=Math.atan2(-l,p)):(this._y=0,this._z=Math.atan2(d,o));break;case"ZYX":this._y=Math.asin(-nn(v,-1,1)),Math.abs(v)&lt;.9999999?(this._x=Math.atan2(y,S),this._z=Math.atan2(d,o)):(this._x=0,this._z=Math.atan2(-l,p));break;case"YZX":this._z=Math.asin(nn(d,-1,1)),Math.abs(d)&lt;.9999999?(this._x=Math.atan2(-x,p),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(h,S));break;case"XZY":this._z=Math.asin(-nn(l,-1,1)),Math.abs(l)&lt;.9999999?(this._x=Math.atan2(y,p),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-x,S),this._y=0);break;default:_e("Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&amp;&amp;this._onChangeCallback(),this}setFromQuaternion(t,e,i){return q2.makeRotationFromQuaternion(t),this.setFromRotationMatrix(q2,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return Y2.setFromEuler(this),this.setFromQuaternion(Y2,t)}equals(t){return t._x===this._x&amp;&amp;t._y===this._y&amp;&amp;t._z===this._z&amp;&amp;t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&amp;&amp;(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Qs.DEFAULT_ORDER="XYZ";class $d{constructor(){this.mask=1}set(t){this.mask=(1&lt;&lt;t|0)&gt;&gt;&gt;0}enable(t){this.mask|=1&lt;&lt;t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1&lt;&lt;t|0}disable(t){this.mask&amp;=~(1&lt;&lt;t|0)}disableAll(){this.mask=0}test(t){return(this.mask&amp;t.mask)!==0}isEnabled(t){return(this.mask&amp;(1&lt;&lt;t|0))!==0}}let bO=0;const W2=new K,fd=new ji,Jl=new Qe,Zx=new K,km=new K,SO=new K,MO=new ji,Z2=new K(1,0,0),K2=new K(0,1,0),Q2=new K(0,0,1),J2={type:"added"},EO={type:"removed"},hd={type:"childadded",child:null},k1={type:"childremoved",child:null};class Xn extends xl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:bO++}),this.uuid=dr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xn.DEFAULT_UP.clone();const t=new K,e=new Qs,i=new ji,a=new K(1,1,1);function o(){i.setFromEuler(e,!1)}function l(){e.setFromQuaternion(i,void 0,!1)}e._onChange(o),i._onChange(l),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Qe},normalMatrix:{value:new mn}}),this.matrix=new Qe,this.matrixWorld=new Qe,this.matrixAutoUpdate=Xn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $d,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&amp;&amp;this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return fd.setFromAxisAngle(t,e),this.quaternion.multiply(fd),this}rotateOnWorldAxis(t,e){return fd.setFromAxisAngle(t,e),this.quaternion.premultiply(fd),this}rotateX(t){return this.rotateOnAxis(Z2,t)}rotateY(t){return this.rotateOnAxis(K2,t)}rotateZ(t){return this.rotateOnAxis(Q2,t)}translateOnAxis(t,e){return W2.copy(t).applyQuaternion(this.quaternion),this.position.add(W2.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(Z2,t)}translateY(t){return this.translateOnAxis(K2,t)}translateZ(t){return this.translateOnAxis(Q2,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Jl.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?Zx.copy(t):Zx.set(t,e,i);const a=this.parent;this.updateWorldMatrix(!0,!1),km.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Jl.lookAt(km,Zx,this.up):Jl.lookAt(Zx,km,this.up),this.quaternion.setFromRotationMatrix(Jl),a&amp;&amp;(Jl.extractRotation(a.matrixWorld),fd.setFromRotationMatrix(Jl),this.quaternion.premultiply(fd.invert()))}add(t){if(arguments.length&gt;1){for(let e=0;e&lt;arguments.length;e++)this.add(arguments[e]);return this}return t===this?(on("Object3D.add: object can't be added as a child of itself.",t),this):(t&amp;&amp;t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(J2),hd.child=t,this.dispatchEvent(hd),hd.child=null):on("Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length&gt;1){for(let i=0;i&lt;arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&amp;&amp;(t.parent=null,this.children.splice(e,1),t.dispatchEvent(EO),k1.child=t,this.dispatchEvent(k1),k1.child=null),this}removeFromParent(){const t=this.parent;return t!==null&amp;&amp;t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Jl.copy(this.matrixWorld).invert(),t.parent!==null&amp;&amp;(t.parent.updateWorldMatrix(!0,!1),Jl.multiply(t.parent.matrixWorld)),t.applyMatrix4(Jl),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(J2),hd.child=t,this.dispatchEvent(hd),hd.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,a=this.children.length;i&lt;a;i++){const l=this.children[i].getObjectByProperty(t,e);if(l!==void 0)return l}}getObjectsByProperty(t,e,i=[]){this[t]===e&amp;&amp;i.push(this);const a=this.children;for(let o=0,l=a.length;o&lt;l;o++)a[o].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(km,t,SO),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(km,MO,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,a=e.length;i&lt;a;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,a=e.length;i&lt;a;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&amp;&amp;(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&amp;&amp;this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&amp;&amp;(this.matrixWorldAutoUpdate===!0&amp;&amp;(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,a=e.length;i&lt;a;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&amp;&amp;i!==null&amp;&amp;i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&amp;&amp;this.updateMatrix(),this.matrixWorldAutoUpdate===!0&amp;&amp;(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const a=this.children;for(let o=0,l=a.length;o&lt;l;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&amp;&amp;(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&amp;&amp;(a.name=this.name),this.castShadow===!0&amp;&amp;(a.castShadow=!0),this.receiveShadow===!0&amp;&amp;(a.receiveShadow=!0),this.visible===!1&amp;&amp;(a.visible=!1),this.frustumCulled===!1&amp;&amp;(a.frustumCulled=!1),this.renderOrder!==0&amp;&amp;(a.renderOrder=this.renderOrder),Object.keys(this.userData).length&gt;0&amp;&amp;(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&amp;&amp;(a.matrixAutoUpdate=!1),this.isInstancedMesh&amp;&amp;(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&amp;&amp;(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&amp;&amp;(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.geometryInfo=this._geometryInfo.map(h=&gt;({...h,boundingBox:h.boundingBox?h.boundingBox.toJSON():void 0,boundingSphere:h.boundingSphere?h.boundingSphere.toJSON():void 0})),a.instanceInfo=this._instanceInfo.map(h=&gt;({...h})),a.availableInstanceIds=this._availableInstanceIds.slice(),a.availableGeometryIds=this._availableGeometryIds.slice(),a.nextIndexStart=this._nextIndexStart,a.nextVertexStart=this._nextVertexStart,a.geometryCount=this._geometryCount,a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.matricesTexture=this._matricesTexture.toJSON(t),a.indirectTexture=this._indirectTexture.toJSON(t),this._colorsTexture!==null&amp;&amp;(a.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&amp;&amp;(a.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&amp;&amp;(a.boundingBox=this.boundingBox.toJSON()));function o(h,d){return h[d.uuid]===void 0&amp;&amp;(h[d.uuid]=d.toJSON(t)),d.uuid}if(this.isScene)this.background&amp;&amp;(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&amp;&amp;(a.background=this.background.toJSON(t).uuid)),this.environment&amp;&amp;this.environment.isTexture&amp;&amp;this.environment.isRenderTargetTexture!==!0&amp;&amp;(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(t.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&amp;&amp;h.shapes!==void 0){const d=h.shapes;if(Array.isArray(d))for(let p=0,x=d.length;p&lt;x;p++){const v=d[p];o(t.shapes,v)}else o(t.shapes,d)}}if(this.isSkinnedMesh&amp;&amp;(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&amp;&amp;(o(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let d=0,p=this.material.length;d&lt;p;d++)h.push(o(t.materials,this.material[d]));a.material=h}else a.material=o(t.materials,this.material);if(this.children.length&gt;0){a.children=[];for(let h=0;h&lt;this.children.length;h++)a.children.push(this.children[h].toJSON(t).object)}if(this.animations.length&gt;0){a.animations=[];for(let h=0;h&lt;this.animations.length;h++){const d=this.animations[h];a.animations.push(o(t.animations,d))}}if(e){const h=l(t.geometries),d=l(t.materials),p=l(t.textures),x=l(t.images),v=l(t.shapes),y=l(t.skeletons),S=l(t.animations),T=l(t.nodes);h.length&gt;0&amp;&amp;(i.geometries=h),d.length&gt;0&amp;&amp;(i.materials=d),p.length&gt;0&amp;&amp;(i.textures=p),x.length&gt;0&amp;&amp;(i.images=x),v.length&gt;0&amp;&amp;(i.shapes=v),y.length&gt;0&amp;&amp;(i.skeletons=y),S.length&gt;0&amp;&amp;(i.animations=S),T.length&gt;0&amp;&amp;(i.nodes=T)}return i.object=a,i;function l(h){const d=[];for(const p in h){const x=h[p];delete x.metadata,d.push(x)}return d}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i&lt;t.children.length;i++){const a=t.children[i];this.add(a.clone())}return this}}Xn.DEFAULT_UP=new K(0,1,0);Xn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Xn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const go=new K,$l=new K,X1=new K,tc=new K,dd=new K,pd=new K,$2=new K,q1=new K,Y1=new K,W1=new K,Z1=new Cn,K1=new Cn,Q1=new Cn;class Zs{constructor(t=new K,e=new K,i=new K){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,a){a.subVectors(i,e),go.subVectors(t,e),a.cross(go);const o=a.lengthSq();return o&gt;0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(t,e,i,a,o){go.subVectors(a,e),$l.subVectors(i,e),X1.subVectors(t,e);const l=go.dot(go),h=go.dot($l),d=go.dot(X1),p=$l.dot($l),x=$l.dot(X1),v=l*p-h*h;if(v===0)return o.set(0,0,0),null;const y=1/v,S=(p*d-h*x)*y,T=(l*x-h*d)*y;return o.set(1-S-T,T,S)}static containsPoint(t,e,i,a){return this.getBarycoord(t,e,i,a,tc)===null?!1:tc.x&gt;=0&amp;&amp;tc.y&gt;=0&amp;&amp;tc.x+tc.y&lt;=1}static getInterpolation(t,e,i,a,o,l,h,d){return this.getBarycoord(t,e,i,a,tc)===null?(d.x=0,d.y=0,"z"in d&amp;&amp;(d.z=0),"w"in d&amp;&amp;(d.w=0),null):(d.setScalar(0),d.addScaledVector(o,tc.x),d.addScaledVector(l,tc.y),d.addScaledVector(h,tc.z),d)}static getInterpolatedAttribute(t,e,i,a,o,l){return Z1.setScalar(0),K1.setScalar(0),Q1.setScalar(0),Z1.fromBufferAttribute(t,e),K1.fromBufferAttribute(t,i),Q1.fromBufferAttribute(t,a),l.setScalar(0),l.addScaledVector(Z1,o.x),l.addScaledVector(K1,o.y),l.addScaledVector(Q1,o.z),l}static isFrontFacing(t,e,i,a){return go.subVectors(i,e),$l.subVectors(t,e),go.cross($l).dot(a)&lt;0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,a){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,e,i,a){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return go.subVectors(this.c,this.b),$l.subVectors(this.a,this.b),go.cross($l).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zs.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zs.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,a,o){return Zs.getInterpolation(t,this.a,this.b,this.c,e,i,a,o)}containsPoint(t){return Zs.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zs.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,a=this.b,o=this.c;let l,h;dd.subVectors(a,i),pd.subVectors(o,i),q1.subVectors(t,i);const d=dd.dot(q1),p=pd.dot(q1);if(d&lt;=0&amp;&amp;p&lt;=0)return e.copy(i);Y1.subVectors(t,a);const x=dd.dot(Y1),v=pd.dot(Y1);if(x&gt;=0&amp;&amp;v&lt;=x)return e.copy(a);const y=d*v-x*p;if(y&lt;=0&amp;&amp;d&gt;=0&amp;&amp;x&lt;=0)return l=d/(d-x),e.copy(i).addScaledVector(dd,l);W1.subVectors(t,o);const S=dd.dot(W1),T=pd.dot(W1);if(T&gt;=0&amp;&amp;S&lt;=T)return e.copy(o);const C=S*p-d*T;if(C&lt;=0&amp;&amp;p&gt;=0&amp;&amp;T&lt;=0)return h=p/(p-T),e.copy(i).addScaledVector(pd,h);const w=x*T-S*v;if(w&lt;=0&amp;&amp;v-x&gt;=0&amp;&amp;S-T&gt;=0)return $2.subVectors(o,a),h=(v-x)/(v-x+(S-T)),e.copy(a).addScaledVector($2,h);const M=1/(w+C+y);return l=C*M,h=y*M,e.copy(i).addScaledVector(dd,l).addScaledVector(pd,h)}equals(t){return t.a.equals(this.a)&amp;&amp;t.b.equals(this.b)&amp;&amp;t.c.equals(this.c)}}const UC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},tu={h:0,s:0,l:0},Kx={h:0,s:0,l:0};function J1(n,t,e){return e&lt;0&amp;&amp;(e+=1),e&gt;1&amp;&amp;(e-=1),e&lt;1/6?n+(t-n)*6*e:e&lt;1/2?t:e&lt;2/3?n+(t-n)*6*(2/3-e):n}class Se{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&amp;&amp;i===void 0){const a=t;a&amp;&amp;a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&amp;&amp;this.setStyle(a)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Fa){return t=Math.floor(t),this.r=(t&gt;&gt;16&amp;255)/255,this.g=(t&gt;&gt;8&amp;255)/255,this.b=(t&amp;255)/255,Gn.colorSpaceToWorking(this,e),this}setRGB(t,e,i,a=Gn.workingColorSpace){return this.r=t,this.g=e,this.b=i,Gn.colorSpaceToWorking(this,a),this}setHSL(t,e,i,a=Gn.workingColorSpace){if(t=oM(t,1),e=nn(e,0,1),i=nn(i,0,1),e===0)this.r=this.g=this.b=i;else{const o=i&lt;=.5?i*(1+e):i+e-i*e,l=2*i-o;this.r=J1(l,o,t+1/3),this.g=J1(l,o,t),this.b=J1(l,o,t-1/3)}return Gn.colorSpaceToWorking(this,a),this}setStyle(t,e=Fa){function i(o){o!==void 0&amp;&amp;parseFloat(o)&lt;1&amp;&amp;_e("Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const l=a[1],h=a[2];switch(l){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:_e("Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=a[1],l=o.length;if(l===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(l===6)return this.setHex(parseInt(o,16),e);_e("Color: Invalid hex color "+t)}else if(t&amp;&amp;t.length&gt;0)return this.setColorName(t,e);return this}setColorName(t,e=Fa){const i=UC[t.toLowerCase()];return i!==void 0?this.setHex(i,e):_e("Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=rc(t.r),this.g=rc(t.g),this.b=rc(t.b),this}copyLinearToSRGB(t){return this.r=Hd(t.r),this.g=Hd(t.g),this.b=Hd(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Fa){return Gn.workingToColorSpace(is.copy(this),t),Math.round(nn(is.r*255,0,255))*65536+Math.round(nn(is.g*255,0,255))*256+Math.round(nn(is.b*255,0,255))}getHexString(t=Fa){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Gn.workingColorSpace){Gn.workingToColorSpace(is.copy(this),e);const i=is.r,a=is.g,o=is.b,l=Math.max(i,a,o),h=Math.min(i,a,o);let d,p;const x=(h+l)/2;if(h===l)d=0,p=0;else{const v=l-h;switch(p=x&lt;=.5?v/(l+h):v/(2-l-h),l){case i:d=(a-o)/v+(a&lt;o?6:0);break;case a:d=(o-i)/v+2;break;case o:d=(i-a)/v+4;break}d/=6}return t.h=d,t.s=p,t.l=x,t}getRGB(t,e=Gn.workingColorSpace){return Gn.workingToColorSpace(is.copy(this),e),t.r=is.r,t.g=is.g,t.b=is.b,t}getStyle(t=Fa){Gn.workingToColorSpace(is.copy(this),t);const e=is.r,i=is.g,a=is.b;return t!==Fa?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(t,e,i){return this.getHSL(tu),this.setHSL(tu.h+t,tu.s+e,tu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(tu),t.getHSL(Kx);const i=M0(tu.h,Kx.h,e),a=M0(tu.s,Kx.s,e),o=M0(tu.l,Kx.l,e);return this.setHSL(i,a,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,a=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*a,this.g=o[1]*e+o[4]*i+o[7]*a,this.b=o[2]*e+o[5]*i+o[8]*a,this}equals(t){return t.r===this.r&amp;&amp;t.g===this.g&amp;&amp;t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const is=new Se;Se.NAMES=UC;let TO=0;class cs extends xl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:TO++}),this.uuid=dr(),this.name="",this.type="Material",this.blending=Gf,this.side=oc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=ay,this.blendDst=sy,this.blendEquation=ru,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Se(0,0,0),this.blendAlpha=0,this.depthFunc=Yf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fS,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Df,this.stencilZFail=Df,this.stencilZPass=Df,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest&gt;0!=t&gt;0&amp;&amp;this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){_e(`Material: parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){_e(`Material: '${e}' is not a property of THREE.${this.type}.`);continue}a&amp;&amp;a.isColor?a.set(i):a&amp;&amp;a.isVector3&amp;&amp;i&amp;&amp;i.isVector3?a.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&amp;&amp;(t={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&amp;&amp;(i.name=this.name),this.color&amp;&amp;this.color.isColor&amp;&amp;(i.color=this.color.getHex()),this.roughness!==void 0&amp;&amp;(i.roughness=this.roughness),this.metalness!==void 0&amp;&amp;(i.metalness=this.metalness),this.sheen!==void 0&amp;&amp;(i.sheen=this.sheen),this.sheenColor&amp;&amp;this.sheenColor.isColor&amp;&amp;(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&amp;&amp;(i.sheenRoughness=this.sheenRoughness),this.emissive&amp;&amp;this.emissive.isColor&amp;&amp;(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&amp;&amp;this.emissiveIntensity!==1&amp;&amp;(i.emissiveIntensity=this.emissiveIntensity),this.specular&amp;&amp;this.specular.isColor&amp;&amp;(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&amp;&amp;(i.specularIntensity=this.specularIntensity),this.specularColor&amp;&amp;this.specularColor.isColor&amp;&amp;(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&amp;&amp;(i.shininess=this.shininess),this.clearcoat!==void 0&amp;&amp;(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&amp;&amp;(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&amp;&amp;this.clearcoatMap.isTexture&amp;&amp;(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&amp;&amp;this.clearcoatRoughnessMap.isTexture&amp;&amp;(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&amp;&amp;this.clearcoatNormalMap.isTexture&amp;&amp;(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&amp;&amp;this.sheenColorMap.isTexture&amp;&amp;(i.sheenColorMap=this.sheenColorMap.toJSON(t).uuid),this.sheenRoughnessMap&amp;&amp;this.sheenRoughnessMap.isTexture&amp;&amp;(i.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(t).uuid),this.dispersion!==void 0&amp;&amp;(i.dispersion=this.dispersion),this.iridescence!==void 0&amp;&amp;(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&amp;&amp;(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&amp;&amp;(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&amp;&amp;this.iridescenceMap.isTexture&amp;&amp;(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&amp;&amp;this.iridescenceThicknessMap.isTexture&amp;&amp;(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&amp;&amp;(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&amp;&amp;(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&amp;&amp;this.anisotropyMap.isTexture&amp;&amp;(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&amp;&amp;this.map.isTexture&amp;&amp;(i.map=this.map.toJSON(t).uuid),this.matcap&amp;&amp;this.matcap.isTexture&amp;&amp;(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&amp;&amp;this.alphaMap.isTexture&amp;&amp;(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&amp;&amp;this.lightMap.isTexture&amp;&amp;(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&amp;&amp;this.aoMap.isTexture&amp;&amp;(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&amp;&amp;this.bumpMap.isTexture&amp;&amp;(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&amp;&amp;this.normalMap.isTexture&amp;&amp;(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&amp;&amp;this.displacementMap.isTexture&amp;&amp;(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&amp;&amp;this.roughnessMap.isTexture&amp;&amp;(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&amp;&amp;this.metalnessMap.isTexture&amp;&amp;(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&amp;&amp;this.emissiveMap.isTexture&amp;&amp;(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&amp;&amp;this.specularMap.isTexture&amp;&amp;(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&amp;&amp;this.specularIntensityMap.isTexture&amp;&amp;(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&amp;&amp;this.specularColorMap.isTexture&amp;&amp;(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&amp;&amp;this.envMap.isTexture&amp;&amp;(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&amp;&amp;(i.combine=this.combine)),this.envMapRotation!==void 0&amp;&amp;(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&amp;&amp;(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&amp;&amp;(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&amp;&amp;(i.refractionRatio=this.refractionRatio),this.gradientMap&amp;&amp;this.gradientMap.isTexture&amp;&amp;(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&amp;&amp;(i.transmission=this.transmission),this.transmissionMap&amp;&amp;this.transmissionMap.isTexture&amp;&amp;(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&amp;&amp;(i.thickness=this.thickness),this.thicknessMap&amp;&amp;this.thicknessMap.isTexture&amp;&amp;(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&amp;&amp;this.attenuationDistance!==1/0&amp;&amp;(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&amp;&amp;(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&amp;&amp;(i.size=this.size),this.shadowSide!==null&amp;&amp;(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&amp;&amp;(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Gf&amp;&amp;(i.blending=this.blending),this.side!==oc&amp;&amp;(i.side=this.side),this.vertexColors===!0&amp;&amp;(i.vertexColors=!0),this.opacity&lt;1&amp;&amp;(i.opacity=this.opacity),this.transparent===!0&amp;&amp;(i.transparent=!0),this.blendSrc!==ay&amp;&amp;(i.blendSrc=this.blendSrc),this.blendDst!==sy&amp;&amp;(i.blendDst=this.blendDst),this.blendEquation!==ru&amp;&amp;(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&amp;&amp;(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&amp;&amp;(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&amp;&amp;(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&amp;&amp;this.blendColor.isColor&amp;&amp;(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&amp;&amp;(i.blendAlpha=this.blendAlpha),this.depthFunc!==Yf&amp;&amp;(i.depthFunc=this.depthFunc),this.depthTest===!1&amp;&amp;(i.depthTest=this.depthTest),this.depthWrite===!1&amp;&amp;(i.depthWrite=this.depthWrite),this.colorWrite===!1&amp;&amp;(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&amp;&amp;(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==fS&amp;&amp;(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&amp;&amp;(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&amp;&amp;(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Df&amp;&amp;(i.stencilFail=this.stencilFail),this.stencilZFail!==Df&amp;&amp;(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Df&amp;&amp;(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&amp;&amp;(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&amp;&amp;this.rotation!==0&amp;&amp;(i.rotation=this.rotation),this.polygonOffset===!0&amp;&amp;(i.polygonOffset=!0),this.polygonOffsetFactor!==0&amp;&amp;(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&amp;&amp;(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&amp;&amp;this.linewidth!==1&amp;&amp;(i.linewidth=this.linewidth),this.dashSize!==void 0&amp;&amp;(i.dashSize=this.dashSize),this.gapSize!==void 0&amp;&amp;(i.gapSize=this.gapSize),this.scale!==void 0&amp;&amp;(i.scale=this.scale),this.dithering===!0&amp;&amp;(i.dithering=!0),this.alphaTest&gt;0&amp;&amp;(i.alphaTest=this.alphaTest),this.alphaHash===!0&amp;&amp;(i.alphaHash=!0),this.alphaToCoverage===!0&amp;&amp;(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&amp;&amp;(i.premultipliedAlpha=!0),this.forceSinglePass===!0&amp;&amp;(i.forceSinglePass=!0),this.wireframe===!0&amp;&amp;(i.wireframe=!0),this.wireframeLinewidth&gt;1&amp;&amp;(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&amp;&amp;(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&amp;&amp;(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&amp;&amp;(i.flatShading=!0),this.visible===!1&amp;&amp;(i.visible=!1),this.toneMapped===!1&amp;&amp;(i.toneMapped=!1),this.fog===!1&amp;&amp;(i.fog=!1),Object.keys(this.userData).length&gt;0&amp;&amp;(i.userData=this.userData);function a(o){const l=[];for(const h in o){const d=o[h];delete d.metadata,l.push(d)}return l}if(e){const o=a(t.textures),l=a(t.images);o.length&gt;0&amp;&amp;(i.textures=o),l.length&gt;0&amp;&amp;(i.images=l)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const a=e.length;i=new Array(a);for(let o=0;o!==a;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&amp;&amp;this.version++}}class fc extends cs{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Se(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const sc=AO();function AO(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let d=0;d&lt;256;++d){const p=d-127;p&lt;-27?(i[d]=0,i[d|256]=32768,a[d]=24,a[d|256]=24):p&lt;-14?(i[d]=1024&gt;&gt;-p-14,i[d|256]=1024&gt;&gt;-p-14|32768,a[d]=-p-1,a[d|256]=-p-1):p&lt;=15?(i[d]=p+15&lt;&lt;10,i[d|256]=p+15&lt;&lt;10|32768,a[d]=13,a[d|256]=13):p&lt;128?(i[d]=31744,i[d|256]=64512,a[d]=24,a[d|256]=24):(i[d]=31744,i[d|256]=64512,a[d]=13,a[d|256]=13)}const o=new Uint32Array(2048),l=new Uint32Array(64),h=new Uint32Array(64);for(let d=1;d&lt;1024;++d){let p=d&lt;&lt;13,x=0;for(;(p&amp;8388608)===0;)p&lt;&lt;=1,x-=8388608;p&amp;=-8388609,x+=947912704,o[d]=p|x}for(let d=1024;d&lt;2048;++d)o[d]=939524096+(d-1024&lt;&lt;13);for(let d=1;d&lt;31;++d)l[d]=d&lt;&lt;23;l[31]=1199570944,l[32]=2147483648;for(let d=33;d&lt;63;++d)l[d]=2147483648+(d-32&lt;&lt;23);l[63]=3347054592;for(let d=1;d&lt;64;++d)d!==32&amp;&amp;(h[d]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:a,mantissaTable:o,exponentTable:l,offsetTable:h}}function Ws(n){Math.abs(n)&gt;65504&amp;&amp;_e("DataUtils.toHalfFloat(): Value out of range."),n=nn(n,-65504,65504),sc.floatView[0]=n;const t=sc.uint32View[0],e=t&gt;&gt;23&amp;511;return sc.baseTable[e]+((t&amp;8388607)&gt;&gt;sc.shiftTable[e])}function d0(n){const t=n&gt;&gt;10;return sc.uint32View[0]=sc.mantissaTable[sc.offsetTable[t]+(n&amp;1023)]+sc.exponentTable[t],sc.floatView[0]}class If{static toHalfFloat(t){return Ws(t)}static fromHalfFloat(t){return d0(t)}}const ra=new K,Qx=new Zt;let wO=0;class ci{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:wO++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=F0,this.updateRanges=[],this.gpuType=Li,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&amp;&amp;this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let a=0,o=this.itemSize;a&lt;o;a++)this.array[t+a]=e.array[i+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e&lt;i;e++)Qx.fromBufferAttribute(this,e),Qx.applyMatrix3(t),this.setXY(e,Qx.x,Qx.y);else if(this.itemSize===3)for(let e=0,i=this.count;e&lt;i;e++)ra.fromBufferAttribute(this,e),ra.applyMatrix3(t),this.setXYZ(e,ra.x,ra.y,ra.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e&lt;i;e++)ra.fromBufferAttribute(this,e),ra.applyMatrix4(t),this.setXYZ(e,ra.x,ra.y,ra.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e&lt;i;e++)ra.fromBufferAttribute(this,e),ra.applyNormalMatrix(t),this.setXYZ(e,ra.x,ra.y,ra.z);return this}transformDirection(t){for(let e=0,i=this.count;e&lt;i;e++)ra.fromBufferAttribute(this,e),ra.transformDirection(t),this.setXYZ(e,ra.x,ra.y,ra.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&amp;&amp;(i=Ns(i,this.array)),i}setComponent(t,e,i){return this.normalized&amp;&amp;(i=vn(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setX(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setY(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setZ(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setW(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,a){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=a,this}setXYZW(t,e,i,a,o){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array),o=vn(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=a,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&amp;&amp;(t.name=this.name),this.usage!==F0&amp;&amp;(t.usage=this.usage),t}}class CO extends ci{constructor(t,e,i){super(new Int8Array(t),e,i)}}class RO extends ci{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class DO extends ci{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class NO extends ci{constructor(t,e,i){super(new Int16Array(t),e,i)}}class cM extends ci{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class UO extends ci{constructor(t,e,i){super(new Int32Array(t),e,i)}}class uM extends ci{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class OO extends ci{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=d0(this.array[t*this.itemSize]);return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setX(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize]=Ws(e),this}getY(t){let e=d0(this.array[t*this.itemSize+1]);return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setY(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+1]=Ws(e),this}getZ(t){let e=d0(this.array[t*this.itemSize+2]);return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setZ(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+2]=Ws(e),this}getW(t){let e=d0(this.array[t*this.itemSize+3]);return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setW(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.array[t*this.itemSize+3]=Ws(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this}setXYZ(t,e,i,a){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this.array[t+2]=Ws(a),this}setXYZW(t,e,i,a,o){return t*=this.itemSize,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array),o=vn(o,this.array)),this.array[t+0]=Ws(e),this.array[t+1]=Ws(i),this.array[t+2]=Ws(a),this.array[t+3]=Ws(o),this}}class Be extends ci{constructor(t,e,i){super(new Float32Array(t),e,i)}}let LO=0;const Lr=new Qe,$1=new Xn,md=new K,fr=new os,Xm=new os,Ra=new K;class gn extends xl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:LO++}),this.uuid=dr(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(RC(t)?uM:cM)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&amp;&amp;(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new mn().getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&amp;&amp;(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&amp;&amp;this.computeBoundingBox(),this.boundingSphere!==null&amp;&amp;this.computeBoundingSphere(),this}applyQuaternion(t){return Lr.makeRotationFromQuaternion(t),this.applyMatrix4(Lr),this}rotateX(t){return Lr.makeRotationX(t),this.applyMatrix4(Lr),this}rotateY(t){return Lr.makeRotationY(t),this.applyMatrix4(Lr),this}rotateZ(t){return Lr.makeRotationZ(t),this.applyMatrix4(Lr),this}translate(t,e,i){return Lr.makeTranslation(t,e,i),this.applyMatrix4(Lr),this}scale(t,e,i){return Lr.makeScale(t,e,i),this.applyMatrix4(Lr),this}lookAt(t){return $1.lookAt(t),$1.updateMatrix(),this.applyMatrix4($1.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(md).negate(),this.translate(md.x,md.y,md.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let a=0,o=t.length;a&lt;o;a++){const l=t[a];i.push(l.x,l.y,l.z||0)}this.setAttribute("position",new Be(i,3))}else{const i=Math.min(t.length,e.count);for(let a=0;a&lt;i;a++){const o=t[a];e.setXYZ(a,o.x,o.y,o.z||0)}t.length&gt;e.count&amp;&amp;_e("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&amp;&amp;(this.boundingBox=new os);const t=this.attributes.position,e=this.morphAttributes.position;if(t&amp;&amp;t.isGLBufferAttribute){on("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new K(-1/0,-1/0,-1/0),new K(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,a=e.length;i&lt;a;i++){const o=e[i];fr.setFromBufferAttribute(o),this.morphTargetsRelative?(Ra.addVectors(this.boundingBox.min,fr.min),this.boundingBox.expandByPoint(Ra),Ra.addVectors(this.boundingBox.max,fr.max),this.boundingBox.expandByPoint(Ra)):(this.boundingBox.expandByPoint(fr.min),this.boundingBox.expandByPoint(fr.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&amp;&amp;on('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&amp;&amp;(this.boundingSphere=new Ga);const t=this.attributes.position,e=this.morphAttributes.position;if(t&amp;&amp;t.isGLBufferAttribute){on("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new K,1/0);return}if(t){const i=this.boundingSphere.center;if(fr.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o&lt;l;o++){const h=e[o];Xm.setFromBufferAttribute(h),this.morphTargetsRelative?(Ra.addVectors(fr.min,Xm.min),fr.expandByPoint(Ra),Ra.addVectors(fr.max,Xm.max),fr.expandByPoint(Ra)):(fr.expandByPoint(Xm.min),fr.expandByPoint(Xm.max))}fr.getCenter(i);let a=0;for(let o=0,l=t.count;o&lt;l;o++)Ra.fromBufferAttribute(t,o),a=Math.max(a,i.distanceToSquared(Ra));if(e)for(let o=0,l=e.length;o&lt;l;o++){const h=e[o],d=this.morphTargetsRelative;for(let p=0,x=h.count;p&lt;x;p++)Ra.fromBufferAttribute(h,p),d&amp;&amp;(md.fromBufferAttribute(t,p),Ra.add(md)),a=Math.max(a,i.distanceToSquared(Ra))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&amp;&amp;on('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){on("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,a=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&amp;&amp;this.setAttribute("tangent",new ci(new Float32Array(4*i.count),4));const l=this.getAttribute("tangent"),h=[],d=[];for(let H=0;H&lt;i.count;H++)h[H]=new K,d[H]=new K;const p=new K,x=new K,v=new K,y=new Zt,S=new Zt,T=new Zt,C=new K,w=new K;function M(H,L,B){p.fromBufferAttribute(i,H),x.fromBufferAttribute(i,L),v.fromBufferAttribute(i,B),y.fromBufferAttribute(o,H),S.fromBufferAttribute(o,L),T.fromBufferAttribute(o,B),x.sub(p),v.sub(p),S.sub(y),T.sub(y);const Y=1/(S.x*T.y-T.x*S.y);isFinite(Y)&amp;&amp;(C.copy(x).multiplyScalar(T.y).addScaledVector(v,-S.y).multiplyScalar(Y),w.copy(v).multiplyScalar(S.x).addScaledVector(x,-T.x).multiplyScalar(Y),h[H].add(C),h[L].add(C),h[B].add(C),d[H].add(w),d[L].add(w),d[B].add(w))}let R=this.groups;R.length===0&amp;&amp;(R=[{start:0,count:t.count}]);for(let H=0,L=R.length;H&lt;L;++H){const B=R[H],Y=B.start,nt=B.count;for(let rt=Y,ft=Y+nt;rt&lt;ft;rt+=3)M(t.getX(rt+0),t.getX(rt+1),t.getX(rt+2))}const D=new K,O=new K,I=new K,z=new K;function G(H){I.fromBufferAttribute(a,H),z.copy(I);const L=h[H];D.copy(L),D.sub(I.multiplyScalar(I.dot(L))).normalize(),O.crossVectors(z,L);const Y=O.dot(d[H])&lt;0?-1:1;l.setXYZW(H,D.x,D.y,D.z,Y)}for(let H=0,L=R.length;H&lt;L;++H){const B=R[H],Y=B.start,nt=B.count;for(let rt=Y,ft=Y+nt;rt&lt;ft;rt+=3)G(t.getX(rt+0)),G(t.getX(rt+1)),G(t.getX(rt+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new ci(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let y=0,S=i.count;y&lt;S;y++)i.setXYZ(y,0,0,0);const a=new K,o=new K,l=new K,h=new K,d=new K,p=new K,x=new K,v=new K;if(t)for(let y=0,S=t.count;y&lt;S;y+=3){const T=t.getX(y+0),C=t.getX(y+1),w=t.getX(y+2);a.fromBufferAttribute(e,T),o.fromBufferAttribute(e,C),l.fromBufferAttribute(e,w),x.subVectors(l,o),v.subVectors(a,o),x.cross(v),h.fromBufferAttribute(i,T),d.fromBufferAttribute(i,C),p.fromBufferAttribute(i,w),h.add(x),d.add(x),p.add(x),i.setXYZ(T,h.x,h.y,h.z),i.setXYZ(C,d.x,d.y,d.z),i.setXYZ(w,p.x,p.y,p.z)}else for(let y=0,S=e.count;y&lt;S;y+=3)a.fromBufferAttribute(e,y+0),o.fromBufferAttribute(e,y+1),l.fromBufferAttribute(e,y+2),x.subVectors(l,o),v.subVectors(a,o),x.cross(v),i.setXYZ(y+0,x.x,x.y,x.z),i.setXYZ(y+1,x.x,x.y,x.z),i.setXYZ(y+2,x.x,x.y,x.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e&lt;i;e++)Ra.fromBufferAttribute(t,e),Ra.normalize(),t.setXYZ(e,Ra.x,Ra.y,Ra.z)}toNonIndexed(){function t(h,d){const p=h.array,x=h.itemSize,v=h.normalized,y=new p.constructor(d.length*x);let S=0,T=0;for(let C=0,w=d.length;C&lt;w;C++){h.isInterleavedBufferAttribute?S=d[C]*h.data.stride+h.offset:S=d[C]*x;for(let M=0;M&lt;x;M++)y[T++]=p[S++]}return new ci(y,x,v)}if(this.index===null)return _e("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new gn,i=this.index.array,a=this.attributes;for(const h in a){const d=a[h],p=t(d,i);e.setAttribute(h,p)}const o=this.morphAttributes;for(const h in o){const d=[],p=o[h];for(let x=0,v=p.length;x&lt;v;x++){const y=p[x],S=t(y,i);d.push(S)}e.morphAttributes[h]=d}e.morphTargetsRelative=this.morphTargetsRelative;const l=this.groups;for(let h=0,d=l.length;h&lt;d;h++){const p=l[h];e.addGroup(p.start,p.count,p.materialIndex)}return e}toJSON(){const t={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&amp;&amp;(t.name=this.name),Object.keys(this.userData).length&gt;0&amp;&amp;(t.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&amp;&amp;(t[p]=d[p]);return t}t.data={attributes:{}};const e=this.index;e!==null&amp;&amp;(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const d in i){const p=i[d];t.data.attributes[d]=p.toJSON(t.data)}const a={};let o=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],x=[];for(let v=0,y=p.length;v&lt;y;v++){const S=p[v];x.push(S.toJSON(t.data))}x.length&gt;0&amp;&amp;(a[d]=x,o=!0)}o&amp;&amp;(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const l=this.groups;l.length&gt;0&amp;&amp;(t.data.groups=JSON.parse(JSON.stringify(l)));const h=this.boundingSphere;return h!==null&amp;&amp;(t.data.boundingSphere=h.toJSON()),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&amp;&amp;this.setIndex(i.clone());const a=t.attributes;for(const p in a){const x=a[p];this.setAttribute(p,x.clone(e))}const o=t.morphAttributes;for(const p in o){const x=[],v=o[p];for(let y=0,S=v.length;y&lt;S;y++)x.push(v[y].clone(e));this.morphAttributes[p]=x}this.morphTargetsRelative=t.morphTargetsRelative;const l=t.groups;for(let p=0,x=l.length;p&lt;x;p++){const v=l[p];this.addGroup(v.start,v.count,v.materialIndex)}const h=t.boundingBox;h!==null&amp;&amp;(this.boundingBox=h.clone());const d=t.boundingSphere;return d!==null&amp;&amp;(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const tE=new Qe,gf=new lp,Jx=new Ga,eE=new K,$x=new K,tv=new K,ev=new K,tb=new K,nv=new K,nE=new K,iv=new K;class ki extends Xn{constructor(t=new gn,e=new fc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&amp;&amp;(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&amp;&amp;(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length&gt;0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o&lt;l;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}getVertexPosition(t,e){const i=this.geometry,a=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative;e.fromBufferAttribute(a,t);const h=this.morphTargetInfluences;if(o&amp;&amp;h){nv.set(0,0,0);for(let d=0,p=o.length;d&lt;p;d++){const x=h[d],v=o[d];x!==0&amp;&amp;(tb.fromBufferAttribute(v,t),l?nv.addScaledVector(tb,x):nv.addScaledVector(tb.sub(e),x))}e.add(nv)}return e}raycast(t,e){const i=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&amp;&amp;(i.boundingSphere===null&amp;&amp;i.computeBoundingSphere(),Jx.copy(i.boundingSphere),Jx.applyMatrix4(o),gf.copy(t.ray).recast(t.near),!(Jx.containsPoint(gf.origin)===!1&amp;&amp;(gf.intersectSphere(Jx,eE)===null||gf.origin.distanceToSquared(eE)&gt;(t.far-t.near)**2))&amp;&amp;(tE.copy(o).invert(),gf.copy(t.ray).applyMatrix4(tE),!(i.boundingBox!==null&amp;&amp;gf.intersectsBox(i.boundingBox)===!1)&amp;&amp;this._computeIntersections(t,e,gf)))}_computeIntersections(t,e,i){let a;const o=this.geometry,l=this.material,h=o.index,d=o.attributes.position,p=o.attributes.uv,x=o.attributes.uv1,v=o.attributes.normal,y=o.groups,S=o.drawRange;if(h!==null)if(Array.isArray(l))for(let T=0,C=y.length;T&lt;C;T++){const w=y[T],M=l[w.materialIndex],R=Math.max(w.start,S.start),D=Math.min(h.count,Math.min(w.start+w.count,S.start+S.count));for(let O=R,I=D;O&lt;I;O+=3){const z=h.getX(O),G=h.getX(O+1),H=h.getX(O+2);a=av(this,M,t,i,p,x,v,z,G,H),a&amp;&amp;(a.faceIndex=Math.floor(O/3),a.face.materialIndex=w.materialIndex,e.push(a))}}else{const T=Math.max(0,S.start),C=Math.min(h.count,S.start+S.count);for(let w=T,M=C;w&lt;M;w+=3){const R=h.getX(w),D=h.getX(w+1),O=h.getX(w+2);a=av(this,l,t,i,p,x,v,R,D,O),a&amp;&amp;(a.faceIndex=Math.floor(w/3),e.push(a))}}else if(d!==void 0)if(Array.isArray(l))for(let T=0,C=y.length;T&lt;C;T++){const w=y[T],M=l[w.materialIndex],R=Math.max(w.start,S.start),D=Math.min(d.count,Math.min(w.start+w.count,S.start+S.count));for(let O=R,I=D;O&lt;I;O+=3){const z=O,G=O+1,H=O+2;a=av(this,M,t,i,p,x,v,z,G,H),a&amp;&amp;(a.faceIndex=Math.floor(O/3),a.face.materialIndex=w.materialIndex,e.push(a))}}else{const T=Math.max(0,S.start),C=Math.min(d.count,S.start+S.count);for(let w=T,M=C;w&lt;M;w+=3){const R=w,D=w+1,O=w+2;a=av(this,l,t,i,p,x,v,R,D,O),a&amp;&amp;(a.faceIndex=Math.floor(w/3),e.push(a))}}}}function zO(n,t,e,i,a,o,l,h){let d;if(t.side===Os?d=i.intersectTriangle(l,o,a,!0,h):d=i.intersectTriangle(a,o,l,t.side===oc,h),d===null)return null;iv.copy(h),iv.applyMatrix4(n.matrixWorld);const p=e.ray.origin.distanceTo(iv);return p&lt;e.near||p&gt;e.far?null:{distance:p,point:iv.clone(),object:n}}function av(n,t,e,i,a,o,l,h,d,p){n.getVertexPosition(h,$x),n.getVertexPosition(d,tv),n.getVertexPosition(p,ev);const x=zO(n,t,e,i,$x,tv,ev,nE);if(x){const v=new K;Zs.getBarycoord(nE,$x,tv,ev,v),a&amp;&amp;(x.uv=Zs.getInterpolatedAttribute(a,h,d,p,v,new Zt)),o&amp;&amp;(x.uv1=Zs.getInterpolatedAttribute(o,h,d,p,v,new Zt)),l&amp;&amp;(x.normal=Zs.getInterpolatedAttribute(l,h,d,p,v,new K),x.normal.dot(i.direction)&gt;0&amp;&amp;x.normal.multiplyScalar(-1));const y={a:h,b:d,c:p,normal:new K,materialIndex:0};Zs.getNormal($x,tv,ev,y.normal),x.face=y,x.barycoord=v}return x}class Jf extends gn{constructor(t=1,e=1,i=1,a=1,o=1,l=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:a,heightSegments:o,depthSegments:l};const h=this;a=Math.floor(a),o=Math.floor(o),l=Math.floor(l);const d=[],p=[],x=[],v=[];let y=0,S=0;T("z","y","x",-1,-1,i,e,t,l,o,0),T("z","y","x",1,-1,i,e,-t,l,o,1),T("x","z","y",1,1,t,i,e,a,l,2),T("x","z","y",1,-1,t,i,-e,a,l,3),T("x","y","z",1,-1,t,e,i,a,o,4),T("x","y","z",-1,-1,t,e,-i,a,o,5),this.setIndex(d),this.setAttribute("position",new Be(p,3)),this.setAttribute("normal",new Be(x,3)),this.setAttribute("uv",new Be(v,2));function T(C,w,M,R,D,O,I,z,G,H,L){const B=O/G,Y=I/H,nt=O/2,rt=I/2,ft=z/2,pt=G+1,k=H+1;let tt=0,it=0;const xt=new K;for(let bt=0;bt&lt;k;bt++){const Z=bt*Y-rt;for(let ht=0;ht&lt;pt;ht++){const Rt=ht*B-nt;xt[C]=Rt*R,xt[w]=Z*D,xt[M]=ft,p.push(xt.x,xt.y,xt.z),xt[C]=0,xt[w]=0,xt[M]=z&gt;0?1:-1,x.push(xt.x,xt.y,xt.z),v.push(ht/G),v.push(1-bt/H),tt+=1}}for(let bt=0;bt&lt;H;bt++)for(let Z=0;Z&lt;G;Z++){const ht=y+Z+pt*bt,Rt=y+Z+pt*(bt+1),Bt=y+(Z+1)+pt*(bt+1),le=y+(Z+1)+pt*bt;d.push(ht,Rt,le),d.push(Rt,Bt,le),it+=6}h.addGroup(S,it,L),S+=it,y+=tt}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Jf(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function tp(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const a=n[e][i];a&amp;&amp;(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(_e("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=a.clone():Array.isArray(a)?t[e][i]=a.slice():t[e][i]=a}}return t}function Rs(n){const t={};for(let e=0;e&lt;n.length;e++){const i=tp(n[e]);for(const a in i)t[a]=i[a]}return t}function BO(n){const t=[];for(let e=0;e&lt;n.length;e++)t.push(n[e].clone());return t}function OC(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:Gn.workingColorSpace}const LC={clone:tp,merge:Rs};var IO=`void main() {
-	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
-}`,PO=`void main() {
-	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
-}`;class ls extends cs{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IO,this.fragmentShader=PO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&amp;&amp;this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=tp(t.uniforms),this.uniformsGroups=BO(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const a in this.uniforms){const l=this.uniforms[a].value;l&amp;&amp;l.isTexture?e.uniforms[a]={type:"t",value:l.toJSON(t).uuid}:l&amp;&amp;l.isColor?e.uniforms[a]={type:"c",value:l.getHex()}:l&amp;&amp;l.isVector2?e.uniforms[a]={type:"v2",value:l.toArray()}:l&amp;&amp;l.isVector3?e.uniforms[a]={type:"v3",value:l.toArray()}:l&amp;&amp;l.isVector4?e.uniforms[a]={type:"v4",value:l.toArray()}:l&amp;&amp;l.isMatrix3?e.uniforms[a]={type:"m3",value:l.toArray()}:l&amp;&amp;l.isMatrix4?e.uniforms[a]={type:"m4",value:l.toArray()}:e.uniforms[a]={value:l}}Object.keys(this.defines).length&gt;0&amp;&amp;(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&amp;&amp;(i[a]=!0);return Object.keys(i).length&gt;0&amp;&amp;(e.extensions=i),e}}class m_ extends Xn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qe,this.projectionMatrix=new Qe,this.projectionMatrixInverse=new Qe,this.coordinateSystem=hr,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const eu=new K,iE=new Zt,aE=new Zt;class Da extends m_{constructor(t=50,e=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Jd*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(jf*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Jd*2*Math.atan(Math.tan(jf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){eu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(eu.x,eu.y).multiplyScalar(-t/eu.z),eu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(eu.x,eu.y).multiplyScalar(-t/eu.z)}getViewSize(t,e){return this.getViewBounds(t,iE,aE),e.subVectors(aE,iE)}setViewOffset(t,e,i,a,o,l){this.aspect=t/e,this.view===null&amp;&amp;(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&amp;&amp;(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(jf*.5*this.fov)/this.zoom,i=2*e,a=this.aspect*i,o=-.5*a;const l=this.view;if(this.view!==null&amp;&amp;this.view.enabled){const d=l.fullWidth,p=l.fullHeight;o+=l.offsetX*a/d,e-=l.offsetY*i/p,a*=l.width/d,i*=l.height/p}const h=this.filmOffset;h!==0&amp;&amp;(o+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,e,e-i,t,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&amp;&amp;(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const gd=-90,xd=1;class zC extends Xn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Da(gd,xd,t,e);a.layers=this.layers,this.add(a);const o=new Da(gd,xd,t,e);o.layers=this.layers,this.add(o);const l=new Da(gd,xd,t,e);l.layers=this.layers,this.add(l);const h=new Da(gd,xd,t,e);h.layers=this.layers,this.add(h);const d=new Da(gd,xd,t,e);d.layers=this.layers,this.add(d);const p=new Da(gd,xd,t,e);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,a,o,l,h,d]=e;for(const p of e)this.remove(p);if(t===hr)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),l.up.set(0,0,1),l.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(t===Kd)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),l.up.set(0,0,-1),l.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const p of e)this.add(p),p.updateMatrixWorld()}update(t,e){this.parent===null&amp;&amp;this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==t.coordinateSystem&amp;&amp;(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,l,h,d,p,x]=this.children,v=t.getRenderTarget(),y=t.getActiveCubeFace(),S=t.getActiveMipmapLevel(),T=t.xr.enabled;t.xr.enabled=!1;const C=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,a),t.render(e,o),t.setRenderTarget(i,1,a),t.render(e,l),t.setRenderTarget(i,2,a),t.render(e,h),t.setRenderTarget(i,3,a),t.render(e,d),t.setRenderTarget(i,4,a),t.render(e,p),i.texture.generateMipmaps=C,t.setRenderTarget(i,5,a),t.render(e,x),t.setRenderTarget(v,y,S),t.xr.enabled=T,i.texture.needsPMREMUpdate=!0}}class cg extends ni{constructor(t=[],e=pl,i,a,o,l,h,d,p,x){super(t,e,i,a,o,l,h,d,p,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class fM extends Gr{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},a=[i,i,i,i,i,i];this.texture=new cg(a),this._setTextureOptions(e),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`
-
-				varying vec3 vWorldDirection;
-
-				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
-
-					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
-
-				}
-
-				void main() {
-
-					vWorldDirection = transformDirection( position, modelMatrix );
-
-					#include &lt;begin_vertex&gt;
-					#include &lt;project_vertex&gt;
-
-				}
-			`,fragmentShader:`
-
-				uniform sampler2D tEquirect;
-
-				varying vec3 vWorldDirection;
-
-				#include &lt;common&gt;
-
-				void main() {
-
-					vec3 direction = normalize( vWorldDirection );
-
-					vec2 sampleUV = equirectUv( direction );
-
-					gl_FragColor = texture2D( tEquirect, sampleUV );
-
-				}
-			`},a=new Jf(5,5,5),o=new ls({name:"CubemapFromEquirect",uniforms:tp(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Os,blending:To});o.uniforms.tEquirect.value=e;const l=new ki(a,o),h=e.minFilter;return e.minFilter===cl&amp;&amp;(e.minFilter=Jn),new zC(1,10,this).update(t,l),e.minFilter=h,l.geometry.dispose(),l.material.dispose(),this}clear(t,e=!0,i=!0,a=!0){const o=t.getRenderTarget();for(let l=0;l&lt;6;l++)t.setRenderTarget(this,l),t.clear(e,i,a);t.setRenderTarget(o)}}class Ld extends Xn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const VO={type:"move"};class Qv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&amp;&amp;(this._hand=new Ld,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&amp;&amp;(this._targetRay=new Ld,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new K,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new K),this._targetRay}getGripSpace(){return this._grip===null&amp;&amp;(this._grip=new Ld,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new K,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new K),this._grip}dispatchEvent(t){return this._targetRay!==null&amp;&amp;this._targetRay.dispatchEvent(t),this._grip!==null&amp;&amp;this._grip.dispatchEvent(t),this._hand!==null&amp;&amp;this._hand.dispatchEvent(t),this}connect(t){if(t&amp;&amp;t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&amp;&amp;(this._targetRay.visible=!1),this._grip!==null&amp;&amp;(this._grip.visible=!1),this._hand!==null&amp;&amp;(this._hand.visible=!1),this}update(t,e,i){let a=null,o=null,l=null;const h=this._targetRay,d=this._grip,p=this._hand;if(t&amp;&amp;e.session.visibilityState!=="visible-blurred"){if(p&amp;&amp;t.hand){l=!0;for(const C of t.hand.values()){const w=e.getJointPose(C,i),M=this._getHandJoint(p,C);w!==null&amp;&amp;(M.matrix.fromArray(w.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=w.radius),M.visible=w!==null}const x=p.joints["index-finger-tip"],v=p.joints["thumb-tip"],y=x.position.distanceTo(v.position),S=.02,T=.005;p.inputState.pinching&amp;&amp;y&gt;S+T?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!p.inputState.pinching&amp;&amp;y&lt;=S-T&amp;&amp;(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else d!==null&amp;&amp;t.gripSpace&amp;&amp;(o=e.getPose(t.gripSpace,i),o!==null&amp;&amp;(d.matrix.fromArray(o.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,o.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(o.linearVelocity)):d.hasLinearVelocity=!1,o.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(o.angularVelocity)):d.hasAngularVelocity=!1));h!==null&amp;&amp;(a=e.getPose(t.targetRaySpace,i),a===null&amp;&amp;o!==null&amp;&amp;(a=o),a!==null&amp;&amp;(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(VO)))}return h!==null&amp;&amp;(h.visible=a!==null),d!==null&amp;&amp;(d.visible=o!==null),p!==null&amp;&amp;(p.visible=l!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Ld;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class g_{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new Se(t),this.density=e}clone(){return new g_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class x_{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new Se(t),this.near=e,this.far=i}clone(){return new x_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class ug extends Xn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Qs,this.environmentIntensity=1,this.environmentRotation=new Qs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__&lt;"u"&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&amp;&amp;(this.background=t.background.clone()),t.environment!==null&amp;&amp;(this.environment=t.environment.clone()),t.fog!==null&amp;&amp;(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&amp;&amp;(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&amp;&amp;(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness&gt;0&amp;&amp;(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&amp;&amp;(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&amp;&amp;(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class v_{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=F0,this.updateRanges=[],this.version=0,this.uuid=dr()}onUploadCallback(){}set needsUpdate(t){t===!0&amp;&amp;this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let a=0,o=this.stride;a&lt;o;a++)this.array[t+a]=e.array[i+a];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&amp;&amp;(t.arrayBuffers={}),this.array.buffer._uuid===void 0&amp;&amp;(this.array.buffer._uuid=dr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&amp;&amp;(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&amp;&amp;(t.arrayBuffers={}),this.array.buffer._uuid===void 0&amp;&amp;(this.array.buffer._uuid=dr()),t.arrayBuffers[this.array.buffer._uuid]===void 0&amp;&amp;(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ws=new K;class Wf{constructor(t,e,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e&lt;i;e++)ws.fromBufferAttribute(this,e),ws.applyMatrix4(t),this.setXYZ(e,ws.x,ws.y,ws.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e&lt;i;e++)ws.fromBufferAttribute(this,e),ws.applyNormalMatrix(t),this.setXYZ(e,ws.x,ws.y,ws.z);return this}transformDirection(t){for(let e=0,i=this.count;e&lt;i;e++)ws.fromBufferAttribute(this,e),ws.transformDirection(t),this.setXYZ(e,ws.x,ws.y,ws.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&amp;&amp;(i=Ns(i,this.array)),i}setComponent(t,e,i){return this.normalized&amp;&amp;(i=vn(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&amp;&amp;(e=vn(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&amp;&amp;(e=Ns(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,a){return t=t*this.data.stride+this.offset,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=a,this}setXYZW(t,e,i,a,o){return t=t*this.data.stride+this.offset,this.normalized&amp;&amp;(e=vn(e,this.array),i=vn(i,this.array),a=vn(a,this.array),o=vn(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=a,this.data.array[t+3]=o,this}clone(t){if(t===void 0){G0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i&lt;this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o&lt;this.itemSize;o++)e.push(this.data.array[a+o])}return new ci(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&amp;&amp;(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&amp;&amp;(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Wf(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){G0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i&lt;this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o&lt;this.itemSize;o++)e.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&amp;&amp;(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&amp;&amp;(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class hM extends cs{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Se(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let vd;const qm=new K,yd=new K,_d=new K,bd=new Zt,Ym=new Zt,BC=new Qe,sv=new K,Wm=new K,rv=new K,sE=new Zt,eb=new Zt,rE=new Zt;class IC extends Xn{constructor(t=new hM){if(super(),this.isSprite=!0,this.type="Sprite",vd===void 0){vd=new gn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new v_(e,5);vd.setIndex([0,1,2,0,2,3]),vd.setAttribute("position",new Wf(i,3,0,!1)),vd.setAttribute("uv",new Wf(i,2,3,!1))}this.geometry=vd,this.material=t,this.center=new Zt(.5,.5),this.count=1}raycast(t,e){t.camera===null&amp;&amp;on('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),yd.setFromMatrixScale(this.matrixWorld),BC.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),_d.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&amp;&amp;this.material.sizeAttenuation===!1&amp;&amp;yd.multiplyScalar(-_d.z);const i=this.material.rotation;let a,o;i!==0&amp;&amp;(o=Math.cos(i),a=Math.sin(i));const l=this.center;ov(sv.set(-.5,-.5,0),_d,l,yd,a,o),ov(Wm.set(.5,-.5,0),_d,l,yd,a,o),ov(rv.set(.5,.5,0),_d,l,yd,a,o),sE.set(0,0),eb.set(1,0),rE.set(1,1);let h=t.ray.intersectTriangle(sv,Wm,rv,!1,qm);if(h===null&amp;&amp;(ov(Wm.set(-.5,.5,0),_d,l,yd,a,o),eb.set(0,1),h=t.ray.intersectTriangle(sv,rv,Wm,!1,qm),h===null))return;const d=t.ray.origin.distanceTo(qm);d&lt;t.near||d&gt;t.far||e.push({distance:d,point:qm.clone(),uv:Zs.getInterpolation(qm,sv,Wm,rv,sE,eb,rE,new Zt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&amp;&amp;this.center.copy(t.center),this.material=t.material,this}}function ov(n,t,e,i,a,o){bd.subVectors(n,e).addScalar(.5).multiply(i),a!==void 0?(Ym.x=o*bd.x-a*bd.y,Ym.y=a*bd.x+o*bd.y):Ym.copy(bd),n.copy(t),n.x+=Ym.x,n.y+=Ym.y,n.applyMatrix4(BC)}const lv=new K,oE=new K;class PC extends Xn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,a=e.length;i&lt;a;i++){const o=e[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const a=this.levels;let o;for(o=0;o&lt;a.length&amp;&amp;!(e&lt;a[o].distance);o++);return a.splice(o,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i&lt;e.length;i++)if(e[i].distance===t){const a=e.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length&gt;0){let i,a;for(i=1,a=e.length;i&lt;a;i++){let o=e[i].distance;if(e[i].object.visible&amp;&amp;(o-=o*e[i].hysteresis),t&lt;o)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length&gt;0){lv.setFromMatrixPosition(this.matrixWorld);const a=t.ray.origin.distanceTo(lv);this.getObjectForDistance(a).raycast(t,e)}}update(t){const e=this.levels;if(e.length&gt;1){lv.setFromMatrixPosition(t.matrixWorld),oE.setFromMatrixPosition(this.matrixWorld);const i=lv.distanceTo(oE)/t.zoom;e[0].object.visible=!0;let a,o;for(a=1,o=e.length;a&lt;o;a++){let l=e[a].distance;if(e[a].object.visible&amp;&amp;(l-=l*e[a].hysteresis),i&gt;=l)e[a-1].object.visible=!1,e[a].object.visible=!0;else break}for(this._currentLevel=a-1;a&lt;o;a++)e[a].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&amp;&amp;(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let a=0,o=i.length;a&lt;o;a++){const l=i[a];e.object.levels.push({object:l.object.uuid,distance:l.distance,hysteresis:l.hysteresis})}return e}}const lE=new K,cE=new Cn,uE=new Cn,FO=new K,fE=new Qe,cv=new K,nb=new Ga,hE=new Qe,ib=new lp;class VC extends ki{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cS,this.bindMatrix=new Qe,this.bindMatrixInverse=new Qe,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&amp;&amp;(this.boundingBox=new os),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i&lt;e.count;i++)this.getVertexPosition(i,cv),this.boundingBox.expandByPoint(cv)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&amp;&amp;(this.boundingSphere=new Ga),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i&lt;e.count;i++)this.getVertexPosition(i,cv),this.boundingSphere.expandByPoint(cv)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&amp;&amp;(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&amp;&amp;(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,a=this.matrixWorld;i!==void 0&amp;&amp;(this.boundingSphere===null&amp;&amp;this.computeBoundingSphere(),nb.copy(this.boundingSphere),nb.applyMatrix4(a),t.ray.intersectsSphere(nb)!==!1&amp;&amp;(hE.copy(a).invert(),ib.copy(t.ray).applyMatrix4(hE),!(this.boundingBox!==null&amp;&amp;ib.intersectsBox(this.boundingBox)===!1)&amp;&amp;this._computeIntersections(t,e,ib)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&amp;&amp;(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new Cn,e=this.geometry.attributes.skinWeight;for(let i=0,a=e.count;i&lt;a;i++){t.fromBufferAttribute(e,i);const o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===cS?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===mC?this.bindMatrixInverse.copy(this.bindMatrix).invert():_e("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,a=this.geometry;cE.fromBufferAttribute(a.attributes.skinIndex,t),uE.fromBufferAttribute(a.attributes.skinWeight,t),lE.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let o=0;o&lt;4;o++){const l=uE.getComponent(o);if(l!==0){const h=cE.getComponent(o);fE.multiplyMatrices(i.bones[h].matrixWorld,i.boneInverses[h]),e.addScaledVector(FO.copy(lE).applyMatrix4(fE),l)}}return e.applyMatrix4(this.bindMatrixInverse)}}class dM extends Xn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fr extends ni{constructor(t=null,e=1,i=1,a,o,l,h,d,p=Ha,x=Ha,v,y){super(null,l,h,d,p,x,a,o,v,y),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const dE=new Qe,HO=new Qe;class y_{constructor(t=[],e=[]){this.uuid=dr(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){_e("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i&lt;a;i++)this.boneInverses.push(new Qe)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t&lt;e;t++){const i=new Qe;this.bones[t]&amp;&amp;i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t&lt;e;t++){const i=this.bones[t];i&amp;&amp;i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t&lt;e;t++){const i=this.bones[t];i&amp;&amp;(i.parent&amp;&amp;i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let o=0,l=t.length;o&lt;l;o++){const h=t[o]?t[o].matrixWorld:HO;dE.multiplyMatrices(h,e[o]),dE.toArray(i,o*16)}a!==null&amp;&amp;(a.needsUpdate=!0)}clone(){return new y_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Fr(e,t,t,$i,Li);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e&lt;i;e++){const a=this.bones[e];if(a.name===t)return a}}dispose(){this.boneTexture!==null&amp;&amp;(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,a=t.bones.length;i&lt;a;i++){const o=t.bones[i];let l=e[o];l===void 0&amp;&amp;(_e("Skeleton: No bone found with UUID:",o),l=new dM),this.bones.push(l),this.boneInverses.push(new Qe().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let a=0,o=e.length;a&lt;o;a++){const l=e[a];t.bones.push(l.uuid);const h=i[a];t.boneInverses.push(h.toArray())}return t}}class ep extends ci{constructor(t,e,i,a=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const Sd=new Qe,pE=new Qe,uv=[],mE=new os,GO=new Qe,Zm=new ki,Km=new Ga;class FC extends ki{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new ep(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a&lt;i;a++)this.setMatrixAt(a,GO)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&amp;&amp;(this.boundingBox=new os),t.boundingBox===null&amp;&amp;t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i&lt;e;i++)this.getMatrixAt(i,Sd),mE.copy(t.boundingBox).applyMatrix4(Sd),this.boundingBox.union(mE)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&amp;&amp;(this.boundingSphere=new Ga),t.boundingSphere===null&amp;&amp;t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i&lt;e;i++)this.getMatrixAt(i,Sd),Km.copy(t.boundingSphere).applyMatrix4(Sd),this.boundingSphere.union(Km)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&amp;&amp;(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&amp;&amp;(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&amp;&amp;(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&amp;&amp;(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,a=this.morphTexture.source.data.data,o=i.length+1,l=t*o+1;for(let h=0;h&lt;i.length;h++)i[h]=a[l+h]}raycast(t,e){const i=this.matrixWorld,a=this.count;if(Zm.geometry=this.geometry,Zm.material=this.material,Zm.material!==void 0&amp;&amp;(this.boundingSphere===null&amp;&amp;this.computeBoundingSphere(),Km.copy(this.boundingSphere),Km.applyMatrix4(i),t.ray.intersectsSphere(Km)!==!1))for(let o=0;o&lt;a;o++){this.getMatrixAt(o,Sd),pE.multiplyMatrices(i,Sd),Zm.matrixWorld=pE,Zm.raycast(t,uv);for(let l=0,h=uv.length;l&lt;h;l++){const d=uv[l];d.instanceId=o,d.object=this,e.push(d)}uv.length=0}}setColorAt(t,e){this.instanceColor===null&amp;&amp;(this.instanceColor=new ep(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,a=i.length+1;this.morphTexture===null&amp;&amp;(this.morphTexture=new Fr(new Float32Array(a*this.count),a,this.count,og,Li));const o=this.morphTexture.source.data.data;let l=0;for(let p=0;p&lt;i.length;p++)l+=i[p];const h=this.geometry.morphTargetsRelative?1:1-l,d=a*t;o[d]=h,o.set(i,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&amp;&amp;(this.morphTexture.dispose(),this.morphTexture=null)}}const ab=new K,jO=new K,kO=new mn;class su{constructor(t=new K(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,a){return this.normal.set(t,e,i),this.constant=a,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const a=ab.subVectors(i,e).cross(jO.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(ab),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/a;return o&lt;0||o&gt;1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e&lt;0&amp;&amp;i&gt;0||i&lt;0&amp;&amp;e&gt;0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||kO.getNormalMatrix(t),a=this.coplanarPoint(ab).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&amp;&amp;t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const xf=new Ga,XO=new Zt(.5,.5),fv=new K;class cp{constructor(t=new su,e=new su,i=new su,a=new su,o=new su,l=new su){this.planes=[t,e,i,a,o,l]}set(t,e,i,a,o,l){const h=this.planes;return h[0].copy(t),h[1].copy(e),h[2].copy(i),h[3].copy(a),h[4].copy(o),h[5].copy(l),this}copy(t){const e=this.planes;for(let i=0;i&lt;6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=hr,i=!1){const a=this.planes,o=t.elements,l=o[0],h=o[1],d=o[2],p=o[3],x=o[4],v=o[5],y=o[6],S=o[7],T=o[8],C=o[9],w=o[10],M=o[11],R=o[12],D=o[13],O=o[14],I=o[15];if(a[0].setComponents(p-l,S-x,M-T,I-R).normalize(),a[1].setComponents(p+l,S+x,M+T,I+R).normalize(),a[2].setComponents(p+h,S+v,M+C,I+D).normalize(),a[3].setComponents(p-h,S-v,M-C,I-D).normalize(),i)a[4].setComponents(d,y,w,O).normalize(),a[5].setComponents(p-d,S-y,M-w,I-O).normalize();else if(a[4].setComponents(p-d,S-y,M-w,I-O).normalize(),e===hr)a[5].setComponents(p+d,S+y,M+w,I+O).normalize();else if(e===Kd)a[5].setComponents(d,y,w,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&amp;&amp;t.computeBoundingSphere(),xf.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&amp;&amp;e.computeBoundingSphere(),xf.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(xf)}intersectsSprite(t){xf.center.set(0,0,0);const e=XO.distanceTo(t.center);return xf.radius=.7071067811865476+e,xf.applyMatrix4(t.matrixWorld),this.intersectsSphere(xf)}intersectsSphere(t){const e=this.planes,i=t.center,a=-t.radius;for(let o=0;o&lt;6;o++)if(e[o].distanceToPoint(i)&lt;a)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i&lt;6;i++){const a=e[i];if(fv.x=a.normal.x&gt;0?t.max.x:t.min.x,fv.y=a.normal.y&gt;0?t.max.y:t.min.y,fv.z=a.normal.z&gt;0?t.max.z:t.min.z,a.distanceToPoint(fv)&lt;0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i&lt;6;i++)if(e[i].distanceToPoint(t)&lt;0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ol=new Qe,ll=new cp;class __{constructor(){this.coordinateSystem=hr}intersectsObject(t,e){if(!e.isArrayCamera||e.cameras.length===0)return!1;for(let i=0;i&lt;e.cameras.length;i++){const a=e.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsObject(t))return!0}return!1}intersectsSprite(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i&lt;e.cameras.length;i++){const a=e.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsSprite(t))return!0}return!1}intersectsSphere(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i&lt;e.cameras.length;i++){const a=e.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsSphere(t))return!0}return!1}intersectsBox(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i&lt;e.cameras.length;i++){const a=e.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.intersectsBox(t))return!0}return!1}containsPoint(t,e){if(!e||!e.cameras||e.cameras.length===0)return!1;for(let i=0;i&lt;e.cameras.length;i++){const a=e.cameras[i];if(ol.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),ll.setFromProjectionMatrix(ol,a.coordinateSystem,a.reversedDepth),ll.containsPoint(t))return!0}return!1}clone(){return new __}}function sb(n,t){return n-t}function qO(n,t){return n.z-t.z}function YO(n,t){return t.z-n.z}class WO{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,a){const o=this.pool,l=this.list;this.index&gt;=o.length&amp;&amp;o.push({start:-1,count:-1,z:-1,index:-1});const h=o[this.index];l.push(h),this.index++,h.start=t,h.count=e,h.z=i,h.index=a}reset(){this.list.length=0,this.index=0}}const Ys=new Qe,ZO=new Se(1,1,1),gE=new cp,KO=new __,hv=new os,vf=new Ga,Qm=new K,xE=new K,QO=new K,rb=new WO,as=new ki,dv=[];function JO(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const a=n.count;for(let o=0;o&lt;a;o++)for(let l=0;l&lt;i;l++)t.setComponent(o+e,l,n.getComponent(o,l))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function yf(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i&lt;e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class HC extends ki{constructor(t,e,i=e*2,a){super(new gn,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new Fr(e,t,t,$i,Li);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new Fr(e,t,t,lg,ml);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new Fr(e,t,t,$i,Li);i.colorSpace=Gn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in t.attributes){const l=t.getAttribute(o),{array:h,itemSize:d,normalized:p}=l,x=new h.constructor(i*d),v=new ci(x,d,p);e.setAttribute(o,v)}if(t.getIndex()!==null){const o=i&gt;65535?new Uint32Array(a):new Uint16Array(a);e.setIndex(new ci(o,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=t.getAttribute(i),o=e.getAttribute(i);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t&lt;0||t&gt;=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t&lt;0||t&gt;=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&amp;&amp;(this.boundingBox=new os);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,a=e.length;i&lt;a;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,Ys),this.getBoundingBoxAt(o,hv).applyMatrix4(Ys),t.union(hv)}}computeBoundingSphere(){this.boundingSphere===null&amp;&amp;(this.boundingSphere=new Ga);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,a=e.length;i&lt;a;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,Ys),this.getBoundingSphereAt(o,vf).applyMatrix4(Ys),t.union(vf)}}addInstance(t){if(this._instanceInfo.length&gt;=this.maxInstanceCount&amp;&amp;this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let a=null;this._availableInstanceIds.length&gt;0?(this._availableInstanceIds.sort(sb),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const o=this._matricesTexture;Ys.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const l=this._colorsTexture;return l&amp;&amp;(ZO.toArray(l.image.data,a*4),l.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const l=t.getIndex();if(l!==null&amp;&amp;(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?l.count:i),a.indexStart!==-1&amp;&amp;a.indexStart+a.reservedIndexCount&gt;this._maxIndexCount||a.vertexStart+a.reservedVertexCount&gt;this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length&gt;0?(this._availableGeometryIds.sort(sb),d=this._availableGeometryIds.shift(),o[d]=a):(d=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(d,t),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,d}setGeometryAt(t,e){if(t&gt;=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,a=i.getIndex()!==null,o=i.getIndex(),l=e.getIndex(),h=this._geometryInfo[t];if(a&amp;&amp;l.count&gt;h.reservedIndexCount||e.attributes.position.count&gt;h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=h.vertexStart,p=h.reservedVertexCount;h.vertexCount=e.getAttribute("position").count;for(const x in i.attributes){const v=e.getAttribute(x),y=i.getAttribute(x);JO(v,y,d);const S=v.itemSize;for(let T=v.count,C=p;T&lt;C;T++){const w=d+T;for(let M=0;M&lt;S;M++)y.setComponent(w,M,0)}y.needsUpdate=!0,y.addUpdateRange(d*S,p*S)}if(a){const x=h.indexStart,v=h.reservedIndexCount;h.indexCount=e.getIndex().count;for(let y=0;y&lt;l.count;y++)o.setX(x+y,d+l.getX(y));for(let y=l.count,S=v;y&lt;S;y++)o.setX(x+y,d);o.needsUpdate=!0,o.addUpdateRange(x,h.reservedIndexCount)}return h.start=a?h.indexStart:h.vertexStart,h.count=a?h.indexCount:h.vertexCount,h.boundingBox=null,e.boundingBox!==null&amp;&amp;(h.boundingBox=e.boundingBox.clone()),h.boundingSphere=null,e.boundingSphere!==null&amp;&amp;(h.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t&gt;=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let a=0,o=i.length;a&lt;o;a++)i[a].active&amp;&amp;i[a].geometryIndex===t&amp;&amp;this.deleteInstance(a);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,a=i.map((l,h)=&gt;h).sort((l,h)=&gt;i[l].vertexStart-i[h].vertexStart),o=this.geometry;for(let l=0,h=i.length;l&lt;h;l++){const d=a[l],p=i[d];if(p.active!==!1){if(o.index!==null){if(p.indexStart!==e){const{indexStart:x,vertexStart:v,reservedIndexCount:y}=p,S=o.index,T=S.array,C=t-v;for(let w=x;w&lt;x+y;w++)T[w]=T[w]+C;S.array.copyWithin(e,x,x+y),S.addUpdateRange(e,y),p.indexStart=e}e+=p.reservedIndexCount}if(p.vertexStart!==t){const{vertexStart:x,reservedVertexCount:v}=p,y=o.attributes;for(const S in y){const T=y[S],{array:C,itemSize:w}=T;C.copyWithin(t*w,x*w,(x+v)*w),T.addUpdateRange(t*w,v*w)}p.vertexStart=t}t+=p.reservedVertexCount,p.start=o.index?p.indexStart:p.vertexStart,this._nextIndexStart=o.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t&gt;=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[t];if(a.boundingBox===null){const o=new os,l=i.index,h=i.attributes.position;for(let d=a.start,p=a.start+a.count;d&lt;p;d++){let x=d;l&amp;&amp;(x=l.getX(x)),o.expandByPoint(Qm.fromBufferAttribute(h,x))}a.boundingBox=o}return e.copy(a.boundingBox),e}getBoundingSphereAt(t,e){if(t&gt;=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[t];if(a.boundingSphere===null){const o=new Ga;this.getBoundingBoxAt(t,hv),hv.getCenter(o.center);const l=i.index,h=i.attributes.position;let d=0;for(let p=a.start,x=a.start+a.count;p&lt;x;p++){let v=p;l&amp;&amp;(v=l.getX(v)),Qm.fromBufferAttribute(h,v),d=Math.max(d,o.center.distanceToSquared(Qm))}o.radius=Math.sqrt(d),a.boundingSphere=o}return e.copy(a.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,a=this._matricesTexture.image.data;return e.toArray(a,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&amp;&amp;this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(sb);e[e.length-1]===i.length-1;)i.pop(),e.pop();if(t&lt;i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const a=new Int32Array(t),o=new Int32Array(t);yf(this._multiDrawCounts,a),yf(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=t;const l=this._indirectTexture,h=this._matricesTexture,d=this._colorsTexture;l.dispose(),this._initIndirectTexture(),yf(l.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),yf(h.image.data,this._matricesTexture.image.data),d&amp;&amp;(d.dispose(),this._initColorsTexture(),yf(d.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(h=&gt;h.active);if(Math.max(...i.map(h=&gt;h.vertexStart+h.reservedVertexCount))&gt;t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&amp;&amp;Math.max(...i.map(d=&gt;d.indexStart+d.reservedIndexCount))&gt;e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&amp;&amp;(this._geometryInitialized=!1,this.geometry=new gn,this._initializeGeometry(o));const l=this.geometry;o.index&amp;&amp;yf(o.index.array,l.index.array);for(const h in o.attributes)yf(o.attributes[h].array,l.attributes[h].array)}raycast(t,e){const i=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,l=this.geometry;as.material=this.material,as.geometry.index=l.index,as.geometry.attributes=l.attributes,as.geometry.boundingBox===null&amp;&amp;(as.geometry.boundingBox=new os),as.geometry.boundingSphere===null&amp;&amp;(as.geometry.boundingSphere=new Ga);for(let h=0,d=i.length;h&lt;d;h++){if(!i[h].visible||!i[h].active)continue;const p=i[h].geometryIndex,x=a[p];as.geometry.setDrawRange(x.start,x.count),this.getMatrixAt(h,as.matrixWorld).premultiply(o),this.getBoundingBoxAt(p,as.geometry.boundingBox),this.getBoundingSphereAt(p,as.geometry.boundingSphere),as.raycast(t,dv);for(let v=0,y=dv.length;v&lt;y;v++){const S=dv[v];S.object=this,S.batchId=h,e.push(S)}dv.length=0}as.material=null,as.geometry.index=null,as.geometry.attributes={},as.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=&gt;({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=&gt;({...e})),this._availableInstanceIds=t._availableInstanceIds.slice(),this._availableGeometryIds=t._availableGeometryIds.slice(),this._nextIndexStart=t._nextIndexStart,this._nextVertexStart=t._nextVertexStart,this._geometryCount=t._geometryCount,this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._indirectTexture=t._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&amp;&amp;(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&amp;&amp;(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,a,o){if(!this._visibilityChanged&amp;&amp;!this.perObjectFrustumCulled&amp;&amp;!this.sortObjects)return;const l=a.getIndex(),h=l===null?1:l.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,x=this._multiDrawCounts,v=this._geometryInfo,y=this.perObjectFrustumCulled,S=this._indirectTexture,T=S.image.data,C=i.isArrayCamera?KO:gE;y&amp;&amp;!i.isArrayCamera&amp;&amp;(Ys.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),gE.setFromProjectionMatrix(Ys,i.coordinateSystem,i.reversedDepth));let w=0;if(this.sortObjects){Ys.copy(this.matrixWorld).invert(),Qm.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Ys),xE.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Ys);for(let D=0,O=d.length;D&lt;O;D++)if(d[D].visible&amp;&amp;d[D].active){const I=d[D].geometryIndex;this.getMatrixAt(D,Ys),this.getBoundingSphereAt(I,vf).applyMatrix4(Ys);let z=!1;if(y&amp;&amp;(z=!C.intersectsSphere(vf,i)),!z){const G=v[I],H=QO.subVectors(vf.center,Qm).dot(xE);rb.push(G.start,G.count,H,D)}}const M=rb.list,R=this.customSort;R===null?M.sort(o.transparent?YO:qO):R.call(this,M,i);for(let D=0,O=M.length;D&lt;O;D++){const I=M[D];p[w]=I.start*h,x[w]=I.count,T[w]=I.index,w++}rb.reset()}else for(let M=0,R=d.length;M&lt;R;M++)if(d[M].visible&amp;&amp;d[M].active){const D=d[M].geometryIndex;let O=!1;if(y&amp;&amp;(this.getMatrixAt(M,Ys),this.getBoundingSphereAt(D,vf).applyMatrix4(Ys),O=!C.intersectsSphere(vf,i)),!O){const I=v[D];p[w]=I.start*h,x[w]=I.count,T[w]=M,w++}}S.needsUpdate=!0,this._multiDrawCount=w,this._visibilityChanged=!1}onBeforeShadow(t,e,i,a,o,l){this.onBeforeRender(t,null,a,o,l)}}class zs extends cs{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Se(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Gy=new K,jy=new K,vE=new Qe,Jm=new lp,pv=new Ga,ob=new K,yE=new K;class pu extends Xn{constructor(t=new gn,e=new zs){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let a=1,o=e.count;a&lt;o;a++)Gy.fromBufferAttribute(e,a-1),jy.fromBufferAttribute(e,a),i[a]=i[a-1],i[a]+=Gy.distanceTo(jy);t.setAttribute("lineDistance",new Be(i,1))}else _e("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,a=this.matrixWorld,o=t.params.Line.threshold,l=i.drawRange;if(i.boundingSphere===null&amp;&amp;i.computeBoundingSphere(),pv.copy(i.boundingSphere),pv.applyMatrix4(a),pv.radius+=o,t.ray.intersectsSphere(pv)===!1)return;vE.copy(a).invert(),Jm.copy(t.ray).applyMatrix4(vE);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=this.isLineSegments?2:1,x=i.index,y=i.attributes.position;if(x!==null){const S=Math.max(0,l.start),T=Math.min(x.count,l.start+l.count);for(let C=S,w=T-1;C&lt;w;C+=p){const M=x.getX(C),R=x.getX(C+1),D=mv(this,t,Jm,d,M,R,C);D&amp;&amp;e.push(D)}if(this.isLineLoop){const C=x.getX(T-1),w=x.getX(S),M=mv(this,t,Jm,d,C,w,T-1);M&amp;&amp;e.push(M)}}else{const S=Math.max(0,l.start),T=Math.min(y.count,l.start+l.count);for(let C=S,w=T-1;C&lt;w;C+=p){const M=mv(this,t,Jm,d,C,C+1,C);M&amp;&amp;e.push(M)}if(this.isLineLoop){const C=mv(this,t,Jm,d,T-1,S,T-1);C&amp;&amp;e.push(C)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length&gt;0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o&lt;l;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function mv(n,t,e,i,a,o,l){const h=n.geometry.attributes.position;if(Gy.fromBufferAttribute(h,a),jy.fromBufferAttribute(h,o),e.distanceSqToSegment(Gy,jy,ob,yE)&gt;i)return;ob.applyMatrix4(n.matrixWorld);const p=t.ray.origin.distanceTo(ob);if(!(p&lt;t.near||p&gt;t.far))return{distance:p,point:yE.clone().applyMatrix4(n.matrixWorld),index:l,face:null,faceIndex:null,barycoord:null,object:n}}const _E=new K,bE=new K;class vl extends pu{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let a=0,o=e.count;a&lt;o;a+=2)_E.fromBufferAttribute(e,a),bE.fromBufferAttribute(e,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+_E.distanceTo(bE);t.setAttribute("lineDistance",new Be(i,1))}else _e("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class GC extends pu{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class pM extends cs{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Se(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const SE=new Qe,pS=new lp,gv=new Ga,xv=new K;class jC extends Xn{constructor(t=new gn,e=new pM){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,a=this.matrixWorld,o=t.params.Points.threshold,l=i.drawRange;if(i.boundingSphere===null&amp;&amp;i.computeBoundingSphere(),gv.copy(i.boundingSphere),gv.applyMatrix4(a),gv.radius+=o,t.ray.intersectsSphere(gv)===!1)return;SE.copy(a).invert(),pS.copy(t.ray).applyMatrix4(SE);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),d=h*h,p=i.index,v=i.attributes.position;if(p!==null){const y=Math.max(0,l.start),S=Math.min(p.count,l.start+l.count);for(let T=y,C=S;T&lt;C;T++){const w=p.getX(T);xv.fromBufferAttribute(v,w),ME(xv,w,d,a,t,e,this)}}else{const y=Math.max(0,l.start),S=Math.min(v.count,l.start+l.count);for(let T=y,C=S;T&lt;C;T++)xv.fromBufferAttribute(v,T),ME(xv,T,d,a,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length&gt;0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,l=a.length;o&lt;l;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}}function ME(n,t,e,i,a,o,l){const h=pS.distanceSqToPoint(n);if(h&lt;e){const d=new K;pS.closestPointToPoint(n,d),d.applyMatrix4(i);const p=a.ray.origin.distanceTo(d);if(p&lt;a.near||p&gt;a.far)return;o.push({distance:p,distanceToRay:Math.sqrt(h),point:d,index:t,face:null,faceIndex:null,barycoord:null,object:l})}}class kC extends ni{constructor(t,e,i,a,o=Jn,l=Jn,h,d,p){super(t,e,i,a,o,l,h,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const x=this;function v(){x.needsUpdate=!0,x._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&amp;&amp;(this._requestVideoFrameCallbackId=t.requestVideoFrameCallback(v))}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&amp;&amp;t.readyState&gt;=t.HAVE_CURRENT_DATA&amp;&amp;(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&amp;&amp;(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class $O extends kC{constructor(t,e,i,a,o,l,h,d){super({},t,e,i,a,o,l,h,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class tL extends ni{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=Ha,this.minFilter=Ha,this.generateMipmaps=!1,this.needsUpdate=!0}}class b_ extends ni{constructor(t,e,i,a,o,l,h,d,p,x,v,y){super(null,l,h,d,p,x,a,o,v,y),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class eL extends b_{constructor(t,e,i,a,o,l){super(t,e,i,o,l),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Gi,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class nL extends b_{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,pl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class iL extends ni{constructor(t,e,i,a,o,l,h,d,p){super(t,e,i,a,o,l,h,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class mM extends ni{constructor(t,e,i=ml,a,o,l,h=Ha,d=Ha,p,x=Wd,v=1){if(x!==Wd&amp;&amp;x!==Zd)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const y={width:t,height:e,depth:v};super(y,a,o,l,h,d,x,i,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new lu(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&amp;&amp;(e.compareFunction=this.compareFunction),e}}class gM extends ni{constructor(t=null){super(),this.sourceTexture=t,this.isExternalTexture=!0}copy(t){return super.copy(t),this.sourceTexture=t.sourceTexture,this}}class S_ extends gn{constructor(t=1,e=1,i=4,a=8,o=1){super(),this.type="CapsuleGeometry",this.parameters={radius:t,height:e,capSegments:i,radialSegments:a,heightSegments:o},e=Math.max(0,e),i=Math.max(1,Math.floor(i)),a=Math.max(3,Math.floor(a)),o=Math.max(1,Math.floor(o));const l=[],h=[],d=[],p=[],x=e/2,v=Math.PI/2*t,y=e,S=2*v+y,T=i*2+o,C=a+1,w=new K,M=new K;for(let R=0;R&lt;=T;R++){let D=0,O=0,I=0,z=0;if(R&lt;=i){const L=R/i,B=L*Math.PI/2;O=-x-t*Math.cos(B),I=t*Math.sin(B),z=-t*Math.cos(B),D=L*v}else if(R&lt;=i+o){const L=(R-i)/o;O=-x+L*e,I=t,z=0,D=v+L*y}else{const L=(R-i-o)/i,B=L*Math.PI/2;O=x+t*Math.sin(B),I=t*Math.cos(B),z=t*Math.sin(B),D=v+y+L*v}const G=Math.max(0,Math.min(1,D/S));let H=0;R===0?H=.5/a:R===T&amp;&amp;(H=-.5/a);for(let L=0;L&lt;=a;L++){const B=L/a,Y=B*Math.PI*2,nt=Math.sin(Y),rt=Math.cos(Y);M.x=-I*rt,M.y=O,M.z=I*nt,h.push(M.x,M.y,M.z),w.set(-I*rt,z,I*nt),w.normalize(),d.push(w.x,w.y,w.z),p.push(B+H,G)}if(R&gt;0){const L=(R-1)*C;for(let B=0;B&lt;a;B++){const Y=L+B,nt=L+B+1,rt=R*C+B,ft=R*C+B+1;l.push(Y,nt,rt),l.push(nt,ft,rt)}}}this.setIndex(l),this.setAttribute("position",new Be(h,3)),this.setAttribute("normal",new Be(d,3)),this.setAttribute("uv",new Be(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new S_(t.radius,t.height,t.capSegments,t.radialSegments,t.heightSegments)}}class M_ extends gn{constructor(t=1,e=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:a},e=Math.max(3,e);const o=[],l=[],h=[],d=[],p=new K,x=new Zt;l.push(0,0,0),h.push(0,0,1),d.push(.5,.5);for(let v=0,y=3;v&lt;=e;v++,y+=3){const S=i+v/e*a;p.x=t*Math.cos(S),p.y=t*Math.sin(S),l.push(p.x,p.y,p.z),h.push(0,0,1),x.x=(l[y]/t+1)/2,x.y=(l[y+1]/t+1)/2,d.push(x.x,x.y)}for(let v=1;v&lt;=e;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new Be(l,3)),this.setAttribute("normal",new Be(h,3)),this.setAttribute("uv",new Be(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new M_(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class fg extends gn{constructor(t=1,e=1,i=1,a=32,o=1,l=!1,h=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:a,heightSegments:o,openEnded:l,thetaStart:h,thetaLength:d};const p=this;a=Math.floor(a),o=Math.floor(o);const x=[],v=[],y=[],S=[];let T=0;const C=[],w=i/2;let M=0;R(),l===!1&amp;&amp;(t&gt;0&amp;&amp;D(!0),e&gt;0&amp;&amp;D(!1)),this.setIndex(x),this.setAttribute("position",new Be(v,3)),this.setAttribute("normal",new Be(y,3)),this.setAttribute("uv",new Be(S,2));function R(){const O=new K,I=new K;let z=0;const G=(e-t)/i;for(let H=0;H&lt;=o;H++){const L=[],B=H/o,Y=B*(e-t)+t;for(let nt=0;nt&lt;=a;nt++){const rt=nt/a,ft=rt*d+h,pt=Math.sin(ft),k=Math.cos(ft);I.x=Y*pt,I.y=-B*i+w,I.z=Y*k,v.push(I.x,I.y,I.z),O.set(pt,G,k).normalize(),y.push(O.x,O.y,O.z),S.push(rt,1-B),L.push(T++)}C.push(L)}for(let H=0;H&lt;a;H++)for(let L=0;L&lt;o;L++){const B=C[L][H],Y=C[L+1][H],nt=C[L+1][H+1],rt=C[L][H+1];(t&gt;0||L!==0)&amp;&amp;(x.push(B,Y,rt),z+=3),(e&gt;0||L!==o-1)&amp;&amp;(x.push(Y,nt,rt),z+=3)}p.addGroup(M,z,0),M+=z}function D(O){const I=T,z=new Zt,G=new K;let H=0;const L=O===!0?t:e,B=O===!0?1:-1;for(let nt=1;nt&lt;=a;nt++)v.push(0,w*B,0),y.push(0,B,0),S.push(.5,.5),T++;const Y=T;for(let nt=0;nt&lt;=a;nt++){const ft=nt/a*d+h,pt=Math.cos(ft),k=Math.sin(ft);G.x=L*k,G.y=w*B,G.z=L*pt,v.push(G.x,G.y,G.z),y.push(0,B,0),z.x=pt*.5+.5,z.y=k*.5*B+.5,S.push(z.x,z.y),T++}for(let nt=0;nt&lt;a;nt++){const rt=I+nt,ft=Y+nt;O===!0?x.push(ft,ft+1,rt):x.push(ft+1,ft,rt),H+=3}p.addGroup(M,H,O===!0?1:2),M+=H}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new fg(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class hg extends fg{constructor(t=1,e=1,i=32,a=1,o=!1,l=0,h=Math.PI*2){super(0,t,e,i,a,o,l,h),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:h}}static fromJSON(t){return new hg(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class vu extends gn{constructor(t=[],e=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:a};const o=[],l=[];h(a),p(i),x(),this.setAttribute("position",new Be(o,3)),this.setAttribute("normal",new Be(o.slice(),3)),this.setAttribute("uv",new Be(l,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function h(R){const D=new K,O=new K,I=new K;for(let z=0;z&lt;e.length;z+=3)S(e[z+0],D),S(e[z+1],O),S(e[z+2],I),d(D,O,I,R)}function d(R,D,O,I){const z=I+1,G=[];for(let H=0;H&lt;=z;H++){G[H]=[];const L=R.clone().lerp(O,H/z),B=D.clone().lerp(O,H/z),Y=z-H;for(let nt=0;nt&lt;=Y;nt++)nt===0&amp;&amp;H===z?G[H][nt]=L:G[H][nt]=L.clone().lerp(B,nt/Y)}for(let H=0;H&lt;z;H++)for(let L=0;L&lt;2*(z-H)-1;L++){const B=Math.floor(L/2);L%2===0?(y(G[H][B+1]),y(G[H+1][B]),y(G[H][B])):(y(G[H][B+1]),y(G[H+1][B+1]),y(G[H+1][B]))}}function p(R){const D=new K;for(let O=0;O&lt;o.length;O+=3)D.x=o[O+0],D.y=o[O+1],D.z=o[O+2],D.normalize().multiplyScalar(R),o[O+0]=D.x,o[O+1]=D.y,o[O+2]=D.z}function x(){const R=new K;for(let D=0;D&lt;o.length;D+=3){R.x=o[D+0],R.y=o[D+1],R.z=o[D+2];const O=w(R)/2/Math.PI+.5,I=M(R)/Math.PI+.5;l.push(O,1-I)}T(),v()}function v(){for(let R=0;R&lt;l.length;R+=6){const D=l[R+0],O=l[R+2],I=l[R+4],z=Math.max(D,O,I),G=Math.min(D,O,I);z&gt;.9&amp;&amp;G&lt;.1&amp;&amp;(D&lt;.2&amp;&amp;(l[R+0]+=1),O&lt;.2&amp;&amp;(l[R+2]+=1),I&lt;.2&amp;&amp;(l[R+4]+=1))}}function y(R){o.push(R.x,R.y,R.z)}function S(R,D){const O=R*3;D.x=t[O+0],D.y=t[O+1],D.z=t[O+2]}function T(){const R=new K,D=new K,O=new K,I=new K,z=new Zt,G=new Zt,H=new Zt;for(let L=0,B=0;L&lt;o.length;L+=9,B+=6){R.set(o[L+0],o[L+1],o[L+2]),D.set(o[L+3],o[L+4],o[L+5]),O.set(o[L+6],o[L+7],o[L+8]),z.set(l[B+0],l[B+1]),G.set(l[B+2],l[B+3]),H.set(l[B+4],l[B+5]),I.copy(R).add(D).add(O).divideScalar(3);const Y=w(I);C(z,B+0,R,Y),C(G,B+2,D,Y),C(H,B+4,O,Y)}}function C(R,D,O,I){I&lt;0&amp;&amp;R.x===1&amp;&amp;(l[D]=R.x-1),O.x===0&amp;&amp;O.z===0&amp;&amp;(l[D]=I/2/Math.PI+.5)}function w(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new vu(t.vertices,t.indices,t.radius,t.details)}}class E_ extends vu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,a=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,l,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new E_(t.radius,t.detail)}}const vv=new K,yv=new K,lb=new K,_v=new Zs;class XC extends gn{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const a=Math.pow(10,4),o=Math.cos(jf*e),l=t.getIndex(),h=t.getAttribute("position"),d=l?l.count:h.count,p=[0,0,0],x=["a","b","c"],v=new Array(3),y={},S=[];for(let T=0;T&lt;d;T+=3){l?(p[0]=l.getX(T),p[1]=l.getX(T+1),p[2]=l.getX(T+2)):(p[0]=T,p[1]=T+1,p[2]=T+2);const{a:C,b:w,c:M}=_v;if(C.fromBufferAttribute(h,p[0]),w.fromBufferAttribute(h,p[1]),M.fromBufferAttribute(h,p[2]),_v.getNormal(lb),v[0]=`${Math.round(C.x*a)},${Math.round(C.y*a)},${Math.round(C.z*a)}`,v[1]=`${Math.round(w.x*a)},${Math.round(w.y*a)},${Math.round(w.z*a)}`,v[2]=`${Math.round(M.x*a)},${Math.round(M.y*a)},${Math.round(M.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let R=0;R&lt;3;R++){const D=(R+1)%3,O=v[R],I=v[D],z=_v[x[R]],G=_v[x[D]],H=`${O}_${I}`,L=`${I}_${O}`;L in y&amp;&amp;y[L]?(lb.dot(y[L].normal)&lt;=o&amp;&amp;(S.push(z.x,z.y,z.z),S.push(G.x,G.y,G.z)),y[L]=null):H in y||(y[H]={index0:p[R],index1:p[D],normal:lb.clone()})}}for(const T in y)if(y[T]){const{index0:C,index1:w}=y[T];vv.fromBufferAttribute(h,C),yv.fromBufferAttribute(h,w),S.push(vv.x,vv.y,vv.z),S.push(yv.x,yv.y,yv.z)}this.setAttribute("position",new Be(S,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Co{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){_e("Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i&lt;=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i&lt;=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&amp;&amp;this.cacheArcLengths.length===t+1&amp;&amp;!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,a=this.getPoint(0),o=0;e.push(0);for(let l=1;l&lt;=t;l++)i=this.getPoint(l/t),o+=i.distanceTo(a),e.push(o),a=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let a=0;const o=i.length;let l;e?l=e:l=t*i[o-1];let h=0,d=o-1,p;for(;h&lt;=d;)if(a=Math.floor(h+(d-h)/2),p=i[a]-l,p&lt;0)h=a+1;else if(p&gt;0)d=a-1;else{d=a;break}if(a=d,i[a]===l)return a/(o-1);const x=i[a],y=i[a+1]-x,S=(l-x)/y;return(a+S)/(o-1)}getTangent(t,e){let a=t-1e-4,o=t+1e-4;a&lt;0&amp;&amp;(a=0),o&gt;1&amp;&amp;(o=1);const l=this.getPoint(a),h=this.getPoint(o),d=e||(l.isVector2?new Zt:new K);return d.copy(h).sub(l).normalize(),d}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new K,a=[],o=[],l=[],h=new K,d=new Qe;for(let S=0;S&lt;=t;S++){const T=S/t;a[S]=this.getTangentAt(T,new K)}o[0]=new K,l[0]=new K;let p=Number.MAX_VALUE;const x=Math.abs(a[0].x),v=Math.abs(a[0].y),y=Math.abs(a[0].z);x&lt;=p&amp;&amp;(p=x,i.set(1,0,0)),v&lt;=p&amp;&amp;(p=v,i.set(0,1,0)),y&lt;=p&amp;&amp;i.set(0,0,1),h.crossVectors(a[0],i).normalize(),o[0].crossVectors(a[0],h),l[0].crossVectors(a[0],o[0]);for(let S=1;S&lt;=t;S++){if(o[S]=o[S-1].clone(),l[S]=l[S-1].clone(),h.crossVectors(a[S-1],a[S]),h.length()&gt;Number.EPSILON){h.normalize();const T=Math.acos(nn(a[S-1].dot(a[S]),-1,1));o[S].applyMatrix4(d.makeRotationAxis(h,T))}l[S].crossVectors(a[S],o[S])}if(e===!0){let S=Math.acos(nn(o[0].dot(o[t]),-1,1));S/=t,a[0].dot(h.crossVectors(o[0],o[t]))&gt;0&amp;&amp;(S=-S);for(let T=1;T&lt;=t;T++)o[T].applyMatrix4(d.makeRotationAxis(a[T],S*T)),l[T].crossVectors(a[T],o[T])}return{tangents:a,normals:o,binormals:l}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class T_ extends Co{constructor(t=0,e=0,i=1,a=1,o=0,l=Math.PI*2,h=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=l,this.aClockwise=h,this.aRotation=d}getPoint(t,e=new Zt){const i=e,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const l=Math.abs(o)&lt;Number.EPSILON;for(;o&lt;0;)o+=a;for(;o&gt;a;)o-=a;o&lt;Number.EPSILON&amp;&amp;(l?o=0:o=a),this.aClockwise===!0&amp;&amp;!l&amp;&amp;(o===a?o=-a:o=o-a);const h=this.aStartAngle+t*o;let d=this.aX+this.xRadius*Math.cos(h),p=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const x=Math.cos(this.aRotation),v=Math.sin(this.aRotation),y=d-this.aX,S=p-this.aY;d=y*x-S*v+this.aX,p=y*v+S*x+this.aY}return i.set(d,p)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class qC extends T_{constructor(t,e,i,a,o,l){super(t,e,i,i,a,o,l),this.isArcCurve=!0,this.type="ArcCurve"}}function xM(){let n=0,t=0,e=0,i=0;function a(o,l,h,d){n=o,t=h,e=-3*o+3*l-2*h-d,i=2*o-2*l+h+d}return{initCatmullRom:function(o,l,h,d,p){a(l,h,p*(h-o),p*(d-l))},initNonuniformCatmullRom:function(o,l,h,d,p,x,v){let y=(l-o)/p-(h-o)/(p+x)+(h-l)/x,S=(h-l)/x-(d-l)/(x+v)+(d-h)/v;y*=x,S*=x,a(l,h,y,S)},calc:function(o){const l=o*o,h=l*o;return n+t*o+e*l+i*h}}}const bv=new K,cb=new xM,ub=new xM,fb=new xM;class YC extends Co{constructor(t=[],e=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=a}getPoint(t,e=new K){const i=e,a=this.points,o=a.length,l=(o-(this.closed?0:1))*t;let h=Math.floor(l),d=l-h;this.closed?h+=h&gt;0?0:(Math.floor(Math.abs(h)/o)+1)*o:d===0&amp;&amp;h===o-1&amp;&amp;(h=o-2,d=1);let p,x;this.closed||h&gt;0?p=a[(h-1)%o]:(bv.subVectors(a[0],a[1]).add(a[0]),p=bv);const v=a[h%o],y=a[(h+1)%o];if(this.closed||h+2&lt;o?x=a[(h+2)%o]:(bv.subVectors(a[o-1],a[o-2]).add(a[o-1]),x=bv),this.curveType==="centripetal"||this.curveType==="chordal"){const S=this.curveType==="chordal"?.5:.25;let T=Math.pow(p.distanceToSquared(v),S),C=Math.pow(v.distanceToSquared(y),S),w=Math.pow(y.distanceToSquared(x),S);C&lt;1e-4&amp;&amp;(C=1),T&lt;1e-4&amp;&amp;(T=C),w&lt;1e-4&amp;&amp;(w=C),cb.initNonuniformCatmullRom(p.x,v.x,y.x,x.x,T,C,w),ub.initNonuniformCatmullRom(p.y,v.y,y.y,x.y,T,C,w),fb.initNonuniformCatmullRom(p.z,v.z,y.z,x.z,T,C,w)}else this.curveType==="catmullrom"&amp;&amp;(cb.initCatmullRom(p.x,v.x,y.x,x.x,this.tension),ub.initCatmullRom(p.y,v.y,y.y,x.y,this.tension),fb.initCatmullRom(p.z,v.z,y.z,x.z,this.tension));return i.set(cb.calc(d),ub.calc(d),fb.calc(d)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e&lt;i;e++){const a=t.points[e];this.points.push(a.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e&lt;i;e++){const a=this.points[e];t.points.push(a.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e&lt;i;e++){const a=t.points[e];this.points.push(new K().fromArray(a))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function EE(n,t,e,i,a){const o=(i-t)*.5,l=(a-e)*.5,h=n*n,d=n*h;return(2*e-2*i+o+l)*d+(-3*e+3*i-2*o-l)*h+o*n+e}function aL(n,t){const e=1-n;return e*e*t}function sL(n,t){return 2*(1-n)*n*t}function rL(n,t){return n*n*t}function E0(n,t,e,i){return aL(n,t)+sL(n,e)+rL(n,i)}function oL(n,t){const e=1-n;return e*e*e*t}function lL(n,t){const e=1-n;return 3*e*e*n*t}function cL(n,t){return 3*(1-n)*n*n*t}function uL(n,t){return n*n*n*t}function T0(n,t,e,i,a){return oL(n,t)+lL(n,e)+cL(n,i)+uL(n,a)}class vM extends Co{constructor(t=new Zt,e=new Zt,i=new Zt,a=new Zt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=a}getPoint(t,e=new Zt){const i=e,a=this.v0,o=this.v1,l=this.v2,h=this.v3;return i.set(T0(t,a.x,o.x,l.x,h.x),T0(t,a.y,o.y,l.y,h.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class WC extends Co{constructor(t=new K,e=new K,i=new K,a=new K){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=a}getPoint(t,e=new K){const i=e,a=this.v0,o=this.v1,l=this.v2,h=this.v3;return i.set(T0(t,a.x,o.x,l.x,h.x),T0(t,a.y,o.y,l.y,h.y),T0(t,a.z,o.z,l.z,h.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class yM extends Co{constructor(t=new Zt,e=new Zt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Zt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Zt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ZC extends Co{constructor(t=new K,e=new K){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new K){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new K){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class _M extends Co{constructor(t=new Zt,e=new Zt,i=new Zt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Zt){const i=e,a=this.v0,o=this.v1,l=this.v2;return i.set(E0(t,a.x,o.x,l.x),E0(t,a.y,o.y,l.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class bM extends Co{constructor(t=new K,e=new K,i=new K){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new K){const i=e,a=this.v0,o=this.v1,l=this.v2;return i.set(E0(t,a.x,o.x,l.x),E0(t,a.y,o.y,l.y),E0(t,a.z,o.z,l.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class SM extends Co{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Zt){const i=e,a=this.points,o=(a.length-1)*t,l=Math.floor(o),h=o-l,d=a[l===0?l:l-1],p=a[l],x=a[l&gt;a.length-2?a.length-1:l+1],v=a[l&gt;a.length-3?a.length-1:l+2];return i.set(EE(h,d.x,p.x,x.x,v.x),EE(h,d.y,p.y,x.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e&lt;i;e++){const a=t.points[e];this.points.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e&lt;i;e++){const a=this.points[e];t.points.push(a.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e&lt;i;e++){const a=t.points[e];this.points.push(new Zt().fromArray(a))}return this}}var ky=Object.freeze({__proto__:null,ArcCurve:qC,CatmullRomCurve3:YC,CubicBezierCurve:vM,CubicBezierCurve3:WC,EllipseCurve:T_,LineCurve:yM,LineCurve3:ZC,QuadraticBezierCurve:_M,QuadraticBezierCurve3:bM,SplineCurve:SM});class KC extends Co{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ky[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),a=this.getCurveLengths();let o=0;for(;o&lt;a.length;){if(a[o]&gt;=i){const l=a[o]-i,h=this.curves[o],d=h.getLength(),p=d===0?0:1-l/d;return h.getPointAt(p,e)}o++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&amp;&amp;this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,a=this.curves.length;i&lt;a;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i&lt;=t;i++)e.push(this.getPoint(i/t));return this.autoClose&amp;&amp;e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let a=0,o=this.curves;a&lt;o.length;a++){const l=o[a],h=l.isEllipseCurve?t*2:l.isLineCurve||l.isLineCurve3?1:l.isSplineCurve?t*l.points.length:t,d=l.getPoints(h);for(let p=0;p&lt;d.length;p++){const x=d[p];i&amp;&amp;i.equals(x)||(e.push(x),i=x)}}return this.autoClose&amp;&amp;e.length&gt;1&amp;&amp;!e[e.length-1].equals(e[0])&amp;&amp;e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e&lt;i;e++){const a=t.curves[e];this.curves.push(a.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e&lt;i;e++){const a=this.curves[e];t.curves.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e&lt;i;e++){const a=t.curves[e];this.curves.push(new ky[a.type]().fromJSON(a))}return this}}class Xy extends KC{constructor(t){super(),this.type="Path",this.currentPoint=new Zt,t&amp;&amp;this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e&lt;i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new yM(this.currentPoint.clone(),new Zt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,a){const o=new _M(this.currentPoint.clone(),new Zt(t,e),new Zt(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}bezierCurveTo(t,e,i,a,o,l){const h=new vM(this.currentPoint.clone(),new Zt(t,e),new Zt(i,a),new Zt(o,l));return this.curves.push(h),this.currentPoint.set(o,l),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new SM(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,a,o,l){const h=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(t+h,e+d,i,a,o,l),this}absarc(t,e,i,a,o,l){return this.absellipse(t,e,i,i,a,o,l),this}ellipse(t,e,i,a,o,l,h,d){const p=this.currentPoint.x,x=this.currentPoint.y;return this.absellipse(t+p,e+x,i,a,o,l,h,d),this}absellipse(t,e,i,a,o,l,h,d){const p=new T_(t,e,i,a,o,l,h,d);if(this.curves.length&gt;0){const v=p.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(p);const x=p.getPoint(1);return this.currentPoint.copy(x),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class kf extends Xy{constructor(t){super(t),this.uuid=dr(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,a=this.holes.length;i&lt;a;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e&lt;i;e++){const a=t.holes[e];this.holes.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e&lt;i;e++){const a=this.holes[e];t.holes.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e&lt;i;e++){const a=t.holes[e];this.holes.push(new Xy().fromJSON(a))}return this}}function fL(n,t,e=2){const i=t&amp;&amp;t.length,a=i?t[0]*e:n.length;let o=QC(n,0,a,e,!0);const l=[];if(!o||o.next===o.prev)return l;let h,d,p;if(i&amp;&amp;(o=gL(n,t,o,e)),n.length&gt;80*e){h=n[0],d=n[1];let x=h,v=d;for(let y=e;y&lt;a;y+=e){const S=n[y],T=n[y+1];S&lt;h&amp;&amp;(h=S),T&lt;d&amp;&amp;(d=T),S&gt;x&amp;&amp;(x=S),T&gt;v&amp;&amp;(v=T)}p=Math.max(x-h,v-d),p=p!==0?32767/p:0}return j0(o,l,e,h,d,p,0),l}function QC(n,t,e,i,a){let o;if(a===wL(n,t,e,i)&gt;0)for(let l=t;l&lt;e;l+=i)o=TE(l/i|0,n[l],n[l+1],o);else for(let l=e-i;l&gt;=t;l-=i)o=TE(l/i|0,n[l],n[l+1],o);return o&amp;&amp;np(o,o.next)&amp;&amp;(X0(o),o=o.next),o}function Zf(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&amp;&amp;(np(e,e.next)||Ui(e.prev,e,e.next)===0)){if(X0(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function j0(n,t,e,i,a,o,l){if(!n)return;!l&amp;&amp;o&amp;&amp;bL(n,i,a,o);let h=n;for(;n.prev!==n.next;){const d=n.prev,p=n.next;if(o?dL(n,i,a,o):hL(n)){t.push(d.i,n.i,p.i),X0(n),n=p.next,h=p.next;continue}if(n=p,n===h){l?l===1?(n=pL(Zf(n),t),j0(n,t,e,i,a,o,2)):l===2&amp;&amp;mL(n,t,e,i,a,o):j0(Zf(n),t,e,i,a,o,1);break}}}function hL(n){const t=n.prev,e=n,i=n.next;if(Ui(t,e,i)&gt;=0)return!1;const a=t.x,o=e.x,l=i.x,h=t.y,d=e.y,p=i.y,x=Math.min(a,o,l),v=Math.min(h,d,p),y=Math.max(a,o,l),S=Math.max(h,d,p);let T=i.next;for(;T!==t;){if(T.x&gt;=x&amp;&amp;T.x&lt;=y&amp;&amp;T.y&gt;=v&amp;&amp;T.y&lt;=S&amp;&amp;p0(a,h,o,d,l,p,T.x,T.y)&amp;&amp;Ui(T.prev,T,T.next)&gt;=0)return!1;T=T.next}return!0}function dL(n,t,e,i){const a=n.prev,o=n,l=n.next;if(Ui(a,o,l)&gt;=0)return!1;const h=a.x,d=o.x,p=l.x,x=a.y,v=o.y,y=l.y,S=Math.min(h,d,p),T=Math.min(x,v,y),C=Math.max(h,d,p),w=Math.max(x,v,y),M=mS(S,T,t,e,i),R=mS(C,w,t,e,i);let D=n.prevZ,O=n.nextZ;for(;D&amp;&amp;D.z&gt;=M&amp;&amp;O&amp;&amp;O.z&lt;=R;){if(D.x&gt;=S&amp;&amp;D.x&lt;=C&amp;&amp;D.y&gt;=T&amp;&amp;D.y&lt;=w&amp;&amp;D!==a&amp;&amp;D!==l&amp;&amp;p0(h,x,d,v,p,y,D.x,D.y)&amp;&amp;Ui(D.prev,D,D.next)&gt;=0||(D=D.prevZ,O.x&gt;=S&amp;&amp;O.x&lt;=C&amp;&amp;O.y&gt;=T&amp;&amp;O.y&lt;=w&amp;&amp;O!==a&amp;&amp;O!==l&amp;&amp;p0(h,x,d,v,p,y,O.x,O.y)&amp;&amp;Ui(O.prev,O,O.next)&gt;=0))return!1;O=O.nextZ}for(;D&amp;&amp;D.z&gt;=M;){if(D.x&gt;=S&amp;&amp;D.x&lt;=C&amp;&amp;D.y&gt;=T&amp;&amp;D.y&lt;=w&amp;&amp;D!==a&amp;&amp;D!==l&amp;&amp;p0(h,x,d,v,p,y,D.x,D.y)&amp;&amp;Ui(D.prev,D,D.next)&gt;=0)return!1;D=D.prevZ}for(;O&amp;&amp;O.z&lt;=R;){if(O.x&gt;=S&amp;&amp;O.x&lt;=C&amp;&amp;O.y&gt;=T&amp;&amp;O.y&lt;=w&amp;&amp;O!==a&amp;&amp;O!==l&amp;&amp;p0(h,x,d,v,p,y,O.x,O.y)&amp;&amp;Ui(O.prev,O,O.next)&gt;=0)return!1;O=O.nextZ}return!0}function pL(n,t){let e=n;do{const i=e.prev,a=e.next.next;!np(i,a)&amp;&amp;$C(i,e,e.next,a)&amp;&amp;k0(i,a)&amp;&amp;k0(a,i)&amp;&amp;(t.push(i.i,e.i,a.i),X0(e),X0(e.next),e=n=a),e=e.next}while(e!==n);return Zf(e)}function mL(n,t,e,i,a,o){let l=n;do{let h=l.next.next;for(;h!==l.prev;){if(l.i!==h.i&amp;&amp;EL(l,h)){let d=tR(l,h);l=Zf(l,l.next),d=Zf(d,d.next),j0(l,t,e,i,a,o,0),j0(d,t,e,i,a,o,0);return}h=h.next}l=l.next}while(l!==n)}function gL(n,t,e,i){const a=[];for(let o=0,l=t.length;o&lt;l;o++){const h=t[o]*i,d=o&lt;l-1?t[o+1]*i:n.length,p=QC(n,h,d,i,!1);p===p.next&amp;&amp;(p.steiner=!0),a.push(ML(p))}a.sort(xL);for(let o=0;o&lt;a.length;o++)e=vL(a[o],e);return e}function xL(n,t){let e=n.x-t.x;if(e===0&amp;&amp;(e=n.y-t.y,e===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(t.next.y-t.y)/(t.next.x-t.x);e=i-a}return e}function vL(n,t){const e=yL(n,t);if(!e)return t;const i=tR(e,n);return Zf(i,i.next),Zf(e,e.next)}function yL(n,t){let e=t;const i=n.x,a=n.y;let o=-1/0,l;if(np(n,e))return e;do{if(np(n,e.next))return e.next;if(a&lt;=e.y&amp;&amp;a&gt;=e.next.y&amp;&amp;e.next.y!==e.y){const v=e.x+(a-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v&lt;=i&amp;&amp;v&gt;o&amp;&amp;(o=v,l=e.x&lt;e.next.x?e:e.next,v===i))return l}e=e.next}while(e!==t);if(!l)return null;const h=l,d=l.x,p=l.y;let x=1/0;e=l;do{if(i&gt;=e.x&amp;&amp;e.x&gt;=d&amp;&amp;i!==e.x&amp;&amp;JC(a&lt;p?i:o,a,d,p,a&lt;p?o:i,a,e.x,e.y)){const v=Math.abs(a-e.y)/(i-e.x);k0(e,n)&amp;&amp;(v&lt;x||v===x&amp;&amp;(e.x&gt;l.x||e.x===l.x&amp;&amp;_L(l,e)))&amp;&amp;(l=e,x=v)}e=e.next}while(e!==h);return l}function _L(n,t){return Ui(n.prev,n,t.prev)&lt;0&amp;&amp;Ui(t.next,n,n.next)&lt;0}function bL(n,t,e,i){let a=n;do a.z===0&amp;&amp;(a.z=mS(a.x,a.y,t,e,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,SL(a)}function SL(n){let t,e=1;do{let i=n,a;n=null;let o=null;for(t=0;i;){t++;let l=i,h=0;for(let p=0;p&lt;e&amp;&amp;(h++,l=l.nextZ,!!l);p++);let d=e;for(;h&gt;0||d&gt;0&amp;&amp;l;)h!==0&amp;&amp;(d===0||!l||i.z&lt;=l.z)?(a=i,i=i.nextZ,h--):(a=l,l=l.nextZ,d--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;i=l}o.nextZ=null,e*=2}while(t&gt;1);return n}function mS(n,t,e,i,a){return n=(n-e)*a|0,t=(t-i)*a|0,n=(n|n&lt;&lt;8)&amp;16711935,n=(n|n&lt;&lt;4)&amp;252645135,n=(n|n&lt;&lt;2)&amp;858993459,n=(n|n&lt;&lt;1)&amp;1431655765,t=(t|t&lt;&lt;8)&amp;16711935,t=(t|t&lt;&lt;4)&amp;252645135,t=(t|t&lt;&lt;2)&amp;858993459,t=(t|t&lt;&lt;1)&amp;1431655765,n|t&lt;&lt;1}function ML(n){let t=n,e=n;do(t.x&lt;e.x||t.x===e.x&amp;&amp;t.y&lt;e.y)&amp;&amp;(e=t),t=t.next;while(t!==n);return e}function JC(n,t,e,i,a,o,l,h){return(a-l)*(t-h)&gt;=(n-l)*(o-h)&amp;&amp;(n-l)*(i-h)&gt;=(e-l)*(t-h)&amp;&amp;(e-l)*(o-h)&gt;=(a-l)*(i-h)}function p0(n,t,e,i,a,o,l,h){return!(n===l&amp;&amp;t===h)&amp;&amp;JC(n,t,e,i,a,o,l,h)}function EL(n,t){return n.next.i!==t.i&amp;&amp;n.prev.i!==t.i&amp;&amp;!TL(n,t)&amp;&amp;(k0(n,t)&amp;&amp;k0(t,n)&amp;&amp;AL(n,t)&amp;&amp;(Ui(n.prev,n,t.prev)||Ui(n,t.prev,t))||np(n,t)&amp;&amp;Ui(n.prev,n,n.next)&gt;0&amp;&amp;Ui(t.prev,t,t.next)&gt;0)}function Ui(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function np(n,t){return n.x===t.x&amp;&amp;n.y===t.y}function $C(n,t,e,i){const a=Mv(Ui(n,t,e)),o=Mv(Ui(n,t,i)),l=Mv(Ui(e,i,n)),h=Mv(Ui(e,i,t));return!!(a!==o&amp;&amp;l!==h||a===0&amp;&amp;Sv(n,e,t)||o===0&amp;&amp;Sv(n,i,t)||l===0&amp;&amp;Sv(e,n,i)||h===0&amp;&amp;Sv(e,t,i))}function Sv(n,t,e){return t.x&lt;=Math.max(n.x,e.x)&amp;&amp;t.x&gt;=Math.min(n.x,e.x)&amp;&amp;t.y&lt;=Math.max(n.y,e.y)&amp;&amp;t.y&gt;=Math.min(n.y,e.y)}function Mv(n){return n&gt;0?1:n&lt;0?-1:0}function TL(n,t){let e=n;do{if(e.i!==n.i&amp;&amp;e.next.i!==n.i&amp;&amp;e.i!==t.i&amp;&amp;e.next.i!==t.i&amp;&amp;$C(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function k0(n,t){return Ui(n.prev,n,n.next)&lt;0?Ui(n,t,n.next)&gt;=0&amp;&amp;Ui(n,n.prev,t)&gt;=0:Ui(n,t,n.prev)&lt;0||Ui(n,n.next,t)&lt;0}function AL(n,t){let e=n,i=!1;const a=(n.x+t.x)/2,o=(n.y+t.y)/2;do e.y&gt;o!=e.next.y&gt;o&amp;&amp;e.next.y!==e.y&amp;&amp;a&lt;(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&amp;&amp;(i=!i),e=e.next;while(e!==n);return i}function tR(n,t){const e=gS(n.i,n.x,n.y),i=gS(t.i,t.x,t.y),a=n.next,o=t.prev;return n.next=t,t.prev=n,e.next=a,a.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function TE(n,t,e,i){const a=gS(n,t,e);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function X0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&amp;&amp;(n.prevZ.nextZ=n.nextZ),n.nextZ&amp;&amp;(n.nextZ.prevZ=n.prevZ)}function gS(n,t,e){return{i:n,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function wL(n,t,e,i){let a=0;for(let o=t,l=e-i;o&lt;e;o+=i)a+=(n[l]-n[o])*(n[o+1]+n[l+1]),l=o;return a}class CL{static triangulate(t,e,i=2){return fL(t,e,i)}}class Eo{static area(t){const e=t.length;let i=0;for(let a=e-1,o=0;o&lt;e;a=o++)i+=t[a].x*t[o].y-t[o].x*t[a].y;return i*.5}static isClockWise(t){return Eo.area(t)&lt;0}static triangulateShape(t,e){const i=[],a=[],o=[];AE(t),wE(i,t);let l=t.length;e.forEach(AE);for(let d=0;d&lt;e.length;d++)a.push(l),l+=e[d].length,wE(i,e[d]);const h=CL.triangulate(i,a);for(let d=0;d&lt;h.length;d+=3)o.push(h.slice(d,d+3));return o}}function AE(n){const t=n.length;t&gt;2&amp;&amp;n[t-1].equals(n[0])&amp;&amp;n.pop()}function wE(n,t){for(let e=0;e&lt;t.length;e++)n.push(t[e].x),n.push(t[e].y)}class A_ extends gn{constructor(t=new kf([new Zt(.5,.5),new Zt(-.5,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,a=[],o=[];for(let h=0,d=t.length;h&lt;d;h++){const p=t[h];l(p)}this.setAttribute("position",new Be(a,3)),this.setAttribute("uv",new Be(o,2)),this.computeVertexNormals();function l(h){const d=[],p=e.curveSegments!==void 0?e.curveSegments:12,x=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let y=e.bevelEnabled!==void 0?e.bevelEnabled:!0,S=e.bevelThickness!==void 0?e.bevelThickness:.2,T=e.bevelSize!==void 0?e.bevelSize:S-.1,C=e.bevelOffset!==void 0?e.bevelOffset:0,w=e.bevelSegments!==void 0?e.bevelSegments:3;const M=e.extrudePath,R=e.UVGenerator!==void 0?e.UVGenerator:RL;let D,O=!1,I,z,G,H;M&amp;&amp;(D=M.getSpacedPoints(x),O=!0,y=!1,I=M.computeFrenetFrames(x,!1),z=new K,G=new K,H=new K),y||(w=0,S=0,T=0,C=0);const L=h.extractPoints(p);let B=L.shape;const Y=L.holes;if(!Eo.isClockWise(B)){B=B.reverse();for(let qt=0,Q=Y.length;qt&lt;Q;qt++){const Kt=Y[qt];Eo.isClockWise(Kt)&amp;&amp;(Y[qt]=Kt.reverse())}}function rt(qt){const Kt=10000000000000001e-36;let ne=qt[0];for(let ue=1;ue&lt;=qt.length;ue++){const te=ue%qt.length,ge=qt[te],fe=ge.x-ne.x,Ee=ge.y-ne.y,J=fe*fe+Ee*Ee,j=Math.max(Math.abs(ge.x),Math.abs(ge.y),Math.abs(ne.x),Math.abs(ne.y)),St=Kt*j*j;if(J&lt;=St){qt.splice(te,1),ue--;continue}ne=ge}}rt(B),Y.forEach(rt);const ft=Y.length,pt=B;for(let qt=0;qt&lt;ft;qt++){const Q=Y[qt];B=B.concat(Q)}function k(qt,Q,Kt){return Q||on("ExtrudeGeometry: vec does not exist"),qt.clone().addScaledVector(Q,Kt)}const tt=B.length;function it(qt,Q,Kt){let ne,ue,te;const ge=qt.x-Q.x,fe=qt.y-Q.y,Ee=Kt.x-qt.x,J=Kt.y-qt.y,j=ge*ge+fe*fe,St=ge*J-fe*Ee;if(Math.abs(St)&gt;Number.EPSILON){const Pt=Math.sqrt(j),Wt=Math.sqrt(Ee*Ee+J*J),Ot=Q.x-fe/Pt,Ne=Q.y+ge/Pt,pe=Kt.x-J/Wt,Ve=Kt.y+Ee/Wt,Ue=((pe-Ot)*J-(Ve-Ne)*Ee)/(ge*J-fe*Ee);ne=Ot+ge*Ue-qt.x,ue=Ne+fe*Ue-qt.y;const Gt=ne*ne+ue*ue;if(Gt&lt;=2)return new Zt(ne,ue);te=Math.sqrt(Gt/2)}else{let Pt=!1;ge&gt;Number.EPSILON?Ee&gt;Number.EPSILON&amp;&amp;(Pt=!0):ge&lt;-Number.EPSILON?Ee&lt;-Number.EPSILON&amp;&amp;(Pt=!0):Math.sign(fe)===Math.sign(J)&amp;&amp;(Pt=!0),Pt?(ne=-fe,ue=ge,te=Math.sqrt(j)):(ne=ge,ue=fe,te=Math.sqrt(j/2))}return new Zt(ne/te,ue/te)}const xt=[];for(let qt=0,Q=pt.length,Kt=Q-1,ne=qt+1;qt&lt;Q;qt++,Kt++,ne++)Kt===Q&amp;&amp;(Kt=0),ne===Q&amp;&amp;(ne=0),xt[qt]=it(pt[qt],pt[Kt],pt[ne]);const bt=[];let Z,ht=xt.concat();for(let qt=0,Q=ft;qt&lt;Q;qt++){const Kt=Y[qt];Z=[];for(let ne=0,ue=Kt.length,te=ue-1,ge=ne+1;ne&lt;ue;ne++,te++,ge++)te===ue&amp;&amp;(te=0),ge===ue&amp;&amp;(ge=0),Z[ne]=it(Kt[ne],Kt[te],Kt[ge]);bt.push(Z),ht=ht.concat(Z)}let Rt;if(w===0)Rt=Eo.triangulateShape(pt,Y);else{const qt=[],Q=[];for(let Kt=0;Kt&lt;w;Kt++){const ne=Kt/w,ue=S*Math.cos(ne*Math.PI/2),te=T*Math.sin(ne*Math.PI/2)+C;for(let ge=0,fe=pt.length;ge&lt;fe;ge++){const Ee=k(pt[ge],xt[ge],te);xe(Ee.x,Ee.y,-ue),ne===0&amp;&amp;qt.push(Ee)}for(let ge=0,fe=ft;ge&lt;fe;ge++){const Ee=Y[ge];Z=bt[ge];const J=[];for(let j=0,St=Ee.length;j&lt;St;j++){const Pt=k(Ee[j],Z[j],te);xe(Pt.x,Pt.y,-ue),ne===0&amp;&amp;J.push(Pt)}ne===0&amp;&amp;Q.push(J)}}Rt=Eo.triangulateShape(qt,Q)}const Bt=Rt.length,le=T+C;for(let qt=0;qt&lt;tt;qt++){const Q=y?k(B[qt],ht[qt],le):B[qt];O?(G.copy(I.normals[0]).multiplyScalar(Q.x),z.copy(I.binormals[0]).multiplyScalar(Q.y),H.copy(D[0]).add(G).add(z),xe(H.x,H.y,H.z)):xe(Q.x,Q.y,0)}for(let qt=1;qt&lt;=x;qt++)for(let Q=0;Q&lt;tt;Q++){const Kt=y?k(B[Q],ht[Q],le):B[Q];O?(G.copy(I.normals[qt]).multiplyScalar(Kt.x),z.copy(I.binormals[qt]).multiplyScalar(Kt.y),H.copy(D[qt]).add(G).add(z),xe(H.x,H.y,H.z)):xe(Kt.x,Kt.y,v/x*qt)}for(let qt=w-1;qt&gt;=0;qt--){const Q=qt/w,Kt=S*Math.cos(Q*Math.PI/2),ne=T*Math.sin(Q*Math.PI/2)+C;for(let ue=0,te=pt.length;ue&lt;te;ue++){const ge=k(pt[ue],xt[ue],ne);xe(ge.x,ge.y,v+Kt)}for(let ue=0,te=Y.length;ue&lt;te;ue++){const ge=Y[ue];Z=bt[ue];for(let fe=0,Ee=ge.length;fe&lt;Ee;fe++){const J=k(ge[fe],Z[fe],ne);O?xe(J.x,J.y+D[x-1].y,D[x-1].x+Kt):xe(J.x,J.y,v+Kt)}}}mt(),Dt();function mt(){const qt=a.length/3;if(y){let Q=0,Kt=tt*Q;for(let ne=0;ne&lt;Bt;ne++){const ue=Rt[ne];De(ue[2]+Kt,ue[1]+Kt,ue[0]+Kt)}Q=x+w*2,Kt=tt*Q;for(let ne=0;ne&lt;Bt;ne++){const ue=Rt[ne];De(ue[0]+Kt,ue[1]+Kt,ue[2]+Kt)}}else{for(let Q=0;Q&lt;Bt;Q++){const Kt=Rt[Q];De(Kt[2],Kt[1],Kt[0])}for(let Q=0;Q&lt;Bt;Q++){const Kt=Rt[Q];De(Kt[0]+tt*x,Kt[1]+tt*x,Kt[2]+tt*x)}}i.addGroup(qt,a.length/3-qt,0)}function Dt(){const qt=a.length/3;let Q=0;ie(pt,Q),Q+=pt.length;for(let Kt=0,ne=Y.length;Kt&lt;ne;Kt++){const ue=Y[Kt];ie(ue,Q),Q+=ue.length}i.addGroup(qt,a.length/3-qt,1)}function ie(qt,Q){let Kt=qt.length;for(;--Kt&gt;=0;){const ne=Kt;let ue=Kt-1;ue&lt;0&amp;&amp;(ue=qt.length-1);for(let te=0,ge=x+w*2;te&lt;ge;te++){const fe=tt*te,Ee=tt*(te+1),J=Q+ne+fe,j=Q+ue+fe,St=Q+ue+Ee,Pt=Q+ne+Ee;Ke(J,j,St,Pt)}}}function xe(qt,Q,Kt){d.push(qt),d.push(Q),d.push(Kt)}function De(qt,Q,Kt){Mn(qt),Mn(Q),Mn(Kt);const ne=a.length/3,ue=R.generateTopUV(i,a,ne-3,ne-2,ne-1);Ge(ue[0]),Ge(ue[1]),Ge(ue[2])}function Ke(qt,Q,Kt,ne){Mn(qt),Mn(Q),Mn(ne),Mn(Q),Mn(Kt),Mn(ne);const ue=a.length/3,te=R.generateSideWallUV(i,a,ue-6,ue-3,ue-2,ue-1);Ge(te[0]),Ge(te[1]),Ge(te[3]),Ge(te[1]),Ge(te[2]),Ge(te[3])}function Mn(qt){a.push(d[qt*3+0]),a.push(d[qt*3+1]),a.push(d[qt*3+2])}function Ge(qt){o.push(qt.x),o.push(qt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return DL(e,i,t)}static fromJSON(t,e){const i=[];for(let o=0,l=t.shapes.length;o&lt;l;o++){const h=e[t.shapes[o]];i.push(h)}const a=t.options.extrudePath;return a!==void 0&amp;&amp;(t.options.extrudePath=new ky[a.type]().fromJSON(a)),new A_(i,t.options)}}const RL={generateTopUV:function(n,t,e,i,a){const o=t[e*3],l=t[e*3+1],h=t[i*3],d=t[i*3+1],p=t[a*3],x=t[a*3+1];return[new Zt(o,l),new Zt(h,d),new Zt(p,x)]},generateSideWallUV:function(n,t,e,i,a,o){const l=t[e*3],h=t[e*3+1],d=t[e*3+2],p=t[i*3],x=t[i*3+1],v=t[i*3+2],y=t[a*3],S=t[a*3+1],T=t[a*3+2],C=t[o*3],w=t[o*3+1],M=t[o*3+2];return Math.abs(h-x)&lt;Math.abs(l-p)?[new Zt(l,1-d),new Zt(p,1-v),new Zt(y,1-T),new Zt(C,1-M)]:[new Zt(h,1-d),new Zt(x,1-v),new Zt(S,1-T),new Zt(w,1-M)]}};function DL(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i&lt;a;i++){const o=n[i];e.shapes.push(o.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&amp;&amp;(e.options.extrudePath=t.extrudePath.toJSON()),e}class dg extends vu{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new dg(t.radius,t.detail)}}class w_ extends gn{constructor(t=[new Zt(0,-.5),new Zt(.5,0),new Zt(0,.5)],e=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:a},e=Math.floor(e),a=nn(a,0,Math.PI*2);const o=[],l=[],h=[],d=[],p=[],x=1/e,v=new K,y=new Zt,S=new K,T=new K,C=new K;let w=0,M=0;for(let R=0;R&lt;=t.length-1;R++)switch(R){case 0:w=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,S.x=M*1,S.y=-w,S.z=M*0,C.copy(S),S.normalize(),d.push(S.x,S.y,S.z);break;case t.length-1:d.push(C.x,C.y,C.z);break;default:w=t[R+1].x-t[R].x,M=t[R+1].y-t[R].y,S.x=M*1,S.y=-w,S.z=M*0,T.copy(S),S.x+=C.x,S.y+=C.y,S.z+=C.z,S.normalize(),d.push(S.x,S.y,S.z),C.copy(T)}for(let R=0;R&lt;=e;R++){const D=i+R*x*a,O=Math.sin(D),I=Math.cos(D);for(let z=0;z&lt;=t.length-1;z++){v.x=t[z].x*O,v.y=t[z].y,v.z=t[z].x*I,l.push(v.x,v.y,v.z),y.x=R/e,y.y=z/(t.length-1),h.push(y.x,y.y);const G=d[3*z+0]*O,H=d[3*z+1],L=d[3*z+0]*I;p.push(G,H,L)}}for(let R=0;R&lt;e;R++)for(let D=0;D&lt;t.length-1;D++){const O=D+R*t.length,I=O,z=O+t.length,G=O+t.length+1,H=O+1;o.push(I,z,H),o.push(G,H,z)}this.setIndex(o),this.setAttribute("position",new Be(l,3)),this.setAttribute("uv",new Be(h,2)),this.setAttribute("normal",new Be(p,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new w_(t.points,t.segments,t.phiStart,t.phiLength)}}class pg extends vu{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new pg(t.radius,t.detail)}}class yu extends gn{constructor(t=1,e=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:a};const o=t/2,l=e/2,h=Math.floor(i),d=Math.floor(a),p=h+1,x=d+1,v=t/h,y=e/d,S=[],T=[],C=[],w=[];for(let M=0;M&lt;x;M++){const R=M*y-l;for(let D=0;D&lt;p;D++){const O=D*v-o;T.push(O,-R,0),C.push(0,0,1),w.push(D/h),w.push(1-M/d)}}for(let M=0;M&lt;d;M++)for(let R=0;R&lt;h;R++){const D=R+p*M,O=R+p*(M+1),I=R+1+p*(M+1),z=R+1+p*M;S.push(D,O,z),S.push(O,I,z)}this.setIndex(S),this.setAttribute("position",new Be(T,3)),this.setAttribute("normal",new Be(C,3)),this.setAttribute("uv",new Be(w,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new yu(t.width,t.height,t.widthSegments,t.heightSegments)}}class C_ extends gn{constructor(t=.5,e=1,i=32,a=1,o=0,l=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:l},i=Math.max(3,i),a=Math.max(1,a);const h=[],d=[],p=[],x=[];let v=t;const y=(e-t)/a,S=new K,T=new Zt;for(let C=0;C&lt;=a;C++){for(let w=0;w&lt;=i;w++){const M=o+w/i*l;S.x=v*Math.cos(M),S.y=v*Math.sin(M),d.push(S.x,S.y,S.z),p.push(0,0,1),T.x=(S.x/e+1)/2,T.y=(S.y/e+1)/2,x.push(T.x,T.y)}v+=y}for(let C=0;C&lt;a;C++){const w=C*(i+1);for(let M=0;M&lt;i;M++){const R=M+w,D=R,O=R+i+1,I=R+i+2,z=R+1;h.push(D,O,z),h.push(O,I,z)}}this.setIndex(h),this.setAttribute("position",new Be(d,3)),this.setAttribute("normal",new Be(p,3)),this.setAttribute("uv",new Be(x,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new C_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class R_ extends gn{constructor(t=new kf([new Zt(0,.5),new Zt(-.5,-.5),new Zt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],a=[],o=[],l=[];let h=0,d=0;if(Array.isArray(t)===!1)p(t);else for(let x=0;x&lt;t.length;x++)p(t[x]),this.addGroup(h,d,x),h+=d,d=0;this.setIndex(i),this.setAttribute("position",new Be(a,3)),this.setAttribute("normal",new Be(o,3)),this.setAttribute("uv",new Be(l,2));function p(x){const v=a.length/3,y=x.extractPoints(e);let S=y.shape;const T=y.holes;Eo.isClockWise(S)===!1&amp;&amp;(S=S.reverse());for(let w=0,M=T.length;w&lt;M;w++){const R=T[w];Eo.isClockWise(R)===!0&amp;&amp;(T[w]=R.reverse())}const C=Eo.triangulateShape(S,T);for(let w=0,M=T.length;w&lt;M;w++){const R=T[w];S=S.concat(R)}for(let w=0,M=S.length;w&lt;M;w++){const R=S[w];a.push(R.x,R.y,0),o.push(0,0,1),l.push(R.x,R.y)}for(let w=0,M=C.length;w&lt;M;w++){const R=C[w],D=R[0]+v,O=R[1]+v,I=R[2]+v;i.push(D,O,I),d+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return NL(e,t)}static fromJSON(t,e){const i=[];for(let a=0,o=t.shapes.length;a&lt;o;a++){const l=e[t.shapes[a]];i.push(l)}return new R_(i,t.curveSegments)}}function NL(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e&lt;i;e++){const a=n[e];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t}class mg extends gn{constructor(t=1,e=32,i=16,a=0,o=Math.PI*2,l=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:a,phiLength:o,thetaStart:l,thetaLength:h},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const d=Math.min(l+h,Math.PI);let p=0;const x=[],v=new K,y=new K,S=[],T=[],C=[],w=[];for(let M=0;M&lt;=i;M++){const R=[],D=M/i;let O=0;M===0&amp;&amp;l===0?O=.5/e:M===i&amp;&amp;d===Math.PI&amp;&amp;(O=-.5/e);for(let I=0;I&lt;=e;I++){const z=I/e;v.x=-t*Math.cos(a+z*o)*Math.sin(l+D*h),v.y=t*Math.cos(l+D*h),v.z=t*Math.sin(a+z*o)*Math.sin(l+D*h),T.push(v.x,v.y,v.z),y.copy(v).normalize(),C.push(y.x,y.y,y.z),w.push(z+O,1-D),R.push(p++)}x.push(R)}for(let M=0;M&lt;i;M++)for(let R=0;R&lt;e;R++){const D=x[M][R+1],O=x[M][R],I=x[M+1][R],z=x[M+1][R+1];(M!==0||l&gt;0)&amp;&amp;S.push(D,O,z),(M!==i-1||d&lt;Math.PI)&amp;&amp;S.push(O,I,z)}this.setIndex(S),this.setAttribute("position",new Be(T,3)),this.setAttribute("normal",new Be(C,3)),this.setAttribute("uv",new Be(w,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new mg(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class D_ extends vu{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new D_(t.radius,t.detail)}}class N_ extends gn{constructor(t=1,e=.4,i=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:a,arc:o},i=Math.floor(i),a=Math.floor(a);const l=[],h=[],d=[],p=[],x=new K,v=new K,y=new K;for(let S=0;S&lt;=i;S++)for(let T=0;T&lt;=a;T++){const C=T/a*o,w=S/i*Math.PI*2;v.x=(t+e*Math.cos(w))*Math.cos(C),v.y=(t+e*Math.cos(w))*Math.sin(C),v.z=e*Math.sin(w),h.push(v.x,v.y,v.z),x.x=t*Math.cos(C),x.y=t*Math.sin(C),y.subVectors(v,x).normalize(),d.push(y.x,y.y,y.z),p.push(T/a),p.push(S/i)}for(let S=1;S&lt;=i;S++)for(let T=1;T&lt;=a;T++){const C=(a+1)*S+T-1,w=(a+1)*(S-1)+T-1,M=(a+1)*(S-1)+T,R=(a+1)*S+T;l.push(C,w,R),l.push(w,M,R)}this.setIndex(l),this.setAttribute("position",new Be(h,3)),this.setAttribute("normal",new Be(d,3)),this.setAttribute("uv",new Be(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new N_(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class U_ extends gn{constructor(t=1,e=.4,i=64,a=8,o=2,l=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:a,p:o,q:l},i=Math.floor(i),a=Math.floor(a);const h=[],d=[],p=[],x=[],v=new K,y=new K,S=new K,T=new K,C=new K,w=new K,M=new K;for(let D=0;D&lt;=i;++D){const O=D/i*o*Math.PI*2;R(O,o,l,t,S),R(O+.01,o,l,t,T),w.subVectors(T,S),M.addVectors(T,S),C.crossVectors(w,M),M.crossVectors(C,w),C.normalize(),M.normalize();for(let I=0;I&lt;=a;++I){const z=I/a*Math.PI*2,G=-e*Math.cos(z),H=e*Math.sin(z);v.x=S.x+(G*M.x+H*C.x),v.y=S.y+(G*M.y+H*C.y),v.z=S.z+(G*M.z+H*C.z),d.push(v.x,v.y,v.z),y.subVectors(v,S).normalize(),p.push(y.x,y.y,y.z),x.push(D/i),x.push(I/a)}}for(let D=1;D&lt;=i;D++)for(let O=1;O&lt;=a;O++){const I=(a+1)*(D-1)+(O-1),z=(a+1)*D+(O-1),G=(a+1)*D+O,H=(a+1)*(D-1)+O;h.push(I,z,H),h.push(z,G,H)}this.setIndex(h),this.setAttribute("position",new Be(d,3)),this.setAttribute("normal",new Be(p,3)),this.setAttribute("uv",new Be(x,2));function R(D,O,I,z,G){const H=Math.cos(D),L=Math.sin(D),B=I/O*D,Y=Math.cos(B);G.x=z*(2+Y)*.5*H,G.y=z*(2+Y)*L*.5,G.z=z*Math.sin(B)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new U_(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class O_ extends gn{constructor(t=new bM(new K(-1,-1,0),new K(-1,1,0),new K(1,1,0)),e=64,i=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:a,closed:o};const l=t.computeFrenetFrames(e,o);this.tangents=l.tangents,this.normals=l.normals,this.binormals=l.binormals;const h=new K,d=new K,p=new Zt;let x=new K;const v=[],y=[],S=[],T=[];C(),this.setIndex(T),this.setAttribute("position",new Be(v,3)),this.setAttribute("normal",new Be(y,3)),this.setAttribute("uv",new Be(S,2));function C(){for(let D=0;D&lt;e;D++)w(D);w(o===!1?e:0),R(),M()}function w(D){x=t.getPointAt(D/e,x);const O=l.normals[D],I=l.binormals[D];for(let z=0;z&lt;=a;z++){const G=z/a*Math.PI*2,H=Math.sin(G),L=-Math.cos(G);d.x=L*O.x+H*I.x,d.y=L*O.y+H*I.y,d.z=L*O.z+H*I.z,d.normalize(),y.push(d.x,d.y,d.z),h.x=x.x+i*d.x,h.y=x.y+i*d.y,h.z=x.z+i*d.z,v.push(h.x,h.y,h.z)}}function M(){for(let D=1;D&lt;=e;D++)for(let O=1;O&lt;=a;O++){const I=(a+1)*(D-1)+(O-1),z=(a+1)*D+(O-1),G=(a+1)*D+O,H=(a+1)*(D-1)+O;T.push(I,z,H),T.push(z,G,H)}}function R(){for(let D=0;D&lt;=e;D++)for(let O=0;O&lt;=a;O++)p.x=D/e,p.y=O/a,S.push(p.x,p.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new O_(new ky[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class eR extends gn{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,a=new K,o=new K;if(t.index!==null){const l=t.attributes.position,h=t.index;let d=t.groups;d.length===0&amp;&amp;(d=[{start:0,count:h.count,materialIndex:0}]);for(let p=0,x=d.length;p&lt;x;++p){const v=d[p],y=v.start,S=v.count;for(let T=y,C=y+S;T&lt;C;T+=3)for(let w=0;w&lt;3;w++){const M=h.getX(T+w),R=h.getX(T+(w+1)%3);a.fromBufferAttribute(l,M),o.fromBufferAttribute(l,R),CE(a,o,i)===!0&amp;&amp;(e.push(a.x,a.y,a.z),e.push(o.x,o.y,o.z))}}}else{const l=t.attributes.position;for(let h=0,d=l.count/3;h&lt;d;h++)for(let p=0;p&lt;3;p++){const x=3*h+p,v=3*h+(p+1)%3;a.fromBufferAttribute(l,x),o.fromBufferAttribute(l,v),CE(a,o,i)===!0&amp;&amp;(e.push(a.x,a.y,a.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new Be(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function CE(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,a=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(a)===!0?!1:(e.add(i),e.add(a),!0)}var RE=Object.freeze({__proto__:null,BoxGeometry:Jf,CapsuleGeometry:S_,CircleGeometry:M_,ConeGeometry:hg,CylinderGeometry:fg,DodecahedronGeometry:E_,EdgesGeometry:XC,ExtrudeGeometry:A_,IcosahedronGeometry:dg,LatheGeometry:w_,OctahedronGeometry:pg,PlaneGeometry:yu,PolyhedronGeometry:vu,RingGeometry:C_,ShapeGeometry:R_,SphereGeometry:mg,TetrahedronGeometry:D_,TorusGeometry:N_,TorusKnotGeometry:U_,TubeGeometry:O_,WireframeGeometry:eR});class nR extends cs{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Se(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class iR extends ls{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MM extends cs{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Se(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class EM extends MM{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Zt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return nn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Se(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Se(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Se(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy&gt;0!=t&gt;0&amp;&amp;this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat&gt;0!=t&gt;0&amp;&amp;this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence&gt;0!=t&gt;0&amp;&amp;this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion&gt;0!=t&gt;0&amp;&amp;this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen&gt;0!=t&gt;0&amp;&amp;this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission&gt;0!=t&gt;0&amp;&amp;this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class aR extends cs{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Se(16777215),this.specular=new Se(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class sR extends cs{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Se(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class rR extends cs{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class TM extends cs{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Se(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Se(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Qs,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class AM extends cs{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=yC,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class wM extends cs{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class oR extends cs{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Se(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xu,this.normalScale=new Zt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this.fog=t.fog,this}}class lR extends zs{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Pf(n,t){return!n||n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function cR(n){return ArrayBuffer.isView(n)&amp;&amp;!(n instanceof DataView)}function uR(n){function t(a,o){return n[a]-n[o]}const e=n.length,i=new Array(e);for(let a=0;a!==e;++a)i[a]=a;return i.sort(t),i}function xS(n,t,e){const i=n.length,a=new n.constructor(i);for(let o=0,l=0;l!==i;++o){const h=e[o]*t;for(let d=0;d!==t;++d)a[l++]=n[h+d]}return a}function CM(n,t,e,i){let a=1,o=n[0];for(;o!==void 0&amp;&amp;o[i]===void 0;)o=n[a++];if(o===void 0)return;let l=o[i];if(l!==void 0)if(Array.isArray(l))do l=o[i],l!==void 0&amp;&amp;(t.push(o.time),e.push(...l)),o=n[a++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[i],l!==void 0&amp;&amp;(t.push(o.time),l.toArray(e,e.length)),o=n[a++];while(o!==void 0);else do l=o[i],l!==void 0&amp;&amp;(t.push(o.time),e.push(l)),o=n[a++];while(o!==void 0)}function UL(n,t,e,i,a=30){const o=n.clone();o.name=t;const l=[];for(let d=0;d&lt;o.tracks.length;++d){const p=o.tracks[d],x=p.getValueSize(),v=[],y=[];for(let S=0;S&lt;p.times.length;++S){const T=p.times[S]*a;if(!(T&lt;e||T&gt;=i)){v.push(p.times[S]);for(let C=0;C&lt;x;++C)y.push(p.values[S*x+C])}}v.length!==0&amp;&amp;(p.times=Pf(v,p.times.constructor),p.values=Pf(y,p.values.constructor),l.push(p))}o.tracks=l;let h=1/0;for(let d=0;d&lt;o.tracks.length;++d)h&gt;o.tracks[d].times[0]&amp;&amp;(h=o.tracks[d].times[0]);for(let d=0;d&lt;o.tracks.length;++d)o.tracks[d].shift(-1*h);return o.resetDuration(),o}function OL(n,t=0,e=n,i=30){i&lt;=0&amp;&amp;(i=30);const a=e.tracks.length,o=t/i;for(let l=0;l&lt;a;++l){const h=e.tracks[l],d=h.ValueTypeName;if(d==="bool"||d==="string")continue;const p=n.tracks.find(function(M){return M.name===h.name&amp;&amp;M.ValueTypeName===d});if(p===void 0)continue;let x=0;const v=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(x=v/3);let y=0;const S=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&amp;&amp;(y=S/3);const T=h.times.length-1;let C;if(o&lt;=h.times[0]){const M=x,R=v-x;C=h.values.slice(M,R)}else if(o&gt;=h.times[T]){const M=T*v+x,R=M+v-x;C=h.values.slice(M,R)}else{const M=h.createInterpolant(),R=x,D=v-x;M.evaluate(o),C=M.resultBuffer.slice(R,D)}d==="quaternion"&amp;&amp;new ji().fromArray(C).normalize().conjugate().toArray(C);const w=p.times.length;for(let M=0;M&lt;w;++M){const R=M*S+y;if(d==="quaternion")ji.multiplyQuaternionsFlat(p.values,R,C,0,p.values,R);else{const D=S-y*2;for(let O=0;O&lt;D;++O)p.values[R+O]-=C[O]}}}return n.blendMode=sM,n}class LL{static convertArray(t,e){return Pf(t,e)}static isTypedArray(t){return cR(t)}static getKeyframeOrder(t){return uR(t)}static sortedArray(t,e,i){return xS(t,e,i)}static flattenJSON(t,e,i,a){CM(t,e,i,a)}static subclip(t,e,i,a,o=30){return UL(t,e,i,a,o)}static makeClipAdditive(t,e=0,i=t,a=30){return OL(t,e,i,a)}}class gg{constructor(t,e,i,a){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,a=e[i],o=e[i-1];t:{e:{let l;n:{i:if(!(t&lt;a)){for(let h=i+2;;){if(a===void 0){if(t&lt;o)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===h)break;if(o=a,a=e[++i],t&lt;a)break e}l=e.length;break n}if(!(t&gt;=o)){const h=e[1];t&lt;h&amp;&amp;(i=2,o=h);for(let d=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===d)break;if(a=o,o=e[--i-1],t&gt;=o)break e}l=i,i=0;break n}break t}for(;i&lt;l;){const h=i+l&gt;&gt;&gt;1;t&lt;e[h]?l=h:i=h+1}if(a=e[i],o=e[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,a)}return this.interpolate_(i,o,t,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,a=this.valueSize,o=t*a;for(let l=0;l!==a;++l)e[l]=i[o+l];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class fR extends gg{constructor(t,e,i,a){super(t,e,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Lf,endingEnd:Lf}}intervalChanged_(t,e,i){const a=this.parameterPositions;let o=t-2,l=t+1,h=a[o],d=a[l];if(h===void 0)switch(this.getSettings_().endingStart){case zf:o=t,h=2*e-i;break;case P0:o=a.length-2,h=e+a[o]-a[o+1];break;default:o=t,h=i}if(d===void 0)switch(this.getSettings_().endingEnd){case zf:l=t,d=2*i-e;break;case P0:l=1,d=i+a[1]-a[0];break;default:l=t-1,d=e}const p=(i-e)*.5,x=this.valueSize;this._weightPrev=p/(e-h),this._weightNext=p/(d-i),this._offsetPrev=o*x,this._offsetNext=l*x}interpolate_(t,e,i,a){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=t*h,p=d-h,x=this._offsetPrev,v=this._offsetNext,y=this._weightPrev,S=this._weightNext,T=(i-e)/(a-e),C=T*T,w=C*T,M=-y*w+2*y*C-y*T,R=(1+y)*w+(-1.5-2*y)*C+(-.5+y)*T+1,D=(-1-S)*w+(1.5+S)*C+.5*T,O=S*w-S*C;for(let I=0;I!==h;++I)o[I]=M*l[x+I]+R*l[p+I]+D*l[d+I]+O*l[v+I];return o}}class RM extends gg{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t,e,i,a){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=t*h,p=d-h,x=(i-e)/(a-e),v=1-x;for(let y=0;y!==h;++y)o[y]=l[p+y]*v+l[d+y]*x;return o}}class hR extends gg{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t){return this.copySampleValue_(t-1)}}class jr{constructor(t,e,i,a){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Pf(e,this.TimeBufferType),this.values=Pf(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Pf(t.times,Array),values:Pf(t.values,Array)};const a=t.getInterpolation();a!==t.DefaultInterpolation&amp;&amp;(i.interpolation=a)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new hR(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new RM(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new fR(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case I0:e=this.InterpolantFactoryMethodDiscrete;break;case Hy:e=this.InterpolantFactoryMethodLinear;break;case Kv:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return _e("KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return I0;case this.InterpolantFactoryMethodLinear:return Hy;case this.InterpolantFactoryMethodSmooth:return Kv}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,a=e.length;i!==a;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,a=e.length;i!==a;++i)e[i]*=t}return this}trim(t,e){const i=this.times,a=i.length;let o=0,l=a-1;for(;o!==a&amp;&amp;i[o]&lt;t;)++o;for(;l!==-1&amp;&amp;i[l]&gt;e;)--l;if(++l,o!==0||l!==a){o&gt;=l&amp;&amp;(l=Math.max(l,1),o=l-1);const h=this.getValueSize();this.times=i.slice(o,l),this.values=this.values.slice(o*h,l*h)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&amp;&amp;(on("KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,a=this.values,o=i.length;o===0&amp;&amp;(on("KeyframeTrack: Track is empty.",this),t=!1);let l=null;for(let h=0;h!==o;h++){const d=i[h];if(typeof d=="number"&amp;&amp;isNaN(d)){on("KeyframeTrack: Time is not a valid number.",this,h,d),t=!1;break}if(l!==null&amp;&amp;l&gt;d){on("KeyframeTrack: Out of order keys.",this,h,d,l),t=!1;break}l=d}if(a!==void 0&amp;&amp;cR(a))for(let h=0,d=a.length;h!==d;++h){const p=a[h];if(isNaN(p)){on("KeyframeTrack: Value is not a valid number.",this,h,p),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===Kv,o=t.length-1;let l=1;for(let h=1;h&lt;o;++h){let d=!1;const p=t[h],x=t[h+1];if(p!==x&amp;&amp;(h!==1||p!==t[0]))if(a)d=!0;else{const v=h*i,y=v-i,S=v+i;for(let T=0;T!==i;++T){const C=e[v+T];if(C!==e[y+T]||C!==e[S+T]){d=!0;break}}}if(d){if(h!==l){t[l]=t[h];const v=h*i,y=l*i;for(let S=0;S!==i;++S)e[y+S]=e[v+S]}++l}}if(o&gt;0){t[l]=t[o];for(let h=o*i,d=l*i,p=0;p!==i;++p)e[d+p]=e[h+p];++l}return l!==t.length?(this.times=t.slice(0,l),this.values=e.slice(0,l*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,a=new i(this.name,t,e);return a.createInterpolant=this.createInterpolant,a}}jr.prototype.ValueTypeName="";jr.prototype.TimeBufferType=Float32Array;jr.prototype.ValueBufferType=Float32Array;jr.prototype.DefaultInterpolation=Hy;class $f extends jr{constructor(t,e,i){super(t,e,i)}}$f.prototype.ValueTypeName="bool";$f.prototype.ValueBufferType=Array;$f.prototype.DefaultInterpolation=I0;$f.prototype.InterpolantFactoryMethodLinear=void 0;$f.prototype.InterpolantFactoryMethodSmooth=void 0;class DM extends jr{constructor(t,e,i,a){super(t,e,i,a)}}DM.prototype.ValueTypeName="color";class q0 extends jr{constructor(t,e,i,a){super(t,e,i,a)}}q0.prototype.ValueTypeName="number";class dR extends gg{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t,e,i,a){const o=this.resultBuffer,l=this.sampleValues,h=this.valueSize,d=(i-e)/(a-e);let p=t*h;for(let x=p+h;p!==x;p+=4)ji.slerpFlat(o,0,l,p-h,l,p,d);return o}}class xg extends jr{constructor(t,e,i,a){super(t,e,i,a)}InterpolantFactoryMethodLinear(t){return new dR(this.times,this.values,this.getValueSize(),t)}}xg.prototype.ValueTypeName="quaternion";xg.prototype.InterpolantFactoryMethodSmooth=void 0;class th extends jr{constructor(t,e,i){super(t,e,i)}}th.prototype.ValueTypeName="string";th.prototype.ValueBufferType=Array;th.prototype.DefaultInterpolation=I0;th.prototype.InterpolantFactoryMethodLinear=void 0;th.prototype.InterpolantFactoryMethodSmooth=void 0;class Y0 extends jr{constructor(t,e,i,a){super(t,e,i,a)}}Y0.prototype.ValueTypeName="vector";class W0{constructor(t="",e=-1,i=[],a=h_){this.name=t,this.tracks=i,this.duration=e,this.blendMode=a,this.uuid=dr(),this.userData={},this.duration&lt;0&amp;&amp;this.resetDuration()}static parse(t){const e=[],i=t.tracks,a=1/(t.fps||1);for(let l=0,h=i.length;l!==h;++l)e.push(BL(i[l]).scale(a));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o.userData=JSON.parse(t.userData||"{}"),o}static toJSON(t){const e=[],i=t.tracks,a={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode,userData:JSON.stringify(t.userData)};for(let o=0,l=i.length;o!==l;++o)e.push(jr.toJSON(i[o]));return a}static CreateFromMorphTargetSequence(t,e,i,a){const o=e.length,l=[];for(let h=0;h&lt;o;h++){let d=[],p=[];d.push((h+o-1)%o,h,(h+1)%o),p.push(0,1,0);const x=uR(d);d=xS(d,1,x),p=xS(p,1,x),!a&amp;&amp;d[0]===0&amp;&amp;(d.push(o),p.push(p[0])),l.push(new q0(".morphTargetInfluences["+e[h].name+"]",d,p).scale(1/i))}return new this(t,-1,l)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const a=t;i=a.geometry&amp;&amp;a.geometry.animations||a.animations}for(let a=0;a&lt;i.length;a++)if(i[a].name===e)return i[a];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const a={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,d=t.length;h&lt;d;h++){const p=t[h],x=p.name.match(o);if(x&amp;&amp;x.length&gt;1){const v=x[1];let y=a[v];y||(a[v]=y=[]),y.push(p)}}const l=[];for(const h in a)l.push(this.CreateFromMorphTargetSequence(h,a[h],e,i));return l}static parseAnimation(t,e){if(_e("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return on("AnimationClip: No animation in JSONLoader data."),null;const i=function(v,y,S,T,C){if(S.length!==0){const w=[],M=[];CM(S,w,M,T),w.length!==0&amp;&amp;C.push(new v(y,w,M))}},a=[],o=t.name||"default",l=t.fps||30,h=t.blendMode;let d=t.length||-1;const p=t.hierarchy||[];for(let v=0;v&lt;p.length;v++){const y=p[v].keys;if(!(!y||y.length===0))if(y[0].morphTargets){const S={};let T;for(T=0;T&lt;y.length;T++)if(y[T].morphTargets)for(let C=0;C&lt;y[T].morphTargets.length;C++)S[y[T].morphTargets[C]]=-1;for(const C in S){const w=[],M=[];for(let R=0;R!==y[T].morphTargets.length;++R){const D=y[T];w.push(D.time),M.push(D.morphTarget===C?1:0)}a.push(new q0(".morphTargetInfluence["+C+"]",w,M))}d=S.length*l}else{const S=".bones["+e[v].name+"]";i(Y0,S+".position",y,"pos",a),i(xg,S+".quaternion",y,"rot",a),i(Y0,S+".scale",y,"scl",a)}}return a.length===0?null:new this(o,d,a,h)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,a=t.length;i!==a;++i){const o=this.tracks[i];e=Math.max(e,o.times[o.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t&lt;this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e&lt;this.tracks.length;e++)t=t&amp;&amp;this.tracks[e].validate();return t}optimize(){for(let t=0;t&lt;this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let i=0;i&lt;this.tracks.length;i++)t.push(this.tracks[i].clone());const e=new this.constructor(this.name,this.duration,t,this.blendMode);return e.userData=JSON.parse(JSON.stringify(this.userData)),e}toJSON(){return this.constructor.toJSON(this)}}function zL(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return q0;case"vector":case"vector2":case"vector3":case"vector4":return Y0;case"color":return DM;case"quaternion":return xg;case"bool":case"boolean":return $f;case"string":return th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function BL(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=zL(n.type);if(n.times===void 0){const e=[],i=[];CM(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const ul={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&amp;&amp;(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class L_{constructor(t,e,i){const a=this;let o=!1,l=0,h=0,d;const p=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this._abortController=null,this.itemStart=function(x){h++,o===!1&amp;&amp;a.onStart!==void 0&amp;&amp;a.onStart(x,l,h),o=!0},this.itemEnd=function(x){l++,a.onProgress!==void 0&amp;&amp;a.onProgress(x,l,h),l===h&amp;&amp;(o=!1,a.onLoad!==void 0&amp;&amp;a.onLoad())},this.itemError=function(x){a.onError!==void 0&amp;&amp;a.onError(x)},this.resolveURL=function(x){return d?d(x):x},this.setURLModifier=function(x){return d=x,this},this.addHandler=function(x,v){return p.push(x,v),this},this.removeHandler=function(x){const v=p.indexOf(x);return v!==-1&amp;&amp;p.splice(v,2),this},this.getHandler=function(x){for(let v=0,y=p.length;v&lt;y;v+=2){const S=p[v],T=p[v+1];if(S.global&amp;&amp;(S.lastIndex=0),S.test(x))return T}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const zd=new L_;let Bs=class{constructor(t){this.manager=t!==void 0?t:zd,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(a,o){i.load(t,a,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}abort(){return this}};Bs.DEFAULT_MATERIAL_NAME="__DEFAULT";const ec={};class IL extends Error{constructor(t,e){super(t),this.response=e}}class pr extends Bs{constructor(t){super(t),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(t,e,i,a){t===void 0&amp;&amp;(t=""),this.path!==void 0&amp;&amp;(t=this.path+t),t=this.manager.resolveURL(t);const o=ul.get(`file:${t}`);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=&gt;{e&amp;&amp;e(o),this.manager.itemEnd(t)},0),o;if(ec[t]!==void 0){ec[t].push({onLoad:e,onProgress:i,onError:a});return}ec[t]=[],ec[t].push({onLoad:e,onProgress:i,onError:a});const l=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),h=this.mimeType,d=this.responseType;fetch(l).then(p=&gt;{if(p.status===200||p.status===0){if(p.status===0&amp;&amp;_e("FileLoader: HTTP Status 0 received."),typeof ReadableStream&gt;"u"||p.body===void 0||p.body.getReader===void 0)return p;const x=ec[t],v=p.body.getReader(),y=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),S=y?parseInt(y):0,T=S!==0;let C=0;const w=new ReadableStream({start(M){R();function R(){v.read().then(({done:D,value:O})=&gt;{if(D)M.close();else{C+=O.byteLength;const I=new ProgressEvent("progress",{lengthComputable:T,loaded:C,total:S});for(let z=0,G=x.length;z&lt;G;z++){const H=x[z];H.onProgress&amp;&amp;H.onProgress(I)}M.enqueue(O),R()}},D=&gt;{M.error(D)})}}});return new Response(w)}else throw new IL(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=&gt;{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(x=&gt;new DOMParser().parseFromString(x,h));case"json":return p.json();default:if(h==="")return p.text();{const v=/charset="?([^;"\s]*)"?/i.exec(h),y=v&amp;&amp;v[1]?v[1].toLowerCase():void 0,S=new TextDecoder(y);return p.arrayBuffer().then(T=&gt;S.decode(T))}}}).then(p=&gt;{ul.add(`file:${t}`,p);const x=ec[t];delete ec[t];for(let v=0,y=x.length;v&lt;y;v++){const S=x[v];S.onLoad&amp;&amp;S.onLoad(p)}}).catch(p=&gt;{const x=ec[t];if(x===void 0)throw this.manager.itemError(t),p;delete ec[t];for(let v=0,y=x.length;v&lt;y;v++){const S=x[v];S.onError&amp;&amp;S.onError(p)}this.manager.itemError(t)}).finally(()=&gt;{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class PL extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=new pr(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(d){a?a(d):on(d),o.manager.itemError(t)}},i,a)}parse(t){const e=[];for(let i=0;i&lt;t.length;i++){const a=W0.parse(t[i]);e.push(a)}return e}}class VL extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=[],h=new b_,d=new pr(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(o.withCredentials);let p=0;function x(v){d.load(t[v],function(y){const S=o.parse(y,!0);l[v]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},p+=1,p===6&amp;&amp;(S.mipmapCount===1&amp;&amp;(h.minFilter=Jn),h.image=l,h.format=S.format,h.needsUpdate=!0,e&amp;&amp;e(h))},i,a)}if(Array.isArray(t))for(let v=0,y=t.length;v&lt;y;++v)x(v);else d.load(t,function(v){const y=o.parse(v,!0);if(y.isCubemap){const S=y.mipmaps.length/y.mipmapCount;for(let T=0;T&lt;S;T++){l[T]={mipmaps:[]};for(let C=0;C&lt;y.mipmapCount;C++)l[T].mipmaps.push(y.mipmaps[T*y.mipmapCount+C]),l[T].format=y.format,l[T].width=y.width,l[T].height=y.height}h.image=l}else h.image.width=y.width,h.image.height=y.height,h.mipmaps=y.mipmaps;y.mipmapCount===1&amp;&amp;(h.minFilter=Jn),h.format=y.format,h.needsUpdate=!0,e&amp;&amp;e(h)},i,a);return h}}const Md=new WeakMap;class Z0 extends Bs{constructor(t){super(t)}load(t,e,i,a){this.path!==void 0&amp;&amp;(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=ul.get(`image:${t}`);if(l!==void 0){if(l.complete===!0)o.manager.itemStart(t),setTimeout(function(){e&amp;&amp;e(l),o.manager.itemEnd(t)},0);else{let v=Md.get(l);v===void 0&amp;&amp;(v=[],Md.set(l,v)),v.push({onLoad:e,onError:a})}return l}const h=H0("img");function d(){x(),e&amp;&amp;e(this);const v=Md.get(this)||[];for(let y=0;y&lt;v.length;y++){const S=v[y];S.onLoad&amp;&amp;S.onLoad(this)}Md.delete(this),o.manager.itemEnd(t)}function p(v){x(),a&amp;&amp;a(v),ul.remove(`image:${t}`);const y=Md.get(this)||[];for(let S=0;S&lt;y.length;S++){const T=y[S];T.onError&amp;&amp;T.onError(v)}Md.delete(this),o.manager.itemError(t),o.manager.itemEnd(t)}function x(){h.removeEventListener("load",d,!1),h.removeEventListener("error",p,!1)}return h.addEventListener("load",d,!1),h.addEventListener("error",p,!1),t.slice(0,5)!=="data:"&amp;&amp;this.crossOrigin!==void 0&amp;&amp;(h.crossOrigin=this.crossOrigin),ul.add(`image:${t}`,h),o.manager.itemStart(t),h.src=t,h}}class pR extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=new cg;o.colorSpace=Fa;const l=new Z0(this.manager);l.setCrossOrigin(this.crossOrigin),l.setPath(this.path);let h=0;function d(p){l.load(t[p],function(x){o.images[p]=x,h++,h===6&amp;&amp;(o.needsUpdate=!0,e&amp;&amp;e(o))},void 0,a)}for(let p=0;p&lt;t.length;++p)d(p);return o}}class NM extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=new Fr,h=new pr(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(t,function(d){let p;try{p=o.parse(d)}catch(x){if(a!==void 0)a(x);else{x(x);return}}p.image!==void 0?l.image=p.image:p.data!==void 0&amp;&amp;(l.image.width=p.width,l.image.height=p.height,l.image.data=p.data),l.wrapS=p.wrapS!==void 0?p.wrapS:Gi,l.wrapT=p.wrapT!==void 0?p.wrapT:Gi,l.magFilter=p.magFilter!==void 0?p.magFilter:Jn,l.minFilter=p.minFilter!==void 0?p.minFilter:Jn,l.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&amp;&amp;(l.colorSpace=p.colorSpace),p.flipY!==void 0&amp;&amp;(l.flipY=p.flipY),p.format!==void 0&amp;&amp;(l.format=p.format),p.type!==void 0&amp;&amp;(l.type=p.type),p.mipmaps!==void 0&amp;&amp;(l.mipmaps=p.mipmaps,l.minFilter=cl),p.mipmapCount===1&amp;&amp;(l.minFilter=Jn),p.generateMipmaps!==void 0&amp;&amp;(l.generateMipmaps=p.generateMipmaps),l.needsUpdate=!0,e&amp;&amp;e(l,p)},i,a),l}}class z_ extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=new ni,l=new Z0(this.manager);return l.setCrossOrigin(this.crossOrigin),l.setPath(this.path),l.load(t,function(h){o.image=h,o.needsUpdate=!0,e!==void 0&amp;&amp;e(o)},i,a),o}}class _u extends Xn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Se(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&amp;&amp;(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&amp;&amp;(e.object.distance=this.distance),this.angle!==void 0&amp;&amp;(e.object.angle=this.angle),this.decay!==void 0&amp;&amp;(e.object.decay=this.decay),this.penumbra!==void 0&amp;&amp;(e.object.penumbra=this.penumbra),this.shadow!==void 0&amp;&amp;(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&amp;&amp;(e.object.target=this.target.uuid),e}}class mR extends _u{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Se(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const hb=new Qe,DE=new K,NE=new K;class UM{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Zt(512,512),this.mapType=Ls,this.map=null,this.mapPass=null,this.matrix=new Qe,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new cp,this._frameExtents=new Zt(1,1),this._viewportCount=1,this._viewports=[new Cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;DE.setFromMatrixPosition(t.matrixWorld),e.position.copy(DE),NE.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(NE),e.updateMatrixWorld(),hb.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hb,e.coordinateSystem,e.reversedDepth),e.reversedDepth?i.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(hb)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&amp;&amp;this.map.dispose(),this.mapPass&amp;&amp;this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.autoUpdate=t.autoUpdate,this.needsUpdate=t.needsUpdate,this.normalBias=t.normalBias,this.blurSamples=t.blurSamples,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&amp;&amp;(t.intensity=this.intensity),this.bias!==0&amp;&amp;(t.bias=this.bias),this.normalBias!==0&amp;&amp;(t.normalBias=this.normalBias),this.radius!==1&amp;&amp;(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&amp;&amp;(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class FL extends UM{constructor(){super(new Da(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(t){const e=this.camera,i=Jd*2*t.angle*this.focus,a=this.mapSize.width/this.mapSize.height*this.aspect,o=t.distance||e.far;(i!==e.fov||a!==e.aspect||o!==e.far)&amp;&amp;(e.fov=i,e.aspect=a,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class gR extends _u{constructor(t,e,i=0,a=Math.PI/3,o=0,l=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.target=new Xn,this.distance=i,this.angle=a,this.penumbra=o,this.decay=l,this.map=null,this.shadow=new FL}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const UE=new Qe,$m=new K,db=new K;class HL extends UM{constructor(){super(new Da(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Zt(4,2),this._viewportCount=6,this._viewports=[new Cn(2,1,1,1),new Cn(0,1,1,1),new Cn(3,1,1,1),new Cn(1,1,1,1),new Cn(3,0,1,1),new Cn(1,0,1,1)],this._cubeDirections=[new K(1,0,0),new K(-1,0,0),new K(0,0,1),new K(0,0,-1),new K(0,1,0),new K(0,-1,0)],this._cubeUps=[new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,1,0),new K(0,0,1),new K(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,a=this.matrix,o=t.distance||i.far;o!==i.far&amp;&amp;(i.far=o,i.updateProjectionMatrix()),$m.setFromMatrixPosition(t.matrixWorld),i.position.copy($m),db.copy(i.position),db.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(db),i.updateMatrixWorld(),a.makeTranslation(-$m.x,-$m.y,-$m.z),UE.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(UE,i.coordinateSystem,i.reversedDepth)}}class xR extends _u{constructor(t,e,i=0,a=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new HL}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class up extends m_{constructor(t=-1,e=1,i=1,a=-1,o=.1,l=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=a,this.near=o,this.far=l,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,a,o,l){this.view===null&amp;&amp;(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&amp;&amp;(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=i-t,l=i+t,h=a+e,d=a-e;if(this.view!==null&amp;&amp;this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=p*this.view.offsetX,l=o+p*this.view.width,h-=x*this.view.offsetY,d=h-x*this.view.height}this.projectionMatrix.makeOrthographic(o,l,h,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&amp;&amp;(e.object.view=Object.assign({},this.view)),e}}class GL extends UM{constructor(){super(new up(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vR extends _u{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xn.DEFAULT_UP),this.updateMatrix(),this.target=new Xn,this.shadow=new GL}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class yR extends _u{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class _R extends _u{constructor(t,e,i=10,a=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class bR{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t&lt;9;t++)this.coefficients.push(new K)}set(t){for(let e=0;e&lt;9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t&lt;9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,a=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.282095),e.addScaledVector(l[1],.488603*a),e.addScaledVector(l[2],.488603*o),e.addScaledVector(l[3],.488603*i),e.addScaledVector(l[4],1.092548*(i*a)),e.addScaledVector(l[5],1.092548*(a*o)),e.addScaledVector(l[6],.315392*(3*o*o-1)),e.addScaledVector(l[7],1.092548*(i*o)),e.addScaledVector(l[8],.546274*(i*i-a*a)),e}getIrradianceAt(t,e){const i=t.x,a=t.y,o=t.z,l=this.coefficients;return e.copy(l[0]).multiplyScalar(.886227),e.addScaledVector(l[1],2*.511664*a),e.addScaledVector(l[2],2*.511664*o),e.addScaledVector(l[3],2*.511664*i),e.addScaledVector(l[4],2*.429043*i*a),e.addScaledVector(l[5],2*.429043*a*o),e.addScaledVector(l[6],.743125*o*o-.247708),e.addScaledVector(l[7],2*.429043*i*o),e.addScaledVector(l[8],.429043*(i*i-a*a)),e}add(t){for(let e=0;e&lt;9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i&lt;9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e&lt;9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i&lt;9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e&lt;9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let a=0;a&lt;9;a++)i[a].fromArray(t,e+a*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let a=0;a&lt;9;a++)i[a].toArray(t,e+a*3);return t}static getBasisAt(t,e){const i=t.x,a=t.y,o=t.z;e[0]=.282095,e[1]=.488603*a,e[2]=.488603*o,e[3]=.488603*i,e[4]=1.092548*i*a,e[5]=1.092548*a*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*i*o,e[8]=.546274*(i*i-a*a)}}class SR extends _u{constructor(t=new bR,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class B_ extends Bs{constructor(t){super(t),this.textures={}}load(t,e,i,a){const o=this,l=new pr(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(d){a?a(d):on(d),o.manager.itemError(t)}},i,a)}parse(t){const e=this.textures;function i(o){return e[o]===void 0&amp;&amp;_e("MaterialLoader: Undefined texture",o),e[o]}const a=this.createMaterialFromType(t.type);if(t.uuid!==void 0&amp;&amp;(a.uuid=t.uuid),t.name!==void 0&amp;&amp;(a.name=t.name),t.color!==void 0&amp;&amp;a.color!==void 0&amp;&amp;a.color.setHex(t.color),t.roughness!==void 0&amp;&amp;(a.roughness=t.roughness),t.metalness!==void 0&amp;&amp;(a.metalness=t.metalness),t.sheen!==void 0&amp;&amp;(a.sheen=t.sheen),t.sheenColor!==void 0&amp;&amp;(a.sheenColor=new Se().setHex(t.sheenColor)),t.sheenRoughness!==void 0&amp;&amp;(a.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&amp;&amp;a.emissive!==void 0&amp;&amp;a.emissive.setHex(t.emissive),t.specular!==void 0&amp;&amp;a.specular!==void 0&amp;&amp;a.specular.setHex(t.specular),t.specularIntensity!==void 0&amp;&amp;(a.specularIntensity=t.specularIntensity),t.specularColor!==void 0&amp;&amp;a.specularColor!==void 0&amp;&amp;a.specularColor.setHex(t.specularColor),t.shininess!==void 0&amp;&amp;(a.shininess=t.shininess),t.clearcoat!==void 0&amp;&amp;(a.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&amp;&amp;(a.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&amp;&amp;(a.dispersion=t.dispersion),t.iridescence!==void 0&amp;&amp;(a.iridescence=t.iridescence),t.iridescenceIOR!==void 0&amp;&amp;(a.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&amp;&amp;(a.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&amp;&amp;(a.transmission=t.transmission),t.thickness!==void 0&amp;&amp;(a.thickness=t.thickness),t.attenuationDistance!==void 0&amp;&amp;(a.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&amp;&amp;a.attenuationColor!==void 0&amp;&amp;a.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&amp;&amp;(a.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&amp;&amp;(a.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&amp;&amp;(a.fog=t.fog),t.flatShading!==void 0&amp;&amp;(a.flatShading=t.flatShading),t.blending!==void 0&amp;&amp;(a.blending=t.blending),t.combine!==void 0&amp;&amp;(a.combine=t.combine),t.side!==void 0&amp;&amp;(a.side=t.side),t.shadowSide!==void 0&amp;&amp;(a.shadowSide=t.shadowSide),t.opacity!==void 0&amp;&amp;(a.opacity=t.opacity),t.transparent!==void 0&amp;&amp;(a.transparent=t.transparent),t.alphaTest!==void 0&amp;&amp;(a.alphaTest=t.alphaTest),t.alphaHash!==void 0&amp;&amp;(a.alphaHash=t.alphaHash),t.depthFunc!==void 0&amp;&amp;(a.depthFunc=t.depthFunc),t.depthTest!==void 0&amp;&amp;(a.depthTest=t.depthTest),t.depthWrite!==void 0&amp;&amp;(a.depthWrite=t.depthWrite),t.colorWrite!==void 0&amp;&amp;(a.colorWrite=t.colorWrite),t.blendSrc!==void 0&amp;&amp;(a.blendSrc=t.blendSrc),t.blendDst!==void 0&amp;&amp;(a.blendDst=t.blendDst),t.blendEquation!==void 0&amp;&amp;(a.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&amp;&amp;(a.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&amp;&amp;(a.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&amp;&amp;(a.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&amp;&amp;a.blendColor!==void 0&amp;&amp;a.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&amp;&amp;(a.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&amp;&amp;(a.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&amp;&amp;(a.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&amp;&amp;(a.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&amp;&amp;(a.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&amp;&amp;(a.stencilFail=t.stencilFail),t.stencilZFail!==void 0&amp;&amp;(a.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&amp;&amp;(a.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&amp;&amp;(a.stencilWrite=t.stencilWrite),t.wireframe!==void 0&amp;&amp;(a.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&amp;&amp;(a.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&amp;&amp;(a.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&amp;&amp;(a.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&amp;&amp;(a.rotation=t.rotation),t.linewidth!==void 0&amp;&amp;(a.linewidth=t.linewidth),t.dashSize!==void 0&amp;&amp;(a.dashSize=t.dashSize),t.gapSize!==void 0&amp;&amp;(a.gapSize=t.gapSize),t.scale!==void 0&amp;&amp;(a.scale=t.scale),t.polygonOffset!==void 0&amp;&amp;(a.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&amp;&amp;(a.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&amp;&amp;(a.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&amp;&amp;(a.dithering=t.dithering),t.alphaToCoverage!==void 0&amp;&amp;(a.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&amp;&amp;(a.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&amp;&amp;(a.forceSinglePass=t.forceSinglePass),t.visible!==void 0&amp;&amp;(a.visible=t.visible),t.toneMapped!==void 0&amp;&amp;(a.toneMapped=t.toneMapped),t.userData!==void 0&amp;&amp;(a.userData=t.userData),t.vertexColors!==void 0&amp;&amp;(typeof t.vertexColors=="number"?a.vertexColors=t.vertexColors&gt;0:a.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const o in t.uniforms){const l=t.uniforms[o];switch(a.uniforms[o]={},l.type){case"t":a.uniforms[o].value=i(l.value);break;case"c":a.uniforms[o].value=new Se().setHex(l.value);break;case"v2":a.uniforms[o].value=new Zt().fromArray(l.value);break;case"v3":a.uniforms[o].value=new K().fromArray(l.value);break;case"v4":a.uniforms[o].value=new Cn().fromArray(l.value);break;case"m3":a.uniforms[o].value=new mn().fromArray(l.value);break;case"m4":a.uniforms[o].value=new Qe().fromArray(l.value);break;default:a.uniforms[o].value=l.value}}if(t.defines!==void 0&amp;&amp;(a.defines=t.defines),t.vertexShader!==void 0&amp;&amp;(a.vertexShader=t.vertexShader),t.fragmentShader!==void 0&amp;&amp;(a.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&amp;&amp;(a.glslVersion=t.glslVersion),t.extensions!==void 0)for(const o in t.extensions)a.extensions[o]=t.extensions[o];if(t.lights!==void 0&amp;&amp;(a.lights=t.lights),t.clipping!==void 0&amp;&amp;(a.clipping=t.clipping),t.size!==void 0&amp;&amp;(a.size=t.size),t.sizeAttenuation!==void 0&amp;&amp;(a.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&amp;&amp;(a.map=i(t.map)),t.matcap!==void 0&amp;&amp;(a.matcap=i(t.matcap)),t.alphaMap!==void 0&amp;&amp;(a.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&amp;&amp;(a.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&amp;&amp;(a.bumpScale=t.bumpScale),t.normalMap!==void 0&amp;&amp;(a.normalMap=i(t.normalMap)),t.normalMapType!==void 0&amp;&amp;(a.normalMapType=t.normalMapType),t.normalScale!==void 0){let o=t.normalScale;Array.isArray(o)===!1&amp;&amp;(o=[o,o]),a.normalScale=new Zt().fromArray(o)}return t.displacementMap!==void 0&amp;&amp;(a.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&amp;&amp;(a.displacementScale=t.displacementScale),t.displacementBias!==void 0&amp;&amp;(a.displacementBias=t.displacementBias),t.roughnessMap!==void 0&amp;&amp;(a.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&amp;&amp;(a.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&amp;&amp;(a.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&amp;&amp;(a.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&amp;&amp;(a.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&amp;&amp;(a.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&amp;&amp;(a.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&amp;&amp;(a.envMap=i(t.envMap)),t.envMapRotation!==void 0&amp;&amp;a.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&amp;&amp;(a.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&amp;&amp;(a.reflectivity=t.reflectivity),t.refractionRatio!==void 0&amp;&amp;(a.refractionRatio=t.refractionRatio),t.lightMap!==void 0&amp;&amp;(a.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&amp;&amp;(a.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&amp;&amp;(a.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&amp;&amp;(a.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&amp;&amp;(a.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&amp;&amp;(a.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&amp;&amp;(a.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&amp;&amp;(a.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&amp;&amp;(a.clearcoatNormalScale=new Zt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&amp;&amp;(a.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&amp;&amp;(a.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&amp;&amp;(a.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&amp;&amp;(a.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&amp;&amp;(a.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&amp;&amp;(a.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&amp;&amp;(a.sheenRoughnessMap=i(t.sheenRoughnessMap)),a}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return B_.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:nR,SpriteMaterial:hM,RawShaderMaterial:iR,ShaderMaterial:ls,PointsMaterial:pM,MeshPhysicalMaterial:EM,MeshStandardMaterial:MM,MeshPhongMaterial:aR,MeshToonMaterial:sR,MeshNormalMaterial:rR,MeshLambertMaterial:TM,MeshDepthMaterial:AM,MeshDistanceMaterial:wM,MeshBasicMaterial:fc,MeshMatcapMaterial:oR,LineDashedMaterial:lR,LineBasicMaterial:zs,Material:cs};return new e[t]}}class vS{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&amp;&amp;/^\//.test(t)&amp;&amp;(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class MR extends gn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class ER extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=new pr(o.manager);l.setPath(o.path),l.setRequestHeader(o.requestHeader),l.setWithCredentials(o.withCredentials),l.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(d){a?a(d):on(d),o.manager.itemError(t)}},i,a)}parse(t){const e={},i={};function a(S,T){if(e[T]!==void 0)return e[T];const w=S.interleavedBuffers[T],M=o(S,w.buffer),R=Od(w.type,M),D=new v_(R,w.stride);return D.uuid=w.uuid,e[T]=D,D}function o(S,T){if(i[T]!==void 0)return i[T];const w=S.arrayBuffers[T],M=new Uint32Array(w).buffer;return i[T]=M,M}const l=t.isInstancedBufferGeometry?new MR:new gn,h=t.data.index;if(h!==void 0){const S=Od(h.type,h.array);l.setIndex(new ci(S,1))}const d=t.data.attributes;for(const S in d){const T=d[S];let C;if(T.isInterleavedBufferAttribute){const w=a(t.data,T.data);C=new Wf(w,T.itemSize,T.offset,T.normalized)}else{const w=Od(T.type,T.array),M=T.isInstancedBufferAttribute?ep:ci;C=new M(w,T.itemSize,T.normalized)}T.name!==void 0&amp;&amp;(C.name=T.name),T.usage!==void 0&amp;&amp;C.setUsage(T.usage),l.setAttribute(S,C)}const p=t.data.morphAttributes;if(p)for(const S in p){const T=p[S],C=[];for(let w=0,M=T.length;w&lt;M;w++){const R=T[w];let D;if(R.isInterleavedBufferAttribute){const O=a(t.data,R.data);D=new Wf(O,R.itemSize,R.offset,R.normalized)}else{const O=Od(R.type,R.array);D=new ci(O,R.itemSize,R.normalized)}R.name!==void 0&amp;&amp;(D.name=R.name),C.push(D)}l.morphAttributes[S]=C}t.data.morphTargetsRelative&amp;&amp;(l.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let S=0,T=v.length;S!==T;++S){const C=v[S];l.addGroup(C.start,C.count,C.materialIndex)}const y=t.data.boundingSphere;return y!==void 0&amp;&amp;(l.boundingSphere=new Ga().fromJSON(y)),t.name&amp;&amp;(l.name=t.name),t.userData&amp;&amp;(l.userData=t.userData),l}}class jL extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=this.path===""?vS.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||l;const h=new pr(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(d){let p=null;try{p=JSON.parse(d)}catch(v){a!==void 0&amp;&amp;a(v),v("ObjectLoader: Can't parse "+t+".",v.message);return}const x=p.metadata;if(x===void 0||x.type===void 0||x.type.toLowerCase()==="geometry"){a!==void 0&amp;&amp;a(new Error("THREE.ObjectLoader: Can't load "+t)),on("ObjectLoader: Can't load "+t);return}o.parse(p,e)},i,a)}async loadAsync(t,e){const i=this,a=this.path===""?vS.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const o=new pr(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const l=await o.loadAsync(t,e),h=JSON.parse(l),d=h.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(h)}parse(t,e){const i=this.parseAnimations(t.animations),a=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,a),l=this.parseImages(t.images,function(){e!==void 0&amp;&amp;e(p)}),h=this.parseTextures(t.textures,l),d=this.parseMaterials(t.materials,h),p=this.parseObject(t.object,o,d,h,i),x=this.parseSkeletons(t.skeletons,p);if(this.bindSkeletons(p,x),this.bindLightTargets(p),e!==void 0){let v=!1;for(const y in l)if(l[y].data instanceof HTMLImageElement){v=!0;break}v===!1&amp;&amp;e(p)}return p}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,i),o=await this.parseImagesAsync(t.images),l=this.parseTextures(t.textures,o),h=this.parseMaterials(t.materials,l),d=this.parseObject(t.object,a,h,l,e),p=this.parseSkeletons(t.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(t){const e={};if(t!==void 0)for(let i=0,a=t.length;i&lt;a;i++){const o=new kf().fromJSON(t[i]);e[o.uuid]=o}return e}parseSkeletons(t,e){const i={},a={};if(e.traverse(function(o){o.isBone&amp;&amp;(a[o.uuid]=o)}),t!==void 0)for(let o=0,l=t.length;o&lt;l;o++){const h=new y_().fromJSON(t[o],a);i[h.uuid]=h}return i}parseGeometries(t,e){const i={};if(t!==void 0){const a=new ER;for(let o=0,l=t.length;o&lt;l;o++){let h;const d=t[o];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":h=a.parse(d);break;default:d.type in RE?h=RE[d.type].fromJSON(d,e):_e(`ObjectLoader: Unsupported geometry type "${d.type}"`)}h.uuid=d.uuid,d.name!==void 0&amp;&amp;(h.name=d.name),d.userData!==void 0&amp;&amp;(h.userData=d.userData),i[d.uuid]=h}}return i}parseMaterials(t,e){const i={},a={};if(t!==void 0){const o=new B_;o.setTextures(e);for(let l=0,h=t.length;l&lt;h;l++){const d=t[l];i[d.uuid]===void 0&amp;&amp;(i[d.uuid]=o.parse(d)),a[d.uuid]=i[d.uuid]}}return a}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i&lt;t.length;i++){const a=t[i],o=W0.parse(a);e[o.uuid]=o}return e}parseImages(t,e){const i=this,a={};let o;function l(d){return i.manager.itemStart(d),o.load(d,function(){i.manager.itemEnd(d)},void 0,function(){i.manager.itemError(d),i.manager.itemEnd(d)})}function h(d){if(typeof d=="string"){const p=d,x=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:i.resourcePath+p;return l(x)}else return d.data?{data:Od(d.type,d.data),width:d.width,height:d.height}:null}if(t!==void 0&amp;&amp;t.length&gt;0){const d=new L_(e);o=new Z0(d),o.setCrossOrigin(this.crossOrigin);for(let p=0,x=t.length;p&lt;x;p++){const v=t[p],y=v.url;if(Array.isArray(y)){const S=[];for(let T=0,C=y.length;T&lt;C;T++){const w=y[T],M=h(w);M!==null&amp;&amp;(M instanceof HTMLImageElement?S.push(M):S.push(new Fr(M.data,M.width,M.height)))}a[v.uuid]=new lu(S)}else{const S=h(v.url);a[v.uuid]=new lu(S)}}}return a}async parseImagesAsync(t){const e=this,i={};let a;async function o(l){if(typeof l=="string"){const h=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:e.resourcePath+h;return await a.loadAsync(d)}else return l.data?{data:Od(l.type,l.data),width:l.width,height:l.height}:null}if(t!==void 0&amp;&amp;t.length&gt;0){a=new Z0(this.manager),a.setCrossOrigin(this.crossOrigin);for(let l=0,h=t.length;l&lt;h;l++){const d=t[l],p=d.url;if(Array.isArray(p)){const x=[];for(let v=0,y=p.length;v&lt;y;v++){const S=p[v],T=await o(S);T!==null&amp;&amp;(T instanceof HTMLImageElement?x.push(T):x.push(new Fr(T.data,T.width,T.height)))}i[d.uuid]=new lu(x)}else{const x=await o(d.url);i[d.uuid]=new lu(x)}}}return i}parseTextures(t,e){function i(o,l){return typeof o=="number"?o:(_e("ObjectLoader.parseTexture: Constant should be in numeric form.",o),l[o])}const a={};if(t!==void 0)for(let o=0,l=t.length;o&lt;l;o++){const h=t[o];h.image===void 0&amp;&amp;_e('ObjectLoader: No "image" specified for',h.uuid),e[h.image]===void 0&amp;&amp;_e("ObjectLoader: Undefined image",h.image);const d=e[h.image],p=d.data;let x;Array.isArray(p)?(x=new cg,p.length===6&amp;&amp;(x.needsUpdate=!0)):(p&amp;&amp;p.data?x=new Fr:x=new ni,p&amp;&amp;(x.needsUpdate=!0)),x.source=d,x.uuid=h.uuid,h.name!==void 0&amp;&amp;(x.name=h.name),h.mapping!==void 0&amp;&amp;(x.mapping=i(h.mapping,kL)),h.channel!==void 0&amp;&amp;(x.channel=h.channel),h.offset!==void 0&amp;&amp;x.offset.fromArray(h.offset),h.repeat!==void 0&amp;&amp;x.repeat.fromArray(h.repeat),h.center!==void 0&amp;&amp;x.center.fromArray(h.center),h.rotation!==void 0&amp;&amp;(x.rotation=h.rotation),h.wrap!==void 0&amp;&amp;(x.wrapS=i(h.wrap[0],OE),x.wrapT=i(h.wrap[1],OE)),h.format!==void 0&amp;&amp;(x.format=h.format),h.internalFormat!==void 0&amp;&amp;(x.internalFormat=h.internalFormat),h.type!==void 0&amp;&amp;(x.type=h.type),h.colorSpace!==void 0&amp;&amp;(x.colorSpace=h.colorSpace),h.minFilter!==void 0&amp;&amp;(x.minFilter=i(h.minFilter,LE)),h.magFilter!==void 0&amp;&amp;(x.magFilter=i(h.magFilter,LE)),h.anisotropy!==void 0&amp;&amp;(x.anisotropy=h.anisotropy),h.flipY!==void 0&amp;&amp;(x.flipY=h.flipY),h.generateMipmaps!==void 0&amp;&amp;(x.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&amp;&amp;(x.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&amp;&amp;(x.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&amp;&amp;(x.compareFunction=h.compareFunction),h.userData!==void 0&amp;&amp;(x.userData=h.userData),a[h.uuid]=x}return a}parseObject(t,e,i,a,o){let l;function h(y){return e[y]===void 0&amp;&amp;_e("ObjectLoader: Undefined geometry",y),e[y]}function d(y){if(y!==void 0){if(Array.isArray(y)){const S=[];for(let T=0,C=y.length;T&lt;C;T++){const w=y[T];i[w]===void 0&amp;&amp;_e("ObjectLoader: Undefined material",w),S.push(i[w])}return S}return i[y]===void 0&amp;&amp;_e("ObjectLoader: Undefined material",y),i[y]}}function p(y){return a[y]===void 0&amp;&amp;_e("ObjectLoader: Undefined texture",y),a[y]}let x,v;switch(t.type){case"Scene":l=new ug,t.background!==void 0&amp;&amp;(Number.isInteger(t.background)?l.background=new Se(t.background):l.background=p(t.background)),t.environment!==void 0&amp;&amp;(l.environment=p(t.environment)),t.fog!==void 0&amp;&amp;(t.fog.type==="Fog"?l.fog=new x_(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&amp;&amp;(l.fog=new g_(t.fog.color,t.fog.density)),t.fog.name!==""&amp;&amp;(l.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&amp;&amp;(l.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&amp;&amp;(l.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&amp;&amp;l.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&amp;&amp;(l.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&amp;&amp;l.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":l=new Da(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&amp;&amp;(l.focus=t.focus),t.zoom!==void 0&amp;&amp;(l.zoom=t.zoom),t.filmGauge!==void 0&amp;&amp;(l.filmGauge=t.filmGauge),t.filmOffset!==void 0&amp;&amp;(l.filmOffset=t.filmOffset),t.view!==void 0&amp;&amp;(l.view=Object.assign({},t.view));break;case"OrthographicCamera":l=new up(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&amp;&amp;(l.zoom=t.zoom),t.view!==void 0&amp;&amp;(l.view=Object.assign({},t.view));break;case"AmbientLight":l=new yR(t.color,t.intensity);break;case"DirectionalLight":l=new vR(t.color,t.intensity),l.target=t.target||"";break;case"PointLight":l=new xR(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":l=new _R(t.color,t.intensity,t.width,t.height);break;case"SpotLight":l=new gR(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),l.target=t.target||"";break;case"HemisphereLight":l=new mR(t.color,t.groundColor,t.intensity);break;case"LightProbe":l=new SR().fromJSON(t);break;case"SkinnedMesh":x=h(t.geometry),v=d(t.material),l=new VC(x,v),t.bindMode!==void 0&amp;&amp;(l.bindMode=t.bindMode),t.bindMatrix!==void 0&amp;&amp;l.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&amp;&amp;(l.skeleton=t.skeleton);break;case"Mesh":x=h(t.geometry),v=d(t.material),l=new ki(x,v);break;case"InstancedMesh":x=h(t.geometry),v=d(t.material);const y=t.count,S=t.instanceMatrix,T=t.instanceColor;l=new FC(x,v,y),l.instanceMatrix=new ep(new Float32Array(S.array),16),T!==void 0&amp;&amp;(l.instanceColor=new ep(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":x=h(t.geometry),v=d(t.material),l=new HC(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),l.geometry=x,l.perObjectFrustumCulled=t.perObjectFrustumCulled,l.sortObjects=t.sortObjects,l._drawRanges=t.drawRanges,l._reservedRanges=t.reservedRanges,l._geometryInfo=t.geometryInfo.map(C=&gt;{let w=null,M=null;return C.boundingBox!==void 0&amp;&amp;(w=new os().fromJSON(C.boundingBox)),C.boundingSphere!==void 0&amp;&amp;(M=new Ga().fromJSON(C.boundingSphere)),{...C,boundingBox:w,boundingSphere:M}}),l._instanceInfo=t.instanceInfo,l._availableInstanceIds=t._availableInstanceIds,l._availableGeometryIds=t._availableGeometryIds,l._nextIndexStart=t.nextIndexStart,l._nextVertexStart=t.nextVertexStart,l._geometryCount=t.geometryCount,l._maxInstanceCount=t.maxInstanceCount,l._maxVertexCount=t.maxVertexCount,l._maxIndexCount=t.maxIndexCount,l._geometryInitialized=t.geometryInitialized,l._matricesTexture=p(t.matricesTexture.uuid),l._indirectTexture=p(t.indirectTexture.uuid),t.colorsTexture!==void 0&amp;&amp;(l._colorsTexture=p(t.colorsTexture.uuid)),t.boundingSphere!==void 0&amp;&amp;(l.boundingSphere=new Ga().fromJSON(t.boundingSphere)),t.boundingBox!==void 0&amp;&amp;(l.boundingBox=new os().fromJSON(t.boundingBox));break;case"LOD":l=new PC;break;case"Line":l=new pu(h(t.geometry),d(t.material));break;case"LineLoop":l=new GC(h(t.geometry),d(t.material));break;case"LineSegments":l=new vl(h(t.geometry),d(t.material));break;case"PointCloud":case"Points":l=new jC(h(t.geometry),d(t.material));break;case"Sprite":l=new IC(d(t.material));break;case"Group":l=new Ld;break;case"Bone":l=new dM;break;default:l=new Xn}if(l.uuid=t.uuid,t.name!==void 0&amp;&amp;(l.name=t.name),t.matrix!==void 0?(l.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&amp;&amp;(l.matrixAutoUpdate=t.matrixAutoUpdate),l.matrixAutoUpdate&amp;&amp;l.matrix.decompose(l.position,l.quaternion,l.scale)):(t.position!==void 0&amp;&amp;l.position.fromArray(t.position),t.rotation!==void 0&amp;&amp;l.rotation.fromArray(t.rotation),t.quaternion!==void 0&amp;&amp;l.quaternion.fromArray(t.quaternion),t.scale!==void 0&amp;&amp;l.scale.fromArray(t.scale)),t.up!==void 0&amp;&amp;l.up.fromArray(t.up),t.castShadow!==void 0&amp;&amp;(l.castShadow=t.castShadow),t.receiveShadow!==void 0&amp;&amp;(l.receiveShadow=t.receiveShadow),t.shadow&amp;&amp;(t.shadow.intensity!==void 0&amp;&amp;(l.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&amp;&amp;(l.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&amp;&amp;(l.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&amp;&amp;(l.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&amp;&amp;l.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&amp;&amp;(l.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&amp;&amp;(l.visible=t.visible),t.frustumCulled!==void 0&amp;&amp;(l.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&amp;&amp;(l.renderOrder=t.renderOrder),t.userData!==void 0&amp;&amp;(l.userData=t.userData),t.layers!==void 0&amp;&amp;(l.layers.mask=t.layers),t.children!==void 0){const y=t.children;for(let S=0;S&lt;y.length;S++)l.add(this.parseObject(y[S],e,i,a,o))}if(t.animations!==void 0){const y=t.animations;for(let S=0;S&lt;y.length;S++){const T=y[S];l.animations.push(o[T])}}if(t.type==="LOD"){t.autoUpdate!==void 0&amp;&amp;(l.autoUpdate=t.autoUpdate);const y=t.levels;for(let S=0;S&lt;y.length;S++){const T=y[S],C=l.getObjectByProperty("uuid",T.object);C!==void 0&amp;&amp;l.addLevel(C,T.distance,T.hysteresis)}}return l}bindSkeletons(t,e){Object.keys(e).length!==0&amp;&amp;t.traverse(function(i){if(i.isSkinnedMesh===!0&amp;&amp;i.skeleton!==void 0){const a=e[i.skeleton];a===void 0?_e("ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,a=t.getObjectByProperty("uuid",i);a!==void 0?e.target=a:e.target=new Xn}})}}const kL={UVMapping:fu,CubeReflectionMapping:pl,CubeRefractionMapping:hu,EquirectangularReflectionMapping:Xd,EquirectangularRefractionMapping:L0,CubeUVReflectionMapping:op},OE={RepeatWrapping:z0,ClampToEdgeWrapping:Gi,MirroredRepeatWrapping:B0},LE={NearestFilter:Ha,NearestMipmapNearestFilter:tM,NearestMipmapLinearFilter:Ud,LinearFilter:Jn,LinearMipmapNearestFilter:v0,LinearMipmapLinearFilter:cl},pb=new WeakMap;class XL extends Bs{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap&gt;"u"&amp;&amp;_e("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch&gt;"u"&amp;&amp;_e("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(t){return this.options=t,this}load(t,e,i,a){t===void 0&amp;&amp;(t=""),this.path!==void 0&amp;&amp;(t=this.path+t),t=this.manager.resolveURL(t);const o=this,l=ul.get(`image-bitmap:${t}`);if(l!==void 0){if(o.manager.itemStart(t),l.then){l.then(p=&gt;{if(pb.has(l)===!0)a&amp;&amp;a(pb.get(l)),o.manager.itemError(t),o.manager.itemEnd(t);else return e&amp;&amp;e(p),o.manager.itemEnd(t),p});return}return setTimeout(function(){e&amp;&amp;e(l),o.manager.itemEnd(t)},0),l}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader,h.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(t,h).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(p){return ul.add(`image-bitmap:${t}`,p),e&amp;&amp;e(p),o.manager.itemEnd(t),p}).catch(function(p){a&amp;&amp;a(p),pb.set(d,p),ul.remove(`image-bitmap:${t}`),o.manager.itemError(t),o.manager.itemEnd(t)});ul.add(`image-bitmap:${t}`,d),o.manager.itemStart(t)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Ev;class OM{static getContext(){return Ev===void 0&amp;&amp;(Ev=new(window.AudioContext||window.webkitAudioContext)),Ev}static setContext(t){Ev=t}}class qL extends Bs{constructor(t){super(t)}load(t,e,i,a){const o=this,l=new pr(this.manager);l.setResponseType("arraybuffer"),l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(t,function(d){try{const p=d.slice(0);OM.getContext().decodeAudioData(p,function(v){e(v)}).catch(h)}catch(p){h(p)}},i,a);function h(d){a?a(d):on(d),o.manager.itemError(t)}}}const zE=new Qe,BE=new Qe,_f=new Qe;class YL{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Da,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Da,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,_f.copy(t.projectionMatrix);const a=e.eyeSep/2,o=a*e.near/e.focus,l=e.near*Math.tan(jf*e.fov*.5)/e.zoom;let h,d;BE.elements[12]=-a,zE.elements[12]=a,h=-l*e.aspect+o,d=l*e.aspect+o,_f.elements[0]=2*e.near/(d-h),_f.elements[8]=(d+h)/(d-h),this.cameraL.projectionMatrix.copy(_f),h=-l*e.aspect-o,d=l*e.aspect-o,_f.elements[0]=2*e.near/(d-h),_f.elements[8]=(d+h)/(d-h),this.cameraR.projectionMatrix.copy(_f)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(BE),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(zE)}}class TR extends Da{constructor(t=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=t}}class LM{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&amp;&amp;!this.running)return this.start(),0;if(this.running){const e=performance.now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}const bf=new K,mb=new ji,WL=new K,Sf=new K,Mf=new K;class ZL extends Xn{constructor(){super(),this.type="AudioListener",this.context=OM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new LM}getInput(){return this.gain}removeFilter(){return this.filter!==null&amp;&amp;(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(bf,mb,WL),Sf.set(0,0,-1).applyQuaternion(mb),Mf.set(0,1,0).applyQuaternion(mb),e.positionX){const i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(bf.x,i),e.positionY.linearRampToValueAtTime(bf.y,i),e.positionZ.linearRampToValueAtTime(bf.z,i),e.forwardX.linearRampToValueAtTime(Sf.x,i),e.forwardY.linearRampToValueAtTime(Sf.y,i),e.forwardZ.linearRampToValueAtTime(Sf.z,i),e.upX.linearRampToValueAtTime(Mf.x,i),e.upY.linearRampToValueAtTime(Mf.y,i),e.upZ.linearRampToValueAtTime(Mf.z,i)}else e.setPosition(bf.x,bf.y,bf.z),e.setOrientation(Sf.x,Sf.y,Sf.z,Mf.x,Mf.y,Mf.z)}}class AR extends Xn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&amp;&amp;this.play(),this}play(t=0){if(this.isPlaying===!0){_e("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){_e("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){_e("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&amp;&amp;(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&amp;&amp;(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){_e("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&amp;&amp;(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length&gt;0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t&lt;e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length&gt;0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t&lt;e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&amp;&amp;this.source.detune!==void 0&amp;&amp;this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){_e("Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&amp;&amp;this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(_e("Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){_e("Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&amp;&amp;(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(_e("Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const Ef=new K,IE=new ji,KL=new K,Tf=new K;class QL extends AR{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&amp;&amp;this.isPlaying===!1)return;this.matrixWorld.decompose(Ef,IE,KL),Tf.set(0,0,1).applyQuaternion(IE);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(Ef.x,i),e.positionY.linearRampToValueAtTime(Ef.y,i),e.positionZ.linearRampToValueAtTime(Ef.z,i),e.orientationX.linearRampToValueAtTime(Tf.x,i),e.orientationY.linearRampToValueAtTime(Tf.y,i),e.orientationZ.linearRampToValueAtTime(Tf.z,i)}else e.setPosition(Ef.x,Ef.y,Ef.z),e.setOrientation(Tf.x,Tf.y,Tf.z)}}class JL{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i&lt;e.length;i++)t+=e[i];return t/e.length}}class wR{constructor(t,e,i){this.binding=t,this.valueSize=i;let a,o,l;switch(e){case"quaternion":a=this._slerp,o=this._slerpAdditive,l=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,l=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,o=this._lerpAdditive,l=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=l,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,a=this.valueSize,o=t*a+a;let l=this.cumulativeWeight;if(l===0){for(let h=0;h!==a;++h)i[o+h]=i[h];l=e}else{l+=e;const h=e/l;this._mixBufferRegion(i,o,0,h,a)}this.cumulativeWeight=l}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&amp;&amp;this._setIdentity(),this._mixBufferRegionAdditive(e,a,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,a=t*e+e,o=this.cumulativeWeight,l=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o&lt;1){const d=e*this._origIndex;this._mixBufferRegion(i,a,d,1-o,e)}l&gt;0&amp;&amp;this._mixBufferRegionAdditive(i,a,this._addIndex*e,1,e);for(let d=e,p=e+e;d!==p;++d)if(i[d]!==i[d+e]){h.setValue(i,a);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,a=i*this._origIndex;t.getValue(e,a);for(let o=i,l=a;o!==l;++o)e[o]=e[a+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i&lt;e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i&lt;this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,a,o){if(a&gt;=.5)for(let l=0;l!==o;++l)t[e+l]=t[i+l]}_slerp(t,e,i,a){ji.slerpFlat(t,e,t,e,t,i,a)}_slerpAdditive(t,e,i,a,o){const l=this._workIndex*o;ji.multiplyQuaternionsFlat(t,l,t,e,t,i),ji.slerpFlat(t,e,t,e,t,l,a)}_lerp(t,e,i,a,o){const l=1-a;for(let h=0;h!==o;++h){const d=e+h;t[d]=t[d]*l+t[i+h]*a}}_lerpAdditive(t,e,i,a,o){for(let l=0;l!==o;++l){const h=e+l;t[h]=t[h]+t[i+l]*a}}}const zM="\\[\\]\\.:\\/",$L=new RegExp("["+zM+"]","g"),BM="[^"+zM+"]",t5="[^"+zM.replace("\\.","")+"]",e5=/((?:WC+[\/:])*)/.source.replace("WC",BM),n5=/(WCOD+)?/.source.replace("WCOD",t5),i5=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",BM),a5=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",BM),s5=new RegExp("^"+e5+n5+i5+a5+"$"),r5=["material","materials","bones","map"];class o5{constructor(t,e,i){const a=i||kn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,a)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&amp;&amp;a.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=i.length;a!==o;++a)i[a].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class kn{constructor(t,e,i){this.path=e,this.parsedPath=i||kn.parseTrackName(e),this.node=kn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&amp;&amp;t.isAnimationObjectGroup?new kn.Composite(t,e,i):new kn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace($L,"")}static parseTrackName(t){const e=s5.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},a=i.nodeName&amp;&amp;i.nodeName.lastIndexOf(".");if(a!==void 0&amp;&amp;a!==-1){const o=i.nodeName.substring(a+1);r5.indexOf(o)!==-1&amp;&amp;(i.nodeName=i.nodeName.substring(0,a),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(o){for(let l=0;l&lt;o.length;l++){const h=o[l];if(h.name===e||h.uuid===e)return h;const d=i(h.children);if(d)return d}return null},a=i(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)t[e++]=i[a]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,a=e.propertyName;let o=e.propertyIndex;if(t||(t=kn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){_e("PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let p=e.objectIndex;switch(i){case"materials":if(!t.material){on("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){on("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){on("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let x=0;x&lt;t.length;x++)if(t[x].name===p){p=x;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){on("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){on("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){on("PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(p!==void 0){if(t[p]===void 0){on("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[p]}}const l=t[a];if(l===void 0){const p=e.nodeName;on("PropertyBinding: Trying to update property for track: "+p+"."+a+" but it wasn't found.",t);return}let h=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?h=this.Versioning.NeedsUpdate:t.isObject3D===!0&amp;&amp;(h=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!t.geometry){on("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){on("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[o]!==void 0&amp;&amp;(o=t.morphTargetDictionary[o])}d=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=o}else l.fromArray!==void 0&amp;&amp;l.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(d=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=a;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}kn.Composite=o5;kn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};kn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};kn.prototype.GetterByBindingType=[kn.prototype._getValue_direct,kn.prototype._getValue_array,kn.prototype._getValue_arrayElement,kn.prototype._getValue_toArray];kn.prototype.SetterByBindingTypeAndVersioning=[[kn.prototype._setValue_direct,kn.prototype._setValue_direct_setNeedsUpdate,kn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_array,kn.prototype._setValue_array_setNeedsUpdate,kn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_arrayElement,kn.prototype._setValue_arrayElement_setNeedsUpdate,kn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[kn.prototype._setValue_fromArray,kn.prototype._setValue_fromArray_setNeedsUpdate,kn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class l5{constructor(){this.isAnimationObjectGroup=!0,this.uuid=dr(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,a=arguments.length;i!==a;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length;let h,d=t.length,p=this.nCachedObjects_;for(let x=0,v=arguments.length;x!==v;++x){const y=arguments[x],S=y.uuid;let T=e[S];if(T===void 0){T=d++,e[S]=T,t.push(y);for(let C=0,w=l;C!==w;++C)o[C].push(new kn(y,i[C],a[C]))}else if(T&lt;p){h=t[T];const C=--p,w=t[C];e[w.uuid]=T,t[T]=w,e[S]=C,t[C]=y;for(let M=0,R=l;M!==R;++M){const D=o[M],O=D[C];let I=D[T];D[T]=O,I===void 0&amp;&amp;(I=new kn(y,i[M],a[M])),D[C]=I}}else t[T]!==h&amp;&amp;on("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_;for(let l=0,h=arguments.length;l!==h;++l){const d=arguments[l],p=d.uuid,x=e[p];if(x!==void 0&amp;&amp;x&gt;=o){const v=o++,y=t[v];e[y.uuid]=x,t[x]=y,e[p]=v,t[v]=d;for(let S=0,T=a;S!==T;++S){const C=i[S],w=C[v],M=C[x];C[x]=w,C[v]=M}}}this.nCachedObjects_=o}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_,l=t.length;for(let h=0,d=arguments.length;h!==d;++h){const p=arguments[h],x=p.uuid,v=e[x];if(v!==void 0)if(delete e[x],v&lt;o){const y=--o,S=t[y],T=--l,C=t[T];e[S.uuid]=v,t[v]=S,e[C.uuid]=y,t[y]=C,t.pop();for(let w=0,M=a;w!==M;++w){const R=i[w],D=R[y],O=R[T];R[v]=D,R[y]=O,R.pop()}}else{const y=--l,S=t[y];y&gt;0&amp;&amp;(e[S.uuid]=v),t[v]=S,t.pop();for(let T=0,C=a;T!==C;++T){const w=i[T];w[v]=w[y],w.pop()}}}this.nCachedObjects_=o}subscribe_(t,e){const i=this._bindingsIndicesByPath;let a=i[t];const o=this._bindings;if(a!==void 0)return o[a];const l=this._paths,h=this._parsedPaths,d=this._objects,p=d.length,x=this.nCachedObjects_,v=new Array(p);a=o.length,i[t]=a,l.push(t),h.push(e),o.push(v);for(let y=x,S=d.length;y!==S;++y){const T=d[y];v[y]=new kn(T,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const a=this._paths,o=this._parsedPaths,l=this._bindings,h=l.length-1,d=l[h],p=t[h];e[p]=i,l[i]=d,l.pop(),o[i]=o[h],o.pop(),a[i]=a[h],a.pop()}}}class CR{constructor(t,e,i=null,a=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=a;const o=e.tracks,l=o.length,h=new Array(l),d={endingStart:Lf,endingEnd:Lf};for(let p=0;p!==l;++p){const x=o[p].createInterpolant(null);h[p]=x,x.settings=d}this._interpolantSettings=d,this._interpolants=h,this._propertyBindings=new Array(l),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xC,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&amp;&amp;!this.paused&amp;&amp;this.timeScale!==0&amp;&amp;this._startTime===null&amp;&amp;this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const a=this._clip.duration,o=t._clip.duration,l=o/a,h=a/o;t.warp(1,l,e),this.warp(h,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&amp;&amp;(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const a=this._mixer,o=a.time,l=this.timeScale;let h=this._timeScaleInterpolant;h===null&amp;&amp;(h=a._lendControlInterpolant(),this._timeScaleInterpolant=h);const d=h.parameterPositions,p=h.sampleValues;return d[0]=o,d[1]=o+i,p[0]=t/l,p[1]=e/l,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&amp;&amp;(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,a){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const d=(t-o)*i;d&lt;0||i===0?e=0:(this._startTime=null,e=i*d)}e*=this._updateTimeScale(t);const l=this._updateTime(e),h=this._updateWeight(t);if(h&gt;0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case sM:for(let x=0,v=d.length;x!==v;++x)d[x].evaluate(l),p[x].accumulateAdditive(h);break;case h_:default:for(let x=0,v=d.length;x!==v;++x)d[x].evaluate(l),p[x].accumulate(a,h)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(t)[0];e*=a,t&gt;i.parameterPositions[1]&amp;&amp;(this.stopFading(),a===0&amp;&amp;(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(t)[0];e*=a,t&gt;i.parameterPositions[1]&amp;&amp;(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let a=this.time+t,o=this._loopCount;const l=i===vC;if(t===0)return o===-1?a:l&amp;&amp;(o&amp;1)===1?e-a:a;if(i===gC){o===-1&amp;&amp;(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(a&gt;=e)a=e;else if(a&lt;0)a=0;else{this.time=a;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t&lt;0?-1:1})}}else{if(o===-1&amp;&amp;(t&gt;=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),a&gt;=e||a&lt;0){const h=Math.floor(a/e);a-=e*h,o+=Math.abs(h);const d=this.repetitions-o;if(d&lt;=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=t&gt;0?e:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t&gt;0?1:-1});else{if(d===1){const p=t&lt;0;this._setEndings(p,!p,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=a;if(l&amp;&amp;(o&amp;1)===1)return e-a}return a}_setEndings(t,e,i){const a=this._interpolantSettings;i?(a.endingStart=zf,a.endingEnd=zf):(t?a.endingStart=this.zeroSlopeAtStart?zf:Lf:a.endingStart=P0,e?a.endingEnd=this.zeroSlopeAtEnd?zf:Lf:a.endingEnd=P0)}_scheduleFading(t,e,i){const a=this._mixer,o=a.time;let l=this._weightInterpolant;l===null&amp;&amp;(l=a._lendControlInterpolant(),this._weightInterpolant=l);const h=l.parameterPositions,d=l.sampleValues;return h[0]=o,d[0]=e,h[1]=o+t,d[1]=i,this}}const c5=new Float32Array(1);class u5 extends xl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,a=t._clip.tracks,o=a.length,l=t._propertyBindings,h=t._interpolants,d=i.uuid,p=this._bindingsByRootAndName;let x=p[d];x===void 0&amp;&amp;(x={},p[d]=x);for(let v=0;v!==o;++v){const y=a[v],S=y.name;let T=x[S];if(T!==void 0)++T.referenceCount,l[v]=T;else{if(T=l[v],T!==void 0){T._cacheIndex===null&amp;&amp;(++T.referenceCount,this._addInactiveBinding(T,d,S));continue}const C=e&amp;&amp;e._propertyBindings[v].binding.parsedPath;T=new wR(kn.create(i,S,C),y.ValueTypeName,y.getValueSize()),++T.referenceCount,this._addInactiveBinding(T,d,S),l[v]=T}h[v].resultBuffer=T.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,a=t._clip.uuid,o=this._actionsByClip[a];this._bindAction(t,o&amp;&amp;o.knownActions[0]),this._addInactiveAction(t,a,i)}const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.useCount++===0&amp;&amp;(this._lendBinding(o),o.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];--o.useCount===0&amp;&amp;(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&amp;&amp;e&lt;this._nActiveActions}_addInactiveAction(t,e,i){const a=this._actions,o=this._actionsByClip;let l=o[e];if(l===void 0)l={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=l;else{const h=l.knownActions;t._byClipCacheIndex=h.length,h.push(t)}t._cacheIndex=a.length,a.push(t),l.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],a=t._cacheIndex;i._cacheIndex=a,e[a]=i,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,l=this._actionsByClip,h=l[o],d=h.knownActions,p=d[d.length-1],x=t._byClipCacheIndex;p._byClipCacheIndex=x,d[x]=p,d.pop(),t._byClipCacheIndex=null;const v=h.actionByRoot,y=(t._localRoot||this._root).uuid;delete v[y],d.length===0&amp;&amp;delete l[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];--o.referenceCount===0&amp;&amp;this._removeInactiveBinding(o)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,a=this._nActiveActions++,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,a=--this._nActiveActions,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_addInactiveBinding(t,e,i){const a=this._bindingsByRootAndName,o=this._bindings;let l=a[e];l===void 0&amp;&amp;(l={},a[e]=l),l[i]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,a=i.rootNode.uuid,o=i.path,l=this._bindingsByRootAndName,h=l[a],d=e[e.length-1],p=t._cacheIndex;d._cacheIndex=p,e[p]=d,e.pop(),delete h[o],Object.keys(h).length===0&amp;&amp;delete l[a]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,a=this._nActiveBindings++,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,a=--this._nActiveBindings,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&amp;&amp;(i=new RM(new Float32Array(2),new Float32Array(2),1,c5),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,a=--this._nActiveControlInterpolants,o=e[a];t.__cacheIndex=a,e[a]=t,o.__cacheIndex=i,e[i]=o}clipAction(t,e,i){const a=e||this._root,o=a.uuid;let l=typeof t=="string"?W0.findByName(a,t):t;const h=l!==null?l.uuid:t,d=this._actionsByClip[h];let p=null;if(i===void 0&amp;&amp;(l!==null?i=l.blendMode:i=h_),d!==void 0){const v=d.actionByRoot[o];if(v!==void 0&amp;&amp;v.blendMode===i)return v;p=d.knownActions[0],l===null&amp;&amp;(l=p._clip)}if(l===null)return null;const x=new CR(this,l,e,i);return this._bindAction(x,p),this._addInactiveAction(x,h,o),x}existingAction(t,e){const i=e||this._root,a=i.uuid,o=typeof t=="string"?W0.findByName(i,t):t,l=o?o.uuid:t,h=this._actionsByClip[l];return h!==void 0&amp;&amp;h.actionByRoot[a]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i&gt;=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,a=this.time+=t,o=Math.sign(t),l=this._accuIndex^=1;for(let p=0;p!==i;++p)e[p]._update(a,t,o,l);const h=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)h[p].apply(l);return this}setTime(t){this.time=0;for(let e=0;e&lt;this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,a=this._actionsByClip,o=a[i];if(o!==void 0){const l=o.knownActions;for(let h=0,d=l.length;h!==d;++h){const p=l[h];this._deactivateAction(p);const x=p._cacheIndex,v=e[e.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,v._cacheIndex=x,e[x]=v,e.pop(),this._removeInactiveBindingsForAction(p)}delete a[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const l in i){const h=i[l].actionByRoot,d=h[e];d!==void 0&amp;&amp;(this._deactivateAction(d),this._removeInactiveAction(d))}const a=this._bindingsByRootAndName,o=a[e];if(o!==void 0)for(const l in o){const h=o[l];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&amp;&amp;(this._deactivateAction(i),this._removeInactiveAction(i))}}class f5 extends lM{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new p_(null,t,e,i),this._setTextureOptions(a),this.texture.isRenderTargetTexture=!0}}class IM{constructor(t){this.value=t}clone(){return new IM(this.value.clone===void 0?this.value:this.value.clone())}}let h5=0;class d5 extends xl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:h5++}),this.name="",this.usage=F0,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&amp;&amp;this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,a=e.length;i&lt;a;i++){const o=Array.isArray(e[i])?e[i]:[e[i]];for(let l=0;l&lt;o.length;l++)this.uniforms.push(o[l].clone())}return this}clone(){return new this.constructor().copy(this)}}class p5 extends v_{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class m5{constructor(t,e,i,a,o,l=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=a,this.count=o,this.normalized=l,this.version=0}set needsUpdate(t){t===!0&amp;&amp;this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const PE=new Qe;class PM{constructor(t,e,i=0,a=1/0){this.ray=new lp(t,e),this.near=i,this.far=a,this.camera=null,this.layers=new $d,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):on("Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return PE.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(PE),this}intersectObject(t,e=!0,i=[]){return yS(t,this,i,e),i.sort(VE),i}intersectObjects(t,e=!0,i=[]){for(let a=0,o=t.length;a&lt;o;a++)yS(t[a],this,i,e);return i.sort(VE),i}}function VE(n,t){return n.distance-t.distance}function yS(n,t,e,i){let a=!0;if(n.layers.test(t.layers)&amp;&amp;n.raycast(t,e)===!1&amp;&amp;(a=!1),a===!0&amp;&amp;i===!0){const o=n.children;for(let l=0,h=o.length;l&lt;h;l++)yS(o[l],t,e,!0)}}class g5{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(t){this._document=t,t.hidden!==void 0&amp;&amp;(this._pageVisibilityHandler=x5.bind(this),t.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&amp;&amp;(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(t){return this._timescale=t,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(t){return this._pageVisibilityHandler!==null&amp;&amp;this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(t!==void 0?t:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function x5(){this._document.hidden===!1&amp;&amp;this.reset()}class RR{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=nn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(nn(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class v5{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class VM{constructor(t,e,i,a){VM.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&amp;&amp;this.set(t,e,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i&lt;4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,a){const o=this.elements;return o[0]=t,o[2]=e,o[1]=i,o[3]=a,this}}const FE=new Zt;class y5{constructor(t=new Zt(1/0,1/0),e=new Zt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e&lt;i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=FE.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x&lt;this.min.x||this.max.y&lt;this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x&gt;=this.min.x&amp;&amp;t.x&lt;=this.max.x&amp;&amp;t.y&gt;=this.min.y&amp;&amp;t.y&lt;=this.max.y}containsBox(t){return this.min.x&lt;=t.min.x&amp;&amp;t.max.x&lt;=this.max.x&amp;&amp;this.min.y&lt;=t.min.y&amp;&amp;t.max.y&lt;=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x&gt;=this.min.x&amp;&amp;t.min.x&lt;=this.max.x&amp;&amp;t.max.y&gt;=this.min.y&amp;&amp;t.min.y&lt;=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,FE).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&amp;&amp;this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&amp;&amp;t.max.equals(this.max)}}const HE=new K,Tv=new K,Ed=new K,Td=new K,gb=new K,_5=new K,b5=new K;class S5{constructor(t=new K,e=new K){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){HE.subVectors(t,this.start),Tv.subVectors(this.end,this.start);const i=Tv.dot(Tv);let o=Tv.dot(HE)/i;return e&amp;&amp;(o=nn(o,0,1)),o}closestPointToPoint(t,e,i){const a=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(a).add(this.start)}distanceSqToLine3(t,e=_5,i=b5){const a=10000000000000001e-32;let o,l;const h=this.start,d=t.start,p=this.end,x=t.end;Ed.subVectors(p,h),Td.subVectors(x,d),gb.subVectors(h,d);const v=Ed.dot(Ed),y=Td.dot(Td),S=Td.dot(gb);if(v&lt;=a&amp;&amp;y&lt;=a)return e.copy(h),i.copy(d),e.sub(i),e.dot(e);if(v&lt;=a)o=0,l=S/y,l=nn(l,0,1);else{const T=Ed.dot(gb);if(y&lt;=a)l=0,o=nn(-T/v,0,1);else{const C=Ed.dot(Td),w=v*y-C*C;w!==0?o=nn((C*S-T*y)/w,0,1):o=0,l=(C*o+S)/y,l&lt;0?(l=0,o=nn(-T/v,0,1)):l&gt;1&amp;&amp;(l=1,o=nn((C-T)/v,0,1))}}return e.copy(h).add(Ed.multiplyScalar(o)),i.copy(d).add(Td.multiplyScalar(l)),e.sub(i),e.dot(e)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&amp;&amp;t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const GE=new K;class M5 extends Xn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new gn,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let l=0,h=1,d=32;l&lt;d;l++,h++){const p=l/d*Math.PI*2,x=h/d*Math.PI*2;a.push(Math.cos(p),Math.sin(p),1,Math.cos(x),Math.sin(x),1)}i.setAttribute("position",new Be(a,3));const o=new zs({fog:!1,toneMapped:!1});this.cone=new vl(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),GE.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GE),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const nu=new K,Av=new Qe,xb=new Qe;class E5 extends vl{constructor(t){const e=DR(t),i=new gn,a=[],o=[];for(let p=0;p&lt;e.length;p++){const x=e[p];x.parent&amp;&amp;x.parent.isBone&amp;&amp;(a.push(0,0,0),a.push(0,0,0),o.push(0,0,0),o.push(0,0,0))}i.setAttribute("position",new Be(a,3)),i.setAttribute("color",new Be(o,3));const l=new zs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;const h=new Se(255),d=new Se(65280);this.setColors(h,d)}updateMatrixWorld(t){const e=this.bones,i=this.geometry,a=i.getAttribute("position");xb.copy(this.root.matrixWorld).invert();for(let o=0,l=0;o&lt;e.length;o++){const h=e[o];h.parent&amp;&amp;h.parent.isBone&amp;&amp;(Av.multiplyMatrices(xb,h.matrixWorld),nu.setFromMatrixPosition(Av),a.setXYZ(l,nu.x,nu.y,nu.z),Av.multiplyMatrices(xb,h.parent.matrixWorld),nu.setFromMatrixPosition(Av),a.setXYZ(l+1,nu.x,nu.y,nu.z),l+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}setColors(t,e){const a=this.geometry.getAttribute("color");for(let o=0;o&lt;a.count;o+=2)a.setXYZ(o,t.r,t.g,t.b),a.setXYZ(o+1,e.r,e.g,e.b);return a.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function DR(n){const t=[];n.isBone===!0&amp;&amp;t.push(n);for(let e=0;e&lt;n.children.length;e++)t.push(...DR(n.children[e]));return t}class T5 extends ki{constructor(t,e,i){const a=new mg(e,4,2),o=new fc({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const A5=new K,jE=new Se,kE=new Se;class w5 extends Xn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new pg(e);a.rotateY(Math.PI*.5),this.material=new fc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&amp;&amp;(this.material.vertexColors=!0);const o=a.getAttribute("position"),l=new Float32Array(o.count*3);a.setAttribute("color",new ci(l,3)),this.add(new ki(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");jE.copy(this.light.color),kE.copy(this.light.groundColor);for(let i=0,a=e.count;i&lt;a;i++){const o=i&lt;a/2?jE:kE;e.setXYZ(i,o.r,o.g,o.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(A5.setFromMatrixPosition(this.light.matrixWorld).negate())}}class C5 extends vl{constructor(t=10,e=10,i=4473924,a=8947848){i=new Se(i),a=new Se(a);const o=e/2,l=t/e,h=t/2,d=[],p=[];for(let y=0,S=0,T=-h;y&lt;=e;y++,T+=l){d.push(-h,0,T,h,0,T),d.push(T,0,-h,T,0,h);const C=y===o?i:a;C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3,C.toArray(p,S),S+=3}const x=new gn;x.setAttribute("position",new Be(d,3)),x.setAttribute("color",new Be(p,3));const v=new zs({vertexColors:!0,toneMapped:!1});super(x,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class R5 extends vl{constructor(t=10,e=16,i=8,a=64,o=4473924,l=8947848){o=new Se(o),l=new Se(l);const h=[],d=[];if(e&gt;1)for(let v=0;v&lt;e;v++){const y=v/e*(Math.PI*2),S=Math.sin(y)*t,T=Math.cos(y)*t;h.push(0,0,0),h.push(S,0,T);const C=v&amp;1?o:l;d.push(C.r,C.g,C.b),d.push(C.r,C.g,C.b)}for(let v=0;v&lt;i;v++){const y=v&amp;1?o:l,S=t-t/i*v;for(let T=0;T&lt;a;T++){let C=T/a*(Math.PI*2),w=Math.sin(C)*S,M=Math.cos(C)*S;h.push(w,0,M),d.push(y.r,y.g,y.b),C=(T+1)/a*(Math.PI*2),w=Math.sin(C)*S,M=Math.cos(C)*S,h.push(w,0,M),d.push(y.r,y.g,y.b)}}const p=new gn;p.setAttribute("position",new Be(h,3)),p.setAttribute("color",new Be(d,3));const x=new zs({vertexColors:!0,toneMapped:!1});super(p,x),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const XE=new K,wv=new K,qE=new K;class D5 extends Xn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&amp;&amp;(e=1);let a=new gn;a.setAttribute("position",new Be([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const o=new zs({fog:!1,toneMapped:!1});this.lightPlane=new pu(a,o),this.add(this.lightPlane),a=new gn,a.setAttribute("position",new Be([0,0,0,0,0,1],3)),this.targetLine=new pu(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),XE.setFromMatrixPosition(this.light.matrixWorld),wv.setFromMatrixPosition(this.light.target.matrixWorld),qE.subVectors(wv,XE),this.lightPlane.lookAt(wv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(wv),this.targetLine.scale.z=qE.length()}}const Cv=new K,Fi=new m_;class N5 extends vl{constructor(t){const e=new gn,i=new zs({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],l={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(T,C){d(T),d(C)}function d(T){a.push(0,0,0),o.push(0,0,0),l[T]===void 0&amp;&amp;(l[T]=[]),l[T].push(a.length/3-1)}e.setAttribute("position",new Be(a,3)),e.setAttribute("color",new Be(o,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&amp;&amp;this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=l,this.update();const p=new Se(16755200),x=new Se(16711680),v=new Se(43775),y=new Se(16777215),S=new Se(3355443);this.setColors(p,x,v,y,S)}setColors(t,e,i,a,o){const h=this.geometry.getAttribute("color");return h.setXYZ(0,t.r,t.g,t.b),h.setXYZ(1,t.r,t.g,t.b),h.setXYZ(2,t.r,t.g,t.b),h.setXYZ(3,t.r,t.g,t.b),h.setXYZ(4,t.r,t.g,t.b),h.setXYZ(5,t.r,t.g,t.b),h.setXYZ(6,t.r,t.g,t.b),h.setXYZ(7,t.r,t.g,t.b),h.setXYZ(8,t.r,t.g,t.b),h.setXYZ(9,t.r,t.g,t.b),h.setXYZ(10,t.r,t.g,t.b),h.setXYZ(11,t.r,t.g,t.b),h.setXYZ(12,t.r,t.g,t.b),h.setXYZ(13,t.r,t.g,t.b),h.setXYZ(14,t.r,t.g,t.b),h.setXYZ(15,t.r,t.g,t.b),h.setXYZ(16,t.r,t.g,t.b),h.setXYZ(17,t.r,t.g,t.b),h.setXYZ(18,t.r,t.g,t.b),h.setXYZ(19,t.r,t.g,t.b),h.setXYZ(20,t.r,t.g,t.b),h.setXYZ(21,t.r,t.g,t.b),h.setXYZ(22,t.r,t.g,t.b),h.setXYZ(23,t.r,t.g,t.b),h.setXYZ(24,e.r,e.g,e.b),h.setXYZ(25,e.r,e.g,e.b),h.setXYZ(26,e.r,e.g,e.b),h.setXYZ(27,e.r,e.g,e.b),h.setXYZ(28,e.r,e.g,e.b),h.setXYZ(29,e.r,e.g,e.b),h.setXYZ(30,e.r,e.g,e.b),h.setXYZ(31,e.r,e.g,e.b),h.setXYZ(32,i.r,i.g,i.b),h.setXYZ(33,i.r,i.g,i.b),h.setXYZ(34,i.r,i.g,i.b),h.setXYZ(35,i.r,i.g,i.b),h.setXYZ(36,i.r,i.g,i.b),h.setXYZ(37,i.r,i.g,i.b),h.setXYZ(38,a.r,a.g,a.b),h.setXYZ(39,a.r,a.g,a.b),h.setXYZ(40,o.r,o.g,o.b),h.setXYZ(41,o.r,o.g,o.b),h.setXYZ(42,o.r,o.g,o.b),h.setXYZ(43,o.r,o.g,o.b),h.setXYZ(44,o.r,o.g,o.b),h.setXYZ(45,o.r,o.g,o.b),h.setXYZ(46,o.r,o.g,o.b),h.setXYZ(47,o.r,o.g,o.b),h.setXYZ(48,o.r,o.g,o.b),h.setXYZ(49,o.r,o.g,o.b),h.needsUpdate=!0,this}update(){const t=this.geometry,e=this.pointMap,i=1,a=1;let o,l;if(Fi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)o=1,l=0;else if(this.camera.coordinateSystem===hr)o=-1,l=1;else if(this.camera.coordinateSystem===Kd)o=0,l=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Qi("c",e,t,Fi,0,0,o),Qi("t",e,t,Fi,0,0,l),Qi("n1",e,t,Fi,-i,-a,o),Qi("n2",e,t,Fi,i,-a,o),Qi("n3",e,t,Fi,-i,a,o),Qi("n4",e,t,Fi,i,a,o),Qi("f1",e,t,Fi,-i,-a,l),Qi("f2",e,t,Fi,i,-a,l),Qi("f3",e,t,Fi,-i,a,l),Qi("f4",e,t,Fi,i,a,l),Qi("u1",e,t,Fi,i*.7,a*1.1,o),Qi("u2",e,t,Fi,-i*.7,a*1.1,o),Qi("u3",e,t,Fi,0,a*2,o),Qi("cf1",e,t,Fi,-i,0,l),Qi("cf2",e,t,Fi,i,0,l),Qi("cf3",e,t,Fi,0,-a,l),Qi("cf4",e,t,Fi,0,a,l),Qi("cn1",e,t,Fi,-i,0,o),Qi("cn2",e,t,Fi,i,0,o),Qi("cn3",e,t,Fi,0,-a,o),Qi("cn4",e,t,Fi,0,a,o),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Qi(n,t,e,i,a,o,l){Cv.set(a,o,l).unproject(i);const h=t[n];if(h!==void 0){const d=e.getAttribute("position");for(let p=0,x=h.length;p&lt;x;p++)d.setXYZ(h[p],Cv.x,Cv.y,Cv.z)}}const Rv=new os;class U5 extends vl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(24),o=new gn;o.setIndex(new ci(i,1)),o.setAttribute("position",new ci(a,3)),super(o,new zs({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&amp;&amp;Rv.setFromObject(this.object),Rv.isEmpty())return;const t=Rv.min,e=Rv.max,i=this.geometry.attributes.position,a=i.array;a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=t.x,a[4]=e.y,a[5]=e.z,a[6]=t.x,a[7]=t.y,a[8]=e.z,a[9]=e.x,a[10]=t.y,a[11]=e.z,a[12]=e.x,a[13]=e.y,a[14]=t.z,a[15]=t.x,a[16]=e.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=e.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class O5 extends vl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new gn;o.setIndex(new ci(i,1)),o.setAttribute("position",new Be(a,3)),super(o,new zs({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class L5 extends pu{constructor(t,e=1,i=16776960){const a=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],l=new gn;l.setAttribute("position",new Be(o,3)),l.computeBoundingSphere(),super(l,new zs({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new gn;d.setAttribute("position",new Be(h,3)),d.computeBoundingSphere(),this.add(new ki(d,new fc({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const YE=new K;let Dv,vb;class z5 extends Xn{constructor(t=new K(0,0,1),e=new K(0,0,0),i=1,a=16776960,o=i*.2,l=o*.2){super(),this.type="ArrowHelper",Dv===void 0&amp;&amp;(Dv=new gn,Dv.setAttribute("position",new Be([0,0,0,0,1,0],3)),vb=new hg(.5,1,5,1),vb.translate(0,-.5,0)),this.position.copy(e),this.line=new pu(Dv,new zs({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ki(vb,new fc({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,l)}setDirection(t){if(t.y&gt;.99999)this.quaternion.set(0,0,0,1);else if(t.y&lt;-.99999)this.quaternion.set(1,0,0,0);else{YE.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(YE,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class B5 extends vl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new gn;a.setAttribute("position",new Be(e,3)),a.setAttribute("color",new Be(i,3));const o=new zs({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(t,e,i){const a=new Se,o=this.geometry.attributes.color.array;return a.set(t),a.toArray(o,0),a.toArray(o,3),a.set(e),a.toArray(o,6),a.toArray(o,9),a.set(i),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class I5{constructor(){this.type="ShapePath",this.color=new Se,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Xy,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,a){return this.currentPath.quadraticCurveTo(t,e,i,a),this}bezierCurveTo(t,e,i,a,o,l){return this.currentPath.bezierCurveTo(t,e,i,a,o,l),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(M){const R=[];for(let D=0,O=M.length;D&lt;O;D++){const I=M[D],z=new kf;z.curves=I.curves,R.push(z)}return R}function i(M,R){const D=R.length;let O=!1;for(let I=D-1,z=0;z&lt;D;I=z++){let G=R[I],H=R[z],L=H.x-G.x,B=H.y-G.y;if(Math.abs(B)&gt;Number.EPSILON){if(B&lt;0&amp;&amp;(G=R[z],L=-L,H=R[I],B=-B),M.y&lt;G.y||M.y&gt;H.y)continue;if(M.y===G.y){if(M.x===G.x)return!0}else{const Y=B*(M.x-G.x)-L*(M.y-G.y);if(Y===0)return!0;if(Y&lt;0)continue;O=!O}}else{if(M.y!==G.y)continue;if(H.x&lt;=M.x&amp;&amp;M.x&lt;=G.x||G.x&lt;=M.x&amp;&amp;M.x&lt;=H.x)return!0}}return O}const a=Eo.isClockWise,o=this.subPaths;if(o.length===0)return[];let l,h,d;const p=[];if(o.length===1)return h=o[0],d=new kf,d.curves=h.curves,p.push(d),p;let x=!a(o[0].getPoints());x=t?!x:x;const v=[],y=[];let S=[],T=0,C;y[T]=void 0,S[T]=[];for(let M=0,R=o.length;M&lt;R;M++)h=o[M],C=h.getPoints(),l=a(C),l=t?!l:l,l?(!x&amp;&amp;y[T]&amp;&amp;T++,y[T]={s:new kf,p:C},y[T].s.curves=h.curves,x&amp;&amp;T++,S[T]=[]):S[T].push({h,p:C[0]});if(!y[0])return e(o);if(y.length&gt;1){let M=!1,R=0;for(let D=0,O=y.length;D&lt;O;D++)v[D]=[];for(let D=0,O=y.length;D&lt;O;D++){const I=S[D];for(let z=0;z&lt;I.length;z++){const G=I[z];let H=!0;for(let L=0;L&lt;y.length;L++)i(G.p,y[L].p)&amp;&amp;(D!==L&amp;&amp;R++,H?(H=!1,v[L].push(G)):M=!0);H&amp;&amp;v[D].push(G)}}R&gt;0&amp;&amp;M===!1&amp;&amp;(S=v)}let w;for(let M=0,R=y.length;M&lt;R;M++){d=y[M].s,p.push(d),w=S[M];for(let D=0,O=w.length;D&lt;O;D++)d.holes.push(w[D].h)}return p}}class P5 extends xl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){_e("Controls: connect() now requires an element.");return}this.domElement!==null&amp;&amp;this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}}function V5(n,t){const e=n.image&amp;&amp;n.image.width?n.image.width/n.image.height:1;return e&gt;t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function F5(n,t){const e=n.image&amp;&amp;n.image.width?n.image.width/n.image.height:1;return e&gt;t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function H5(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function _S(n,t,e,i){const a=G5(i);switch(e){case iM:return n*t;case og:return n*t/a.components*a.byteLength;case lg:return n*t/a.components*a.byteLength;case c_:return n*t*2/a.components*a.byteLength;case u_:return n*t*2/a.components*a.byteLength;case aM:return n*t*3/a.components*a.byteLength;case $i:return n*t*4/a.components*a.byteLength;case f_:return n*t*4/a.components*a.byteLength;case y0:case _0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case b0:case S0:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case py:case gy:return Math.max(n,16)*Math.max(t,8)/4;case dy:case my:return Math.max(n,8)*Math.max(t,8)/2;case xy:case vy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case yy:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case _y:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case by:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case Sy:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case My:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Ey:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case Ty:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case Ay:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case wy:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case Cy:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case Ry:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case Dy:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case Ny:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case Uy:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case Oy:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case Ly:case zy:case By:return Math.ceil(n/4)*Math.ceil(t/4)*16;case Iy:case Py:return Math.ceil(n/4)*Math.ceil(t/4)*8;case Vy:case Fy:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function G5(n){switch(n){case Ls:case s_:return{byteLength:1,components:1};case qd:case r_:case ma:return{byteLength:2,components:1};case o_:case l_:return{byteLength:2,components:4};case ml:case rg:case Li:return{byteLength:4,components:1};case eM:case nM:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class j5{static contain(t,e){return V5(t,e)}static cover(t,e){return F5(t,e)}static fill(t){return H5(t)}static getByteLength(t,e,i,a){return _S(t,e,i,a)}}typeof __THREE_DEVTOOLS__&lt;"u"&amp;&amp;__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Qf}}));typeof window&lt;"u"&amp;&amp;(window.__THREE__?_e("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Qf);/**
- * @license
- * Copyright 2010-2025 Three.js Authors
- * SPDX-License-Identifier: MIT
- */function NR(){let n=null,t=!1,e=null,i=null;function a(o,l){e(o,l),i=n.requestAnimationFrame(a)}return{start:function(){t!==!0&amp;&amp;e!==null&amp;&amp;(i=n.requestAnimationFrame(a),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){n=o}}}function k5(n){const t=new WeakMap;function e(h,d){const p=h.array,x=h.usage,v=p.byteLength,y=n.createBuffer();n.bindBuffer(d,y),n.bufferData(d,p,x),h.onUploadCallback();let S;if(p instanceof Float32Array)S=n.FLOAT;else if(typeof Float16Array&lt;"u"&amp;&amp;p instanceof Float16Array)S=n.HALF_FLOAT;else if(p instanceof Uint16Array)h.isFloat16BufferAttribute?S=n.HALF_FLOAT:S=n.UNSIGNED_SHORT;else if(p instanceof Int16Array)S=n.SHORT;else if(p instanceof Uint32Array)S=n.UNSIGNED_INT;else if(p instanceof Int32Array)S=n.INT;else if(p instanceof Int8Array)S=n.BYTE;else if(p instanceof Uint8Array)S=n.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)S=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:S,bytesPerElement:p.BYTES_PER_ELEMENT,version:h.version,size:v}}function i(h,d,p){const x=d.array,v=d.updateRanges;if(n.bindBuffer(p,h),v.length===0)n.bufferSubData(p,0,x);else{v.sort((S,T)=&gt;S.start-T.start);let y=0;for(let S=1;S&lt;v.length;S++){const T=v[y],C=v[S];C.start&lt;=T.start+T.count+1?T.count=Math.max(T.count,C.start+C.count-T.start):(++y,v[y]=C)}v.length=y+1;for(let S=0,T=v.length;S&lt;T;S++){const C=v[S];n.bufferSubData(p,C.start*x.BYTES_PER_ELEMENT,x,C.start,C.count)}d.clearUpdateRanges()}d.onUploadCallback()}function a(h){return h.isInterleavedBufferAttribute&amp;&amp;(h=h.data),t.get(h)}function o(h){h.isInterleavedBufferAttribute&amp;&amp;(h=h.data);const d=t.get(h);d&amp;&amp;(n.deleteBuffer(d.buffer),t.delete(h))}function l(h,d){if(h.isInterleavedBufferAttribute&amp;&amp;(h=h.data),h.isGLBufferAttribute){const x=t.get(h);(!x||x.version&lt;h.version)&amp;&amp;t.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}const p=t.get(h);if(p===void 0)t.set(h,e(h,d));else if(p.version&lt;h.version){if(p.size!==h.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(p.buffer,h,d),p.version=h.version}}return{get:a,remove:o,update:l}}var X5=`#ifdef USE_ALPHAHASH
-	if ( diffuseColor.a &lt; getAlphaHashThreshold( vPosition ) ) discard;
-#endif`,q5=`#ifdef USE_ALPHAHASH
-	const float ALPHA_HASH_SCALE = 0.05;
-	float hash2D( vec2 value ) {
-		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
-	}
-	float hash3D( vec3 value ) {
-		return hash2D( vec2( hash2D( value.xy ), value.z ) );
-	}
-	float getAlphaHashThreshold( vec3 position ) {
-		float maxDeriv = max(
-			length( dFdx( position.xyz ) ),
-			length( dFdy( position.xyz ) )
-		);
-		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
-		vec2 pixScales = vec2(
-			exp2( floor( log2( pixScale ) ) ),
-			exp2( ceil( log2( pixScale ) ) )
-		);
-		vec2 alpha = vec2(
-			hash3D( floor( pixScales.x * position.xyz ) ),
-			hash3D( floor( pixScales.y * position.xyz ) )
-		);
-		float lerpFactor = fract( log2( pixScale ) );
-		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
-		float a = min( lerpFactor, 1.0 - lerpFactor );
-		vec3 cases = vec3(
-			x * x / ( 2.0 * a * ( 1.0 - a ) ),
-			( x - 0.5 * a ) / ( 1.0 - a ),
-			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
-		);
-		float threshold = ( x &lt; ( 1.0 - a ) )
-			? ( ( x &lt; a ) ? cases.x : cases.y )
-			: cases.z;
-		return clamp( threshold , 1.0e-6, 1.0 );
-	}
-#endif`,Y5=`#ifdef USE_ALPHAMAP
-	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
-#endif`,W5=`#ifdef USE_ALPHAMAP
-	uniform sampler2D alphaMap;
-#endif`,Z5=`#ifdef USE_ALPHATEST
-	#ifdef ALPHA_TO_COVERAGE
-	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
-	if ( diffuseColor.a == 0.0 ) discard;
-	#else
-	if ( diffuseColor.a &lt; alphaTest ) discard;
-	#endif
-#endif`,K5=`#ifdef USE_ALPHATEST
-	uniform float alphaTest;
-#endif`,Q5=`#ifdef USE_AOMAP
-	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
-	reflectedLight.indirectDiffuse *= ambientOcclusion;
-	#if defined( USE_CLEARCOAT ) 
-		clearcoatSpecularIndirect *= ambientOcclusion;
-	#endif
-	#if defined( USE_SHEEN ) 
-		sheenSpecularIndirect *= ambientOcclusion;
-	#endif
-	#if defined( USE_ENVMAP ) &amp;&amp; defined( STANDARD )
-		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
-		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
-	#endif
-#endif`,J5=`#ifdef USE_AOMAP
-	uniform sampler2D aoMap;
-	uniform float aoMapIntensity;
-#endif`,$5=`#ifdef USE_BATCHING
-	#if ! defined( GL_ANGLE_multi_draw )
-	#define gl_DrawID _gl_DrawID
-	uniform int _gl_DrawID;
-	#endif
-	uniform highp sampler2D batchingTexture;
-	uniform highp usampler2D batchingIdTexture;
-	mat4 getBatchingMatrix( const in float i ) {
-		int size = textureSize( batchingTexture, 0 ).x;
-		int j = int( i ) * 4;
-		int x = j % size;
-		int y = j / size;
-		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
-		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
-		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
-		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
-		return mat4( v1, v2, v3, v4 );
-	}
-	float getIndirectIndex( const in int i ) {
-		int size = textureSize( batchingIdTexture, 0 ).x;
-		int x = i % size;
-		int y = i / size;
-		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
-	}
-#endif
-#ifdef USE_BATCHING_COLOR
-	uniform sampler2D batchingColorTexture;
-	vec3 getBatchingColor( const in float i ) {
-		int size = textureSize( batchingColorTexture, 0 ).x;
-		int j = int( i );
-		int x = j % size;
-		int y = j / size;
-		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
-	}
-#endif`,tz=`#ifdef USE_BATCHING
-	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
-#endif`,ez=`vec3 transformed = vec3( position );
-#ifdef USE_ALPHAHASH
-	vPosition = vec3( position );
-#endif`,nz=`vec3 objectNormal = vec3( normal );
-#ifdef USE_TANGENT
-	vec3 objectTangent = vec3( tangent.xyz );
-#endif`,iz=`float G_BlinnPhong_Implicit( ) {
-	return 0.25;
-}

... (truncated; total 4407 lines) ...

+              sumi: 'rgb(5 6 7 / &lt;alpha-value&gt;)',
+              washi: 'rgb(247 242 231 / &lt;alpha-value&gt;)',
+              ai: 'rgb(31 58 95 / &lt;alpha-value&gt;)',
+              shu: 'rgb(214 69 61 / &lt;alpha-value&gt;)',
+              kin: 'rgb(200 162 74 / &lt;alpha-value&gt;)',
+            },
+            fontFamily: {
+              serif: ['"Zen Old Mincho"', 'ui-serif', 'Georgia', 'serif'],
+              sans: [
+                '"Noto Sans JP"',
+                'system-ui',
+                '-apple-system',
+                'BlinkMacSystemFont',
+                '"Segoe UI"',
+                'sans-serif'
+              ],
+              mono: [
+                '"IBM Plex Mono"',
+                'ui-monospace',
+                'SFMono-Regular',
+                'Menlo',
+                'Monaco',
+                'Consolas',
+                'monospace'
+              ]
+            }
+          }
+        }
+      };
+    &lt;/script&gt;
     &lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;
     &lt;link rel="preconnect" href="https://fonts.googleapis.com"&gt;
     &lt;link rel="preconnect" href="https://fonts.gstatic.com" crossorigin&gt;
-    &lt;link href="https://fonts.googleapis.com/css2?family=Zen+Old+Mincho:wght@400;500;700;900&amp;display=swap" rel="stylesheet"&gt;
+    &lt;link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&amp;family=Noto+Sans+JP:wght@300;400;500;600;700&amp;family=Zen+Old+Mincho:wght@400;500;700;900&amp;display=swap" rel="stylesheet"&gt;
     &lt;style&gt;
+      :root {
+        --sumi: #050607;
+        --washi: #f7f2e7;
+        --ai: #1f3a5f;
+        --shu: #d6453d;
+        --kin: #c8a24b;
+      }
+
       body {
         margin: 0;
         padding: 0;
-        font-family: 'Zen Old Mincho', serif;
-        background-color: #020403; /* Deep forest dark */
-        color: #e4e7e5;
+        font-family: 'Noto Sans JP', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
+        background:
+          radial-gradient(1200px circle at 20% 10%, rgba(31, 58, 95, 0.24), transparent 55%),
+          radial-gradient(1000px circle at 80% 20%, rgba(214, 69, 61, 0.14), transparent 60%),
+          radial-gradient(900px circle at 60% 110%, rgba(200, 162, 74, 0.10), transparent 60%),
+          linear-gradient(180deg, var(--sumi) 0%, #07090c 45%, var(--sumi) 100%);
+        color: var(--washi);
         overflow: hidden; /* Handled by R3F ScrollControls */
+        -webkit-font-smoothing: antialiased;
+        -moz-osx-font-smoothing: grayscale;
+      }
+
+      ::selection {
+        background: rgba(214, 69, 61, 0.35);
+        color: var(--washi);
       }
       
       /* Custom Scrollbar Hide */
@@ -31,6 +86,19 @@
         letter-spacing: 0.15em;
       }
 
+      .grid-overlay {
+        position: fixed;
+        inset: 0;
+        pointer-events: none;
+        z-index: 40;
+        opacity: 0.10;
+        mix-blend-mode: overlay;
+        background-image:
+          linear-gradient(to right, rgba(247, 242, 231, 0.08) 1px, transparent 1px),
+          linear-gradient(to bottom, rgba(247, 242, 231, 0.05) 1px, transparent 1px);
+        background-size: 64px 64px;
+      }
+
       .noise-overlay {
         position: fixed;
         top: 0;
@@ -38,15 +106,26 @@
         width: 100%;
         height: 100%;
         pointer-events: none;
-        z-index: 50;
-        opacity: 0.05;
+        z-index: 60;
+        opacity: 0.06;
         background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
       }
+
+      .vignette-overlay {
+        position: fixed;
+        inset: 0;
+        pointer-events: none;
+        z-index: 70;
+        opacity: 0.9;
+        background: radial-gradient(1200px circle at 50% 40%, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.55) 100%);
+      }
     &lt;/style&gt;
-  &lt;script type="module" crossorigin src="/assets/index-C0209CLX.js"&gt;&lt;/script&gt;
+  &lt;script type="module" crossorigin src="/assets/index-BYbMnbzP.js"&gt;&lt;/script&gt;
 &lt;/head&gt;
   &lt;body&gt;
     &lt;div id="root"&gt;&lt;/div&gt;
+    &lt;div class="grid-overlay"&gt;&lt;/div&gt;
     &lt;div class="noise-overlay"&gt;&lt;/div&gt;
+    &lt;div class="vignette-overlay"&gt;&lt;/div&gt;
   &lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
+&lt;/html&gt;
</pre></details></div></td>
            <td><div class="agent-meta"><span class="status-badge status-badge--completed">è©•ä¾¡å®Œäº†</span><span class="agent-label">ç·åˆ <strong class="score-strong">502/600</strong> ğŸ¥‡ / ãƒ¡ãƒ€ãƒ« <strong>ğŸ¥‡</strong>ï¼ˆ84/100ï¼‰</span></div><div class="agent-block"><div class="hex-wrap"><svg class="hex" width="150" height="150" viewBox="0 0 150 150" role="img" aria-label="6æŒ‡æ¨™ å…­è§’å½¢ãƒãƒ£ãƒ¼ãƒˆ"><polygon points="75.00,62.00 86.26,68.50 86.26,81.50 75.00,88.00 63.74,81.50 63.74,68.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,49.00 97.52,62.00 97.52,88.00 75.00,101.00 52.48,88.00 52.48,62.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,36.00 108.77,55.50 108.77,94.50 75.00,114.00 41.23,94.50 41.23,55.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,23.00 120.03,49.00 120.03,101.00 75.00,127.00 29.97,101.00 29.97,49.00" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/>
<polygon points="75.00,10.00 131.29,42.50 131.29,107.50 75.00,140.00 18.71,107.50 18.71,42.50" fill="none" stroke="rgba(44,58,64,0.18)" stroke-width="1"/><polygon points="75.00,15.20 129.04,43.80 125.66,104.25 75.00,121.80 33.34,99.05 31.09,49.65" fill="rgba(22,94,131,0.22)" stroke="rgba(22,94,131,0.55)" stroke-width="2"/></svg><ul class="metrics"><li><span class="metric-name">UI/UX</span><span class="metric-score">92ç‚¹</span></li><li><span class="metric-name">ä¸–ç•Œè¦³</span><span class="metric-score">96ç‚¹</span></li><li><span class="metric-name">æƒ…å ±è¨­è¨ˆ</span><span class="metric-score">90ç‚¹</span></li><li><span class="metric-name">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£</span><span class="metric-score">72ç‚¹</span></li><li><span class="metric-name">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</span><span class="metric-score">74ç‚¹</span></li><li><span class="metric-name">ã‚³ãƒ¼ãƒ‰å“è³ª</span><span class="metric-score">78ç‚¹</span></li></ul></div><div class="agent-links"><div><span class="kv">Branch</span> <code>task/task-1765797143095-0fe2ce</code></div><div><span class="kv">HEAD</span> <code>c43553f</code>ï¼ˆmainã‹ã‚‰5ã‚³ãƒŸãƒƒãƒˆï¼‰</div><div><span class="kv">Worktree</span> <a href="../../.worktrees/task-1765797143095-0fe2ce">../../.worktrees/task-1765797143095-0fe2ce</a></div><div><span class="kv">æˆæœç‰©</span> <a href="../../.worktrees/task-1765797143095-0fe2ce/index.html">index.html</a></div></div><div class="reasons"><div class="reason"><div class="reason-title">UI/UX 92ç‚¹</div><div class="reason-body">é‡‘ç¶™ã/éšœå­/å¼å½“ç®±ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½¿ã£ãŸæƒ…å ±ã®ã¾ã¨ã¾ã‚Šã€Aboutè©³ç´°ã¸ã®å°ç·šã€å›ºå®šãƒ­ã‚´/ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ’ãƒ³ãƒˆãªã©ä½“é¨“ã®ä¸€è²«æ€§ãŒé«˜ã„ï¼ˆãŸã ã—å›ºå®šãƒŠãƒ“ãŒç„¡ãå›éŠã¯ã‚„ã‚„å¼±ã„ï¼‰ã€‚</div></div><div class="reason"><div class="reason-title">ä¸–ç•Œè¦³ 96ç‚¹</div><div class="reason-body">å¢¨è‰²/ç”Ÿæˆã‚Š/é‡‘ç¶™ã/æœ±è‰²ã‚’æ ¸ã«ã€ç¸¦æ›¸ããƒ»æœ±å°ãƒ»å††ç›¸ãƒ»å’Œç´™ãƒ†ã‚¯ã‚¹ãƒãƒ£ãªã©â€œå’Œâ€ã®è¦ç´ ãŒUIå…¨ä½“ã«æº¶ã‘è¾¼ã‚“ã§ãŠã‚Šã€ä¸–ç•Œè¦³ã®å¯†åº¦ãŒçªå‡ºã€‚</div></div><div class="reason"><div class="reason-title">æƒ…å ±è¨­è¨ˆ 90ç‚¹</div><div class="reason-body">ã‚»ã‚¯ã‚·ãƒ§ãƒ³æ§‹æˆã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é‡ãŒååˆ†ã§ã€ä½œå“ç¾¤ï¼ˆéšå±¤ãƒ‡ãƒ¼ã‚¿ï¼‰â†’è©³ç´°â†’é€£çµ¡ã®æµã‚ŒãŒè‡ªç„¶ã€‚æ–‡ç« ã®æ¸©åº¦æ„Ÿã‚‚çµ±ä¸€ã€‚</div></div><div class="reason"><div class="reason-title">ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ 72ç‚¹</div><div class="reason-body">ãƒœã‚¿ãƒ³è¦ç´ /ãƒ†ã‚­ã‚¹ãƒˆã¯æ¦‚ã­èª­ã¿ã‚„ã™ã„ä¸€æ–¹ã€å‹•ãï¼ˆFramer Motion/3Dï¼‰ã«å¯¾ã™ã‚‹reduced-motioné…æ…®ã‚„ARIAç­‰ã®è£œåŠ©æƒ…å ±ãŒä¸è¶³ã€‚</div></div><div class="reason"><div class="reason-title">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ 74ç‚¹</div><div class="reason-body">detailè¡¨ç¤ºæ™‚ã«Canvasã‚’æ­¢ã‚ã‚‹æœ€é©åŒ–ã¯è‰¯ã„ãŒã€Tailwind CDN + è¤‡æ•°ãƒ•ã‚©ãƒ³ãƒˆ + ãƒªãƒƒãƒãªã‚¢ãƒ‹ãƒ¡/3Dã§åˆæœŸè² è·ã¯å¢—ãˆãŒã¡ã€‚</div></div><div class="reason"><div class="reason-title">ã‚³ãƒ¼ãƒ‰å“è³ª 78ç‚¹</div><div class="reason-body">ãƒ†ãƒ¼ãƒå®šæ•°ã‚„ã‚¯ãƒ©ã‚¹è¨­è¨ˆã¯ä¸€è²«ã—ã¦ã„ã‚‹ãŒã€`components/Overlay.tsx`ãŒå·¨å¤§ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼/ä¿å®ˆã‚³ã‚¹ãƒˆãŒé«˜ã„ã€‚`index.html`ã®inlined Tailwindè¨­å®šã‚‚é‹ç”¨é¢ã§èª²é¡Œã€‚</div></div></div><details class="snapshot-details"><summary class="details-toggle">git logï¼ˆmain..branchï¼‰</summary><pre>c43553f (task/task-1765797143095-0fe2ce) build: ãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèª - å’Œé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ãƒªãƒ‹ãƒ¥ãƒ¼ã‚¢ãƒ«å®Œäº†
be0dd5c feat: 3Dã‚·ãƒ¼ãƒ³ã‚’å’Œé¢¨ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã«èª¿æ•´
8b63509 feat: AboutDetailã‚’å’Œé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ã§å…¨é¢åˆ·æ–°
951baf6 feat: Overlayã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å’Œé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ã§å…¨é¢åˆ·æ–°
38274d0 feat: å’Œé¢¨ãƒ‡ã‚¶ã‚¤ãƒ³ã®åŸºç›¤ã‚’æ§‹ç¯‰ - ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆã¨ã‚¹ã‚¿ã‚¤ãƒ«è¨­å®š

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --statï¼ˆmain...branchï¼‰</summary><pre> App.tsx                                            |  43 +-
 components/AboutDetail.tsx                         | 353 ++++++------
 components/Experience.tsx                          |  68 ++-
 components/MountainWorld.tsx                       | 129 +++--
 components/Overlay.tsx                             | 589 +++++++++++++--------
 .../{index-C0209CLX.js =&gt; index-AtmsWVaX.js}       | 404 +++++++-------
 docs/index.html                                    | 266 +++++++++-
 index.html                                         | 264 ++++++++-
 8 files changed, 1385 insertions(+), 731 deletions(-)

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diff --name-statusï¼ˆmain...branchï¼‰</summary><pre>M	App.tsx
M	components/AboutDetail.tsx
M	components/Experience.tsx
M	components/MountainWorld.tsx
M	components/Overlay.tsx
R068	docs/assets/index-C0209CLX.js	docs/assets/index-AtmsWVaX.js
M	docs/index.html
M	index.html

</pre></details><details class="snapshot-details"><summary class="details-toggle">git diffï¼ˆæŠœç²‹ï¼‰</summary><pre>diff --git a/App.tsx b/App.tsx
index 5900150..bdb1b77 100644
--- a/App.tsx
+++ b/App.tsx
@@ -4,6 +4,14 @@ import { Loader, useContextBridge } from '@react-three/drei';
 import { Experience } from './components/Experience';
 import { DetailViewContext, DetailViewProvider, useDetailView } from './contexts/DetailViewContext';
 
+// å’Œã®è‰²å½©
+const COLORS = {
+  sumi: '#1a1a1a',      // å¢¨è‰²
+  kinari: '#f5f1eb',    // ç”Ÿæˆã‚Š
+  kintsugi: '#d4af37',  // é‡‘ç¶™ã
+  shu: '#c53d43',       // æœ±è‰²
+};
+
 // Inner component that uses the context
 const AppContent: React.FC = () =&gt; {
   const { isDetailOpen } = useDetailView();
@@ -11,9 +19,7 @@ const AppContent: React.FC = () =&gt; {
 
   return (
     &lt;&gt;
-      &lt;div
-        className="w-full h-screen bg-[#020403]"
-      &gt;
+      &lt;div className="w-full h-screen bg-sumi"&gt;
         &lt;Canvas
           shadows
           camera={{ position: [0, 0, 5], fov: 35 }}
@@ -22,26 +28,37 @@ const AppContent: React.FC = () =&gt; {
           frameloop={isDetailOpen ? 'never' : 'always'}
         &gt;
           &lt;ContextBridge&gt;
-            &lt;color attach="background" args={['#020403']} /&gt;
+            &lt;color attach="background" args={[COLORS.sumi]} /&gt;
             &lt;Suspense fallback={null}&gt;
               &lt;Experience /&gt;
             &lt;/Suspense&gt;
           &lt;/ContextBridge&gt;
         &lt;/Canvas&gt;
         &lt;Loader
-          containerStyles={{ background: '#020403' }}
-          innerStyles={{ width: '200px', height: '2px', background: '#1c2621' }}
-          barStyles={{ background: '#34d399', height: '2px' }}
-          dataStyles={{ fontFamily: 'Zen Old Mincho', fontSize: '12px', color: '#666' }}
+          containerStyles={{ background: COLORS.sumi }}
+          innerStyles={{ width: '200px', height: '1px', background: '#2a2a2a' }}
+          barStyles={{ background: COLORS.kintsugi, height: '1px' }}
+          dataStyles={{ fontFamily: 'Shippori Mincho', fontSize: '11px', color: '#666', letterSpacing: '0.1em' }}
         /&gt;
       &lt;/div&gt;
 
-      {/* Static Logo/Nav overlay if needed outside canvas */}
-      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        ITOPAN / ã‚¤ãƒˆãƒ‘ãƒ³
+      {/* å·¦ä¸Šãƒ­ã‚´ - ç¸¦æ›¸ãé¢¨ */}
+      &lt;div className="fixed top-6 left-6 z-40 pointer-events-none"&gt;
+        &lt;div className="flex flex-col items-start gap-1"&gt;
+          &lt;span className="text-kinari/60 text-[10px] tracking-[0.3em] font-gothic"&gt;ITOPAN&lt;/span&gt;
+          &lt;span className="text-kintsugi/40 text-[9px] tategaki-upright h-16"&gt;ä¼Šè—¤æ­£&lt;/span&gt;
+        &lt;/div&gt;
       &lt;/div&gt;
-      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none mix-blend-difference text-white/40 text-xs tracking-widest"&gt;
-        PORTFOLIO
+
+      {/* å³ä¸Š - æœ±å°é¢¨ */}
+      &lt;div className="fixed top-6 right-6 z-40 pointer-events-none"&gt;
+        &lt;div className="hanko text-[9px]"&gt;ä½œå“é›†&lt;/div&gt;
+      &lt;/div&gt;
+
+      {/* å³ä¸‹ - ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒ’ãƒ³ãƒˆ */}
+      &lt;div className="fixed bottom-8 right-6 z-40 pointer-events-none flex flex-col items-center gap-2"&gt;
+        &lt;span className="text-kinari/30 text-[9px] tracking-widest tategaki h-20"&gt;SCROLL&lt;/span&gt;
+        &lt;div className="w-px h-8 bg-gradient-to-b from-kintsugi/50 to-transparent"&gt;&lt;/div&gt;
       &lt;/div&gt;
     &lt;/&gt;
   );
diff --git a/components/AboutDetail.tsx b/components/AboutDetail.tsx
index 8a2264e..fb4e70e 100644
--- a/components/AboutDetail.tsx
+++ b/components/AboutDetail.tsx
@@ -1,23 +1,28 @@
 import React from 'react';
 import { motion, Variants } from 'framer-motion';
 
-// Lightweight animations for snappy page transitions
-const quickFade: Variants = {
-  hidden: { opacity: 0, y: 15 },
-  visible: { opacity: 1, y: 0, transition: { duration: 0.25, ease: "easeOut" } },
-  exit: { opacity: 0, transition: { duration: 0.15 } }
+// å’Œé¢¨ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ - ç­†ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯é¢¨
+const brushFade: Variants = {
+  hidden: { opacity: 0, y: 20, filter: 'blur(4px)' },
+  visible: {
+    opacity: 1,
+    y: 0,
+    filter: 'blur(0px)',
+    transition: { duration: 0.6, ease: [0.22, 1, 0.36, 1] }
+  },
+  exit: { opacity: 0, transition: { duration: 0.2 } }
 };
 
-const quickStagger: Variants = {
+const inkStagger: Variants = {
   hidden: { opacity: 0 },
   visible: {
     opacity: 1,
     transition: {
-      staggerChildren: 0.03,
-      delayChildren: 0.05
+      staggerChildren: 0.08,
+      delayChildren: 0.1
     }
   },
-  exit: { opacity: 0, transition: { duration: 0.15 } }
+  exit: { opacity: 0, transition: { duration: 0.2 } }
 };
 
 interface AboutDetailProps {
@@ -25,214 +30,229 @@ interface AboutDetailProps {
 }
 
 export const AboutDetail: React.FC&lt;AboutDetailProps&gt; = ({ onBack }) =&gt; {
-  // Scroll is handled by parent component using drei's useScroll
-
   return (
     &lt;motion.div
       initial="hidden"
       animate="visible"
       exit="exit"
-      variants={quickStagger}
-      className="w-full min-h-screen"
+      variants={inkStagger}
+      className="w-full min-h-screen font-mincho text-kinari"
     &gt;
-      {/* Fixed Back Button - Top Left */}
+      {/* Fixed Back Button - Top Left - å’Œé¢¨ */}
       &lt;motion.div
-        variants={quickFade}
+        variants={brushFade}
         className="fixed top-6 left-6 z-50"
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group flex items-center gap-2 text-xs tracking-widest bg-sumi/90 backdrop-blur-md px-4 py-3 border border-kintsugi/30 hover:border-kintsugi/60 text-kinari/70 hover:text-kinari transition-all duration-300"
         &gt;
-          &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
-            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
+          &lt;svg className="w-3 h-3 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
+            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M15 19l-7-7 7-7" /&gt;
           &lt;/svg&gt;
-          &lt;span&gt;BACK&lt;/span&gt;
+          &lt;span&gt;æˆ»ã‚‹&lt;/span&gt;
         &lt;/button&gt;
       &lt;/motion.div&gt;
 
-      {/* Fixed Back Button - Bottom Right (for scroll visibility) */}
+      {/* Fixed Back Button - Bottom Right - å’Œé¢¨ */}
       &lt;motion.div
-        variants={quickFade}
+        variants={brushFade}
         className="fixed bottom-6 right-6 z-50"
       &gt;
         &lt;button
           onClick={onBack}
-          className="group text-emerald-400 hover:text-emerald-300 flex items-center gap-2 text-sm font-mono tracking-widest bg-emerald-950/60 hover:bg-emerald-900/60 backdrop-blur-md px-5 py-3 rounded-md border-2 border-emerald-700/50 hover:border-emerald-500 transition-all duration-300 shadow-lg hover:shadow-emerald-500/20"
+          className="group flex items-center gap-2 text-xs tracking-widest bg-sumi/90 backdrop-blur-md px-4 py-3 border border-kintsugi/30 hover:border-kintsugi/60 text-kinari/70 hover:text-kinari transition-all duration-300"
         &gt;
-          &lt;svg className="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
-            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 19l-7-7 7-7" /&gt;
+          &lt;svg className="w-3 h-3 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"&gt;
+            &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={1.5} d="M15 19l-7-7 7-7" /&gt;
           &lt;/svg&gt;
-          &lt;span&gt;BACK&lt;/span&gt;
+          &lt;span&gt;æˆ»ã‚‹&lt;/span&gt;
         &lt;/button&gt;
       &lt;/motion.div&gt;
 
-      {/* Hero Section - Full viewport */}
-      &lt;section className="min-h-screen flex flex-col justify-center px-8 md:px-20 max-w-6xl mx-auto"&gt;
-        &lt;motion.div variants={quickFade}&gt;
-          &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;ABOUT&lt;/p&gt;
-          &lt;h1 className="text-5xl md:text-7xl font-serif text-stone-100 mb-6 leading-tight"&gt;
+      {/* Hero Section - å’Œé¢¨ */}
+      &lt;section className="min-h-screen flex flex-col justify-center px-6 md:px-16 lg:px-24 max-w-6xl mx-auto"&gt;
+        &lt;motion.div variants={brushFade} className="mb-8"&gt;
+          &lt;div className="flex items-center gap-4 mb-6"&gt;
+            &lt;div className="kintsugi-line w-12"&gt;&lt;/div&gt;
+            &lt;span className="text-kintsugi/60 text-xs tracking-[0.5em] font-gothic"&gt;ABOUT&lt;/span&gt;
+          &lt;/div&gt;
+          &lt;h1 className="text-4xl md:text-6xl lg:text-7xl text-kinari mb-4 leading-tight tracking-wide"&gt;
             ã‚¤ãƒˆãƒ‘ãƒ³ã«ã¤ã„ã¦
           &lt;/h1&gt;
+          &lt;p className="text-kintsugi/50 text-sm tracking-widest font-gothic"&gt;ä¼Šè—¤è²´å°‡ / TAKAMASA ITO&lt;/p&gt;
         &lt;/motion.div&gt;
 
-        &lt;motion.div variants={quickFade} className="max-w-3xl"&gt;
-          &lt;p className="text-xl md:text-2xl text-stone-300 leading-relaxed font-light mb-8"&gt;
+        &lt;motion.div variants={brushFade} className="max-w-3xl"&gt;
+          &lt;p className="text-lg md:text-xl text-kinari/80 leading-[2] mb-6"&gt;
             é–‹ç™º Ã— ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ– Ã— ç”ŸæˆAIã§ã€&lt;br /&gt;
-            ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€ã‚’å½¢ã«ã—ã¦ã„ã&lt;br /&gt;
-            &lt;span className="text-emerald-400 font-normal"&gt;ã‚¤ãƒˆãƒ‘ãƒ³ï¼ˆä¼Šè—¤è²´å°‡ï¼‰&lt;/span&gt;ã§ã™ã€‚
+            &lt;span className="text-kintsugi"&gt;ã€Œã“ã†ãªã£ãŸã‚‰é¢ç™½ã„ã€&lt;/span&gt;ã‚’å½¢ã«ã—ã¦ã„ãã€‚
           &lt;/p&gt;
-          &lt;p className="text-base md:text-lg text-stone-500 leading-relaxed font-light"&gt;
+          &lt;p className="text-sm md:text-base text-kinari/50 leading-[2]"&gt;
             é•·é‡ãƒ»åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã‚’æ‹ ç‚¹ã«ã€&lt;br /&gt;
             ã‚³ãƒ¼ãƒ‰ï¼ãƒ‡ã‚¶ã‚¤ãƒ³ï¼æ˜ åƒï¼æ–‡ç« ï¼ä½“é¨“è¨­è¨ˆã‚’è¡Œãæ¥ã—ãªãŒã‚‰ã€&lt;br /&gt;
             ç”ŸæˆAIã‚’å‰æã«ã—ãŸã‚‚ã®ã¥ãã‚Šã¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®è¨­è¨ˆã«å–ã‚Šçµ„ã‚“ã§ã„ã¾ã™ã€‚
           &lt;/p&gt;
         &lt;/motion.div&gt;
 
-        &lt;motion.div variants={quickFade} className="mt-12 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
-          &lt;div className="flex items-center gap-2 text-stone-600"&gt;
-            &lt;span className="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"&gt;&lt;/span&gt;
-            &lt;span className="text-sm"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
+        &lt;motion.div variants={brushFade} className="mt-10 flex flex-col sm:flex-row items-start sm:items-center gap-6"&gt;
+          &lt;div className="flex items-center gap-3 text-kinari/40"&gt;
+            &lt;div className="w-2 h-2 bg-matcha rounded-full animate-pulse"&gt;&lt;/div&gt;
+            &lt;span className="text-xs tracking-widest"&gt;é•·é‡çœŒåŒ—å®‰æ›‡éƒ¡&lt;/span&gt;
           &lt;/div&gt;
 
-          {/* Social Links */}
-          &lt;div className="flex items-center gap-4"&gt;
+          {/* Social Links - å’Œé¢¨ */}
+          &lt;div className="flex items-center gap-3"&gt;
             &lt;a
               href="https://x.com/takamasa045"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-2 px-4 py-2 bg-sumi/60 border border-kintsugi/20 hover:border-kintsugi/40 transition-all duration-300"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-4 h-4 text-kinari/50 group-hover:text-kinari transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;X / Twitter&lt;/span&gt;
+              &lt;span className="text-xs text-kinari/50 group-hover:text-kinari tracking-widest font-gothic transition-colors"&gt;X&lt;/span&gt;
             &lt;/a&gt;
             &lt;a
               href="https://note.com/azumimusuhi"
               target="_blank"
               rel="noopener noreferrer"
-              className="group flex items-center gap-3 px-6 py-3 bg-stone-900/80 border border-stone-700 hover:border-emerald-500/70 hover:bg-emerald-950/50 rounded-sm transition-all duration-300"
+              className="group flex items-center gap-2 px-4 py-2 bg-sumi/60 border border-kintsugi/20 hover:border-kintsugi/40 transition-all duration-300"
             &gt;
-              &lt;svg className="w-5 h-5 text-stone-300 group-hover:text-white transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
+              &lt;svg className="w-4 h-4 text-kinari/50 group-hover:text-kinari transition-colors" viewBox="0 0 24 24" fill="currentColor"&gt;
                 &lt;path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/&gt;
               &lt;/svg&gt;
-              &lt;span className="text-sm text-stone-300 group-hover:text-emerald-400 font-mono tracking-wide transition-colors"&gt;note&lt;/span&gt;
+              &lt;span className="text-xs text-kinari/50 group-hover:text-kinari tracking-widest font-gothic transition-colors"&gt;note&lt;/span&gt;
             &lt;/a&gt;
           &lt;/div&gt;
         &lt;/motion.div&gt;
       &lt;/section&gt;
 
-      {/* Vision Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      {/* Vision Section - å’Œé¢¨ */}
+      &lt;section className="py-24 px-6 md:px-16 lg:px-24"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
-          &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;VISION&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
+          &lt;motion.div variants={brushFade} className="mb-16 text-center"&gt;
+            &lt;div className="flex items-center justify-center gap-4 mb-6"&gt;
+              &lt;div className="kintsugi-line w-12"&gt;&lt;/div&gt;
+              &lt;span className="text-kintsugi/60 text-xs tracking-[0.5em] font-gothic"&gt;VISION&lt;/span&gt;
+              &lt;div className="kintsugi-line w-12"&gt;&lt;/div&gt;
+            &lt;/div&gt;
+            &lt;h2 className="text-2xl md:text-4xl text-kinari tracking-wide"&gt;æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸&lt;/h2&gt;
           &lt;/motion.div&gt;
 
-          &lt;motion.div variants={quickFade} className="max-w-4xl mx-auto space-y-8"&gt;
-            &lt;p className="text-lg md:text-xl text-stone-300 leading-relaxed font-light"&gt;
-              é–¢å¿ƒã®ä¸­å¿ƒã«ã‚ã‚‹ã®ã¯ã€æ—¥æœ¬ã®åœŸåœ°ã‚„æ–‡åŒ–ãŒå†…åŒ…ã—ã¦ããŸã€Œã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã€ã§ã™ã€‚
-            &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
-              åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã«æ®‹ã‚‹åœ°åã®ç”±æ¥ã€å²æ–™ã€æš®ã‚‰ã—ã®ä¸­ã«æ¯ã¥ãç¿’æ…£ã€‚
-              ã•ã‚‰ã«ã€ç¸„æ–‡ã‹ã‚‰ç©ã¿é‡ãªã£ã¦ããŸåœŸåœ°ã®å±¤ã‚„ã€å®‰æ›‡æ—ã®ç³»è­œã®ã‚ˆã†ãªæ–­ç‰‡ã«ã‚‚ç›®ã‚’å‘ã‘ã€
-              è³‡æ–™ã«ã‚ãŸã‚Šã€ç¾åœ°ã‚’æ­©ããªãŒã‚‰ã€æ‰‹è§¦ã‚Šã®ã‚ã‚‹æƒ…å ±ã‚’å°‘ã—ãšã¤é›†ã‚ã¦ã„ã¾ã™ã€‚
-            &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-400 leading-relaxed font-light"&gt;
-              ãã†ã—ãŸæ–­ç‰‡ã¯ã€å˜ãªã‚‹éå»ã®è¨˜éŒ²ã§ã¯ãªãã€
-              ç‰©èªæ€§ãƒ»æ€æƒ³ãƒ»ç¾æ„è­˜ã‚’å†…åŒ…ã—ãŸã€æ—¥æœ¬ç‹¬è‡ªã®æ–‡åŒ–è³‡æºã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
-              é›†ã‚ãŸæƒ…å ±ã‚’ç”ŸæˆAIã§æ•´ç†ãƒ»å†ç·¨é›†ã—ã€
-              ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
-              ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
-            &lt;/p&gt;
-            &lt;p className="text-base md:text-lg text-stone-300 leading-relaxed font-light bg-emerald-950/30 p-8 rounded-sm border border-emerald-900/30"&gt;
-              ã¾ãŸã€ãã®éç¨‹ã§ç”Ÿã¾ã‚Œã‚‹&lt;br /&gt;
-              ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
-              æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
-            &lt;/p&gt;
+          &lt;motion.div variants={brushFade} className="shoji p-8 md:p-12 relative max-w-4xl mx-auto"&gt;
+            &lt;div className="absolute inset-0 koushi-pattern opacity-20"&gt;&lt;/div&gt;
+            &lt;div className="relative z-10 space-y-6 text-sm md:text-base leading-[2]"&gt;
+              &lt;p className="text-kinari/80"&gt;
+                é–¢å¿ƒã®ä¸­å¿ƒã«ã‚ã‚‹ã®ã¯ã€æ—¥æœ¬ã®åœŸåœ°ã‚„æ–‡åŒ–ãŒå†…åŒ…ã—ã¦ããŸ&lt;span className="text-kintsugi border-b border-kintsugi/30"&gt;ã€Œã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã€&lt;/span&gt;ã§ã™ã€‚
+              &lt;/p&gt;
+              &lt;p className="text-kinari/60"&gt;
+                åŒ—ã‚¢ãƒ«ãƒ—ã‚¹å±±éº“ã«æ®‹ã‚‹åœ°åã®ç”±æ¥ã€å²æ–™ã€æš®ã‚‰ã—ã®ä¸­ã«æ¯ã¥ãç¿’æ…£ã€‚
+                ã•ã‚‰ã«ã€ç¸„æ–‡ã‹ã‚‰ç©ã¿é‡ãªã£ã¦ããŸåœŸåœ°ã®å±¤ã‚„ã€å®‰æ›‡æ—ã®ç³»è­œã®ã‚ˆã†ãªæ–­ç‰‡ã«ã‚‚ç›®ã‚’å‘ã‘ã€
+                è³‡æ–™ã«ã‚ãŸã‚Šã€ç¾åœ°ã‚’æ­©ããªãŒã‚‰ã€æ‰‹è§¦ã‚Šã®ã‚ã‚‹æƒ…å ±ã‚’å°‘ã—ãšã¤é›†ã‚ã¦ã„ã¾ã™ã€‚
+              &lt;/p&gt;
+              &lt;p className="text-kinari/60"&gt;
+                ãã†ã—ãŸæ–­ç‰‡ã¯ã€å˜ãªã‚‹éå»ã®è¨˜éŒ²ã§ã¯ãªãã€
+                ç‰©èªæ€§ãƒ»æ€æƒ³ãƒ»ç¾æ„è­˜ã‚’å†…åŒ…ã—ãŸã€æ—¥æœ¬ç‹¬è‡ªã®æ–‡åŒ–è³‡æºã ã¨æ‰ãˆã¦ã„ã¾ã™ã€‚
+                é›†ã‚ãŸæƒ…å ±ã‚’ç”ŸæˆAIã§æ•´ç†ãƒ»å†ç·¨é›†ã—ã€
+                ç‰©èªã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€æ˜ åƒã€ä½“é¨“ã¨ã„ã£ãŸå½¢ã¸ç¿»è¨³ã—ç›´ã™ã“ã¨ã§ã€
+                ç¾ä»£ã«é€šç”¨ã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¨ã—ã¦ç«‹ã¡ä¸Šã’ã¦ã„ãã¾ã™ã€‚
+              &lt;/p&gt;
+              &lt;div className="bg-sumi/40 p-6 border-l-2 border-kintsugi/40"&gt;
+                &lt;p className="text-kinari/80"&gt;
+                  ã€Œã©ã†ç·¨é›†ã—ã€ã©ã†æ¥ç¶šã—ã€ã©ã†ç™ºä¿¡ã™ã‚‹ã‹ã€ã¨ã„ã†æ–¹æ³•è«–ãã®ã‚‚ã®ã‚‚å«ã‚ã¦ã€&lt;br /&gt;
+                  æ—¥æœ¬ã®ã‚½ãƒ•ãƒˆãƒ‘ãƒ¯ãƒ¼ã‚’æœªæ¥ã¸ã¤ãªãå®Ÿè·µã¨ã—ã¦ç™ºä¿¡ã—ã¦ã„ã¾ã™ã€‚
+                &lt;/p&gt;
+              &lt;/div&gt;
+            &lt;/div&gt;
           &lt;/motion.div&gt;
         &lt;/div&gt;
       &lt;/section&gt;
 
-      {/* Philosophy Section */}
-      &lt;section className="py-32 px-8 md:px-20 bg-gradient-to-b from-transparent via-emerald-950/10 to-transparent"&gt;
+      {/* Philosophy Section - å’Œé¢¨ */}
+      &lt;section className="py-24 px-6 md:px-16 lg:px-24"&gt;
         &lt;div className="max-w-6xl mx-auto"&gt;
-          &lt;motion.div variants={quickFade} className="mb-20 text-center"&gt;
-            &lt;p className="text-emerald-500/60 font-mono text-sm tracking-widest mb-4"&gt;PHILOSOPHY&lt;/p&gt;
-            &lt;h2 className="text-3xl md:text-5xl font-serif text-stone-200"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
+          &lt;motion.div variants={brushFade} className="mb-16 text-center"&gt;
+            &lt;div className="flex items-center justify-center gap-4 mb-6"&gt;
+              &lt;div className="kintsugi-line w-12"&gt;&lt;/div&gt;
+              &lt;span className="text-kintsugi/60 text-xs tracking-[0.5em] font-gothic"&gt;PHILOSOPHY&lt;/span&gt;
+              &lt;div className="kintsugi-line w-12"&gt;&lt;/div&gt;
+            &lt;/div&gt;
+            &lt;h2 className="text-2xl md:text-4xl text-kinari tracking-wide"&gt;ç§ã®è€ƒãˆæ–¹&lt;/h2&gt;
           &lt;/motion.div&gt;
 
-          &lt;div className="space-y-24"&gt;
+          &lt;div className="space-y-16"&gt;
             {/* Philosophy 1 */}
-            &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
+            &lt;motion.div variants={brushFade} className="grid grid-cols-1 lg:grid-cols-12 gap-6 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;01&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-5xl md:text-6xl text-kintsugi/20"&gt;å£±&lt;/span&gt;
+                &lt;h3 className="text-lg md:text-xl text-kinari mt-2 leading-relaxed tracking-wide"&gt;
                   èº«éŠ­ã¨æ™‚é–“ã‚’ã¤ãè¾¼ã‚“ã§è¦‹ãˆã¦ããŸ&lt;br /&gt;ã€Œè‡ªåˆ†ãªã‚Šã®AIã€
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-kinari/60 leading-[2] text-sm space-y-4"&gt;
                 &lt;p&gt;
                   2022å¹´ã‹ã‚‰ç”»åƒç”ŸæˆAIã€2024å¹´ã¯å‹•ç”»ç”Ÿæˆã€2025å¹´ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼MCPãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«æ³¨åŠ›ã—ã¦ãã¾ã—ãŸã€‚
                   æ–°ã—ã„ãƒ¢ãƒ‡ãƒ«ã‚„ãƒ„ãƒ¼ãƒ«ãŒå‡ºã‚‹ãŸã³ã«è‡ªè…¹ã§è©¦ã—ç¶šã‘ã€ä»•äº‹ä»¥å¤–ã®å¤šãã®æ™‚é–“ã‚’AIã®æ¤œè¨¼ã¨å®Ÿé¨“ã«æ³¨ã„ã§ãã¾ã—ãŸã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
-                    &lt;li&gt;ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
-                    &lt;li&gt;ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
-                    &lt;li&gt;ç¾å ´ã§æ°—æŒã¡ã‚ˆãå›ã‚‹çµ„ã¿åˆã‚ã›ã¯ä½•ã‹&lt;/li&gt;
+                &lt;div className="bg-sumi/40 border-l-2 border-kintsugi/30 p-4"&gt;
+                  &lt;ul className="space-y-1 text-kinari/70"&gt;
+                    &lt;li&gt;ãƒ»ã“ã®ãƒ¢ãƒ‡ãƒ«ã¯ã©ã“ã¾ã§ä½¿ãˆã‚‹ã‹&lt;/li&gt;
+                    &lt;li&gt;ãƒ»ã©ã“ãŒã¾ã å³ã—ã„ã®ã‹&lt;/li&gt;
+                    &lt;li&gt;ãƒ»ç¾å ´ã§æ°—æŒã¡ã‚ˆãå›ã‚‹çµ„ã¿åˆã‚ã›ã¯ä½•ã‹&lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;
                   ãã‚Œã‚’è‡ªåˆ†ã®æ‰‹ã§ç¢ºã‹ã‚ç¶šã‘ã¦ããŸçµæœã€ãŠä»•äº‹ã«ãªã‚‹æ¡ˆä»¶ãŒå°‘ã—ãšã¤å¢—ãˆã¦ãã¦ã„ã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;p className="text-stone-200 text-lg bg-emerald-950/30 p-6 rounded-sm border border-emerald-900/30"&gt;
-                  ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
-                  &lt;span className="text-emerald-400"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
-                &lt;/p&gt;
+                &lt;div className="shoji p-4"&gt;
+                  &lt;p className="text-kinari/80"&gt;
+                    ãã®äººãƒ»ãã®ãƒãƒ¼ãƒ ã«ã¨ã£ã¦ã€ã©ã‚“ãªAIã®ä½¿ã„æ–¹ãŒã—ã£ãã‚Šãã‚‹ã®ã‹ã€‚&lt;br /&gt;
+                    &lt;span className="text-kintsugi"&gt;ãã‚Œãã‚Œã®ã€Œè‡ªåˆ†ãªã‚Šã®AIæ´»ç”¨ã‚¹ã‚¿ã‚¤ãƒ«ã€&lt;/span&gt;ã‚’ä¸€ç·’ã«è¦‹ã¤ã‘ã¦ã„ãä¼´èµ°å½¹ã§ã‚ã‚ŠãŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
+                  &lt;/p&gt;
+                &lt;/div&gt;
               &lt;/div&gt;
             &lt;/motion.div&gt;
 
             {/* Philosophy 2 */}
-            &lt;motion.div variants={quickFade} className="grid grid-cols-1 lg:grid-cols-12 gap-8 items-start"&gt;
+            &lt;motion.div variants={brushFade} className="grid grid-cols-1 lg:grid-cols-12 gap-6 items-start"&gt;
               &lt;div className="lg:col-span-4"&gt;
-                &lt;span className="text-6xl md:text-8xl font-serif text-emerald-900/50"&gt;02&lt;/span&gt;
-                &lt;h3 className="text-xl md:text-2xl text-stone-200 font-serif mt-4 leading-relaxed"&gt;
+                &lt;span className="text-5xl md:text-6xl text-kintsugi/20"&gt;å¼&lt;/span&gt;
+                &lt;h3 className="text-lg md:text-xl text-kinari mt-2 leading-relaxed tracking-wide"&gt;
                   é–‹ç™ºã¨ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã®ã‚ã„ã ã‚’ã€&lt;br /&gt;è¡Œãæ¥ã—ã‚„ã™ãã™ã‚‹
                 &lt;/h3&gt;
               &lt;/div&gt;
-              &lt;div className="lg:col-span-8 text-stone-400 leading-loose font-light space-y-6"&gt;
+              &lt;div className="lg:col-span-8 text-kinari/60 leading-[2] text-sm space-y-4"&gt;
                 &lt;p&gt;
                   ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã ã‘ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã ã‘ã€ã§ã¯ãªãã€
                   ã‚³ãƒ¼ãƒ‰ã‚‚ã€ãƒ‡ã‚¶ã‚¤ãƒ³ã‚‚ã€æ˜ åƒã‚‚ã€ãƒ†ã‚­ã‚¹ãƒˆã‚‚ã€ã‚†ã‚‹ãã¾ãŸã„ã§è§¦ã£ã¦ã„ã‘ã‚‹çŠ¶æ…‹ã‚’ã¤ãã‚‹ã“ã¨ã«é–¢å¿ƒãŒã‚ã‚Šã¾ã™ã€‚
                 &lt;/p&gt;
-                &lt;div className="bg-stone-900/30 border-l-2 border-emerald-500/50 p-6"&gt;
-                  &lt;ul className="space-y-2 text-stone-300"&gt;
-                    &lt;li&gt;ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
-                    &lt;li&gt;ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
+                &lt;div className="bg-sumi/40 border-l-2 border-kintsugi/30 p-4"&gt;
+                  &lt;ul className="space-y-1 text-kinari/70"&gt;
+                    &lt;li&gt;ãƒ»ã€ŒæŠ€è¡“ã¯ã‚ã‹ã‚‰ãªã„ã‘ã©ã€ä¸–ç•Œè¦³ã¯ã‚ã‚‹ã€&lt;/li&gt;
+                    &lt;li&gt;ãƒ»ã€Œã‚³ãƒ¼ãƒ‰ã¯æ›¸ã‘ã‚‹ã‘ã©ã€è¡¨ç¾ã®ã‚¢ã‚¤ãƒ‡ã‚¢ãŒæµ®ã‹ã³ã«ãã„ã€&lt;/li&gt;
                   &lt;/ul&gt;
                 &lt;/div&gt;
                 &lt;p&gt;

... (truncated; total 3895 lines) ...

+      }
+
       body {
         margin: 0;
         padding: 0;
-        font-family: 'Zen Old Mincho', serif;
-        background-color: #020403; /* Deep forest dark */
-        color: #e4e7e5;
-        overflow: hidden; /* Handled by R3F ScrollControls */
+        font-family: 'Shippori Mincho', 'Zen Old Mincho', serif;
+        background-color: #1a1a1a; /* å¢¨è‰² */
+        color: #f5f1eb; /* ç”Ÿæˆã‚Š */
+        overflow: hidden;
       }
-      
-      /* Custom Scrollbar Hide */
-      ::-webkit-scrollbar {
-        width: 0px;
-        background: transparent;
+
+      /* ç¸¦æ›¸ãã‚¹ã‚¿ã‚¤ãƒ« */
+      .tategaki {
+        writing-mode: vertical-rl;
+        text-orientation: mixed;
+        letter-spacing: 0.2em;
       }
 
-      .vertical-text {
+      .tategaki-upright {
         writing-mode: vertical-rl;
         text-orientation: upright;
         letter-spacing: 0.15em;
       }
 
-      .noise-overlay {
+      /* å’Œç´™ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
+      .washi-overlay {
         position: fixed;
         top: 0;
         left: 0;
@@ -39,14 +111,174 @@
         height: 100%;
         pointer-events: none;
         z-index: 50;
-        opacity: 0.05;
-        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
+        opacity: 0.03;
+        mix-blend-mode: overlay;
+        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='washi'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.04' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23washi)'/%3E%3C/svg%3E");
+      }
+
+      /* é‡‘ç¶™ããƒ©ã‚¤ãƒ³ */
+      .kintsugi-line {
+        background: linear-gradient(90deg, transparent, #d4af37 20%, #d4af37 80%, transparent);
+        height: 1px;
+        opacity: 0.6;
+      }
+
+      .kintsugi-line-v {
+        background: linear-gradient(180deg, transparent, #d4af37 20%, #d4af37 80%, transparent);
+        width: 1px;
+        opacity: 0.6;
+      }
+
+      /* ç­†ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯é¢¨ãƒœãƒ¼ãƒ€ãƒ¼ */
+      .brush-border {
+        position: relative;
+      }
+
+      .brush-border::after {
+        content: '';
+        position: absolute;
+        bottom: -2px;
+        left: 0;
+        width: 100%;
+        height: 3px;
+        background: linear-gradient(90deg,
+          transparent 0%,
+          #1a1a1a 5%,
+          #1a1a1a 40%,
+          transparent 45%,
+          #1a1a1a 50%,
+          #1a1a1a 95%,
+          transparent 100%
+        );
+        opacity: 0.8;
+      }
+
+      /* æ ¼å­ãƒ‘ã‚¿ãƒ¼ãƒ³ */
+      .koushi-pattern {
+        background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' stroke='%23d4af37' stroke-width='0.5' opacity='0.1'%3E%3Cpath d='M0 20h40M20 0v40'/%3E%3C/g%3E%3C/svg%3E");
+      }
+
+      /* Bento Box ã‚¹ã‚¿ã‚¤ãƒ« */
+      .bento-box {
+        display: grid;
+        gap: 2px;
+        background: rgba(212, 175, 55, 0.1);
+        padding: 2px;
+        border-radius: 4px;
+      }
+
+      .bento-cell {
+        background: rgba(26, 26, 26, 0.95);
+        backdrop-filter: blur(10px);
+        padding: 1.5rem;
+        position: relative;
+        overflow: hidden;
+      }
+
+      .bento-cell::before {
+        content: '';
+        position: absolute;
+        top: 0;
+        left: 0;
+        right: 0;
+        bottom: 0;
+        background: linear-gradient(135deg, rgba(212, 175, 55, 0.05) 0%, transparent 60%);
+        pointer-events: none;
+      }
+
+      /* æ°´å¢¨ç”»é¢¨ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ */
+      .sumi-gradient {
+        background: linear-gradient(180deg,
+          #1a1a1a 0%,
+          #252525 30%,
+          #1a1a1a 60%,
+          #0f0f0f 100%
+        );
+      }
+
+      /* éšœå­é¢¨ã®åŠé€æ˜ */
+      .shoji {
+        background: rgba(245, 241, 235, 0.03);
+        backdrop-filter: blur(20px);
+        border: 1px solid rgba(212, 175, 55, 0.1);
+      }
+
+      /* æœ±å°é¢¨ã‚¹ã‚¿ãƒ³ãƒ— */
+      .hanko {
+        border: 2px solid #c53d43;
+        padding: 0.5em 0.8em;
+        font-size: 0.75em;
+        color: #c53d43;
+        letter-spacing: 0.1em;
+        transform: rotate(-3deg);
+      }
+
+      /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼éè¡¨ç¤º */
+      ::-webkit-scrollbar {
+        width: 0px;
+        background: transparent;
+      }
+
+      /* ã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ */
+      ::selection {
+        background: rgba(197, 61, 67, 0.3);
+        color: #f5f1eb;
+      }
+
+      /* å††ç›¸ï¼ˆç¦…ã®å††ï¼‰ã‚¹ã‚¿ã‚¤ãƒ« */
+      .enso {
+        border: 2px solid currentColor;
+        border-radius: 50%;
+        position: relative;
+      }
+
+      .enso::before {
+        content: '';
+        position: absolute;
+        top: -5%;
+        right: -5%;
+        width: 20%;
+        height: 20%;
+        background: #1a1a1a;
+        border-radius: 50%;
+      }
+
+      /* ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ */
+      @keyframes fadeInUp {
+        from {
+          opacity: 0;
+          transform: translateY(20px);
+        }
+        to {
+          opacity: 1;
+          transform: translateY(0);
+        }
+      }
+
+      .animate-fade-in-up {
+        animation: fadeInUp 0.8s ease-out forwards;
+      }
+
+      /* ç­†ã§æãã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
+      @keyframes drawLine {
+        from {
+          stroke-dashoffset: 1000;
+        }
+        to {
+          stroke-dashoffset: 0;
+        }
+      }
+
+      .draw-line {
+        stroke-dasharray: 1000;
+        stroke-dashoffset: 1000;
+        animation: drawLine 2s ease-out forwards;
       }
     &lt;/style&gt;
 &lt;/head&gt;
   &lt;body&gt;
     &lt;div id="root"&gt;&lt;/div&gt;
-    &lt;div class="noise-overlay"&gt;&lt;/div&gt;
+    &lt;div class="washi-overlay"&gt;&lt;/div&gt;
     &lt;script type="module" src="/index.tsx"&gt;&lt;/script&gt;
   &lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
+&lt;/html&gt;
</pre></details><details class="snapshot-details"><summary class="details-toggle">git status --porcelainï¼ˆworktreeï¼‰</summary><pre>(clean)
</pre></details></div></td>
          </tr>
        </tbody>
      </table>

      <div style="margin-top:16px; font-size:12px; color:#3a4b53;">
        <div><strong>æ¡ç‚¹ãƒ¡ãƒ¢</strong></div>
        <div>ãƒ»ã‚¹ã‚³ã‚¢(0-100)ã¯ç·åˆ600ç‚¹ã®å¹³å‡ã‚’ä¸¸ã‚ã¦ã„ã¾ã™ã€‚ãƒ¡ãƒ€ãƒ«ã¯ä¸Šä½3ä»¶ï¼ˆå¤±æ ¼é™¤å¤–ï¼‰ã«ä»˜ä¸ã€‚</div>
        <div>ãƒ»node_modulesãŒå­˜åœ¨ã—ãªã„ãŸã‚ã€ãƒ­ãƒ¼ã‚«ãƒ«ã§ã® <code>npm run build</code> å®Ÿè¡Œã¯æœ¬ãƒ¬ãƒãƒ¼ãƒˆã§ã¯æœªå®Ÿæ–½ï¼ˆã‚³ãƒŸãƒƒãƒˆ/å·®åˆ†ã‹ã‚‰è©•ä¾¡ï¼‰ã€‚</div>
        <div>ãƒ»å¤±æ ¼: ãƒ“ãƒ«ãƒ‰ä¸èƒ½/å‚ç…§ä¸èƒ½ãªã©ã€æˆæœç‰©ã¨ã—ã¦æˆç«‹ã—ãªã„çŠ¶æ…‹ã‚’æ¤œçŸ¥ã—ãŸå ´åˆã€‚</div>
        <div><strong>updatedAt</strong>: 2025-12-15T11:42:59Z</div>
      </div>
    </div>
  </body>
</html>
